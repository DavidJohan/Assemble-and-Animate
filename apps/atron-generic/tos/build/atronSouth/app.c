#define nx_struct struct
#define nx_union union
#define dbg(mode, format, ...) ((void)0)
#define dbg_clear(mode, format, ...) ((void)0)
#define dbg_active(mode) 0
# 152 "/usr/lib/gcc/avr/4.3.2/include/stddef.h> 3
typedef int ptrdiff_t;
#line 214
typedef unsigned int size_t;
#line 326
typedef int wchar_t;
# 8 "/usr/lib/ncc/deputy_nodeputy.h>
struct __nesc_attr_nonnull {
}  ;
#line 9
struct __nesc_attr_bnd {
#line 9
  void *lo, *hi;
}  ;
#line 10
struct __nesc_attr_bnd_nok {
#line 10
  void *lo, *hi;
}  ;
#line 11
struct __nesc_attr_count {
#line 11
  int n;
}  ;
#line 12
struct __nesc_attr_count_nok {
#line 12
  int n;
}  ;
#line 13
struct __nesc_attr_one {
}  ;
#line 14
struct __nesc_attr_one_nok {
}  ;
#line 15
struct __nesc_attr_dmemset {
#line 15
  int a1, a2, a3;
}  ;
#line 16
struct __nesc_attr_dmemcpy {
#line 16
  int a1, a2, a3;
}  ;
#line 17
struct __nesc_attr_nts {
}  ;
# 121 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/stdint.h> 3
typedef int int8_t __attribute((__mode__(__QI__))) ;
typedef unsigned int uint8_t __attribute((__mode__(__QI__))) ;
typedef int int16_t __attribute((__mode__(__HI__))) ;
typedef unsigned int uint16_t __attribute((__mode__(__HI__))) ;
typedef int int32_t __attribute((__mode__(__SI__))) ;
typedef unsigned int uint32_t __attribute((__mode__(__SI__))) ;

typedef int int64_t __attribute((__mode__(__DI__))) ;
typedef unsigned int uint64_t __attribute((__mode__(__DI__))) ;
#line 142
typedef int16_t intptr_t;




typedef uint16_t uintptr_t;
#line 159
typedef int8_t int_least8_t;




typedef uint8_t uint_least8_t;




typedef int16_t int_least16_t;




typedef uint16_t uint_least16_t;




typedef int32_t int_least32_t;




typedef uint32_t uint_least32_t;







typedef int64_t int_least64_t;






typedef uint64_t uint_least64_t;
#line 213
typedef int8_t int_fast8_t;




typedef uint8_t uint_fast8_t;




typedef int16_t int_fast16_t;




typedef uint16_t uint_fast16_t;




typedef int32_t int_fast32_t;




typedef uint32_t uint_fast32_t;







typedef int64_t int_fast64_t;






typedef uint64_t uint_fast64_t;
#line 273
typedef int64_t intmax_t;




typedef uint64_t uintmax_t;
# 77 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/inttypes.h> 3
typedef int32_t int_farptr_t;



typedef uint32_t uint_farptr_t;
# 235 "/usr/lib/ncc/nesc_nx.h>
static __inline uint8_t __nesc_ntoh_uint8(const void * source)  ;




static __inline uint8_t __nesc_hton_uint8(void * target, uint8_t value)  ;
#line 257
static __inline int8_t __nesc_ntoh_int8(const void * source)  ;
#line 257
static __inline int8_t __nesc_hton_int8(void * target, int8_t value)  ;






static __inline uint16_t __nesc_ntoh_uint16(const void * source)  ;




static __inline uint16_t __nesc_hton_uint16(void * target, uint16_t value)  ;
#line 385
typedef struct { unsigned char data[1]; } __attribute__((packed)) nx_int8_t;typedef int8_t __nesc_nxbase_nx_int8_t  ;
typedef struct { unsigned char data[2]; } __attribute__((packed)) nx_int16_t;typedef int16_t __nesc_nxbase_nx_int16_t  ;
typedef struct { unsigned char data[4]; } __attribute__((packed)) nx_int32_t;typedef int32_t __nesc_nxbase_nx_int32_t  ;
typedef struct { unsigned char data[8]; } __attribute__((packed)) nx_int64_t;typedef int64_t __nesc_nxbase_nx_int64_t  ;
typedef struct { unsigned char data[1]; } __attribute__((packed)) nx_uint8_t;typedef uint8_t __nesc_nxbase_nx_uint8_t  ;
typedef struct { unsigned char data[2]; } __attribute__((packed)) nx_uint16_t;typedef uint16_t __nesc_nxbase_nx_uint16_t  ;
typedef struct { unsigned char data[4]; } __attribute__((packed)) nx_uint32_t;typedef uint32_t __nesc_nxbase_nx_uint32_t  ;
typedef struct { unsigned char data[8]; } __attribute__((packed)) nx_uint64_t;typedef uint64_t __nesc_nxbase_nx_uint64_t  ;


typedef struct { unsigned char data[1]; } __attribute__((packed)) nxle_int8_t;typedef int8_t __nesc_nxbase_nxle_int8_t  ;
typedef struct { unsigned char data[2]; } __attribute__((packed)) nxle_int16_t;typedef int16_t __nesc_nxbase_nxle_int16_t  ;
typedef struct { unsigned char data[4]; } __attribute__((packed)) nxle_int32_t;typedef int32_t __nesc_nxbase_nxle_int32_t  ;
typedef struct { unsigned char data[8]; } __attribute__((packed)) nxle_int64_t;typedef int64_t __nesc_nxbase_nxle_int64_t  ;
typedef struct { unsigned char data[1]; } __attribute__((packed)) nxle_uint8_t;typedef uint8_t __nesc_nxbase_nxle_uint8_t  ;
typedef struct { unsigned char data[2]; } __attribute__((packed)) nxle_uint16_t;typedef uint16_t __nesc_nxbase_nxle_uint16_t  ;
typedef struct { unsigned char data[4]; } __attribute__((packed)) nxle_uint32_t;typedef uint32_t __nesc_nxbase_nxle_uint32_t  ;
typedef struct { unsigned char data[8]; } __attribute__((packed)) nxle_uint64_t;typedef uint64_t __nesc_nxbase_nxle_uint64_t  ;
# 120 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/string.h> 3
extern void *memset(void *arg_0x402afee8, int arg_0x402ae068, size_t arg_0x402ae200);
# 71 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/stdlib.h> 3
#line 68
typedef struct __nesc_unnamed4242 {
  int quot;
  int rem;
} div_t;





#line 74
typedef struct __nesc_unnamed4243 {
  long quot;
  long rem;
} ldiv_t;


typedef int (*__compar_fn_t)(const void *arg_0x402c18c8, const void *arg_0x402c1a60);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/tos.h>
typedef uint8_t bool;
enum __nesc_unnamed4244 {
#line 24
  FALSE = 0, TRUE = 1
};
typedef nx_int8_t nx_bool;
uint16_t TOS_NODE_ID = 1;






struct __nesc_attr_atmostonce {
};
#line 35
struct __nesc_attr_atleastonce {
};
#line 36
struct __nesc_attr_exactlyonce {
};
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/TinyError.h>
enum __nesc_unnamed4245 {
  SUCCESS = 0, 
  FAIL = 1, 
  ESIZE = 2, 
  ECANCEL = 3, 
  EOFF = 4, 
  EBUSY = 5, 
  EINVAL = 6, 
  ERETRY = 7, 
  ERESERVE = 8, 
  EALREADY = 9, 
  ENOMEM = 10, 
  ENOACK = 11, 
  ELAST = 11
};

typedef uint8_t error_t  ;

static inline error_t ecombine(error_t r1, error_t r2)  ;
# 38 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/blocking.h>
typedef void *lc_t;

enum __nesc_unnamed4246 {
  TASK_INITIALIZED, 
  TASK_WAITING, 
  TASK_DONE
};






#line 48
typedef struct btask {
  lc_t lc;
  uint8_t state;
} btask_t;
# 219 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/avr/fuse.h> 3
#line 214
typedef struct __nesc_unnamed4247 {

  unsigned char low;
  unsigned char high;
  unsigned char extended;
} __fuse_t;
# 210 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/avr/pgmspace.h> 3
typedef void prog_void __attribute((__progmem__)) ;
typedef char prog_char __attribute((__progmem__)) ;
typedef unsigned char prog_uchar __attribute((__progmem__)) ;

typedef int8_t prog_int8_t __attribute((__progmem__)) ;
typedef uint8_t prog_uint8_t __attribute((__progmem__)) ;
typedef int16_t prog_int16_t __attribute((__progmem__)) ;
typedef uint16_t prog_uint16_t __attribute((__progmem__)) ;
typedef int32_t prog_int32_t __attribute((__progmem__)) ;
typedef uint32_t prog_uint32_t __attribute((__progmem__)) ;

typedef int64_t prog_int64_t __attribute((__progmem__)) ;
typedef uint64_t prog_uint64_t __attribute((__progmem__)) ;
# 25 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/atm128const.h>
typedef uint8_t const_uint8_t __attribute((__progmem__)) ;
typedef uint16_t const_uint16_t __attribute((__progmem__)) ;
typedef uint32_t const_uint32_t __attribute((__progmem__)) ;
typedef int8_t const_int8_t __attribute((__progmem__)) ;
typedef int16_t const_int16_t __attribute((__progmem__)) ;
typedef int32_t const_int32_t __attribute((__progmem__)) ;
# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/atm128hardware.h>
static __inline void __nesc_enable_interrupt()  ;



static __inline void __nesc_disable_interrupt()  ;




typedef uint8_t __nesc_atomic_t;
__nesc_atomic_t __nesc_atomic_start(void );
void __nesc_atomic_end(__nesc_atomic_t original_SREG);









#line 102
__inline __nesc_atomic_t 
__nesc_atomic_start(void )   ;









#line 112
__inline void 
__nesc_atomic_end(__nesc_atomic_t original_SREG)   ;







typedef uint8_t mcu_power_t  ;


enum __nesc_unnamed4248 {
  ATM128_POWER_IDLE = 0, 
  ATM128_POWER_ADC_NR = 1, 
  ATM128_POWER_EXT_STANDBY = 2, 
  ATM128_POWER_SAVE = 3, 
  ATM128_POWER_STANDBY = 4, 
  ATM128_POWER_DOWN = 5
};


static inline mcu_power_t mcombine(mcu_power_t m1, mcu_power_t m2)  ;
# 34 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128Adc.h>
enum __nesc_unnamed4249 {
  ATM128_ADC_VREF_OFF = 0, 
  ATM128_ADC_VREF_AVCC = 1, 
  ATM128_ADC_VREF_RSVD, 
  ATM128_ADC_VREF_2_56 = 3
};


enum __nesc_unnamed4250 {
  ATM128_ADC_RIGHT_ADJUST = 0, 
  ATM128_ADC_LEFT_ADJUST = 1
};



enum __nesc_unnamed4251 {
  ATM128_ADC_SNGL_ADC0 = 0, 
  ATM128_ADC_SNGL_ADC1, 
  ATM128_ADC_SNGL_ADC2, 
  ATM128_ADC_SNGL_ADC3, 
  ATM128_ADC_SNGL_ADC4, 
  ATM128_ADC_SNGL_ADC5, 
  ATM128_ADC_SNGL_ADC6, 
  ATM128_ADC_SNGL_ADC7, 
  ATM128_ADC_DIFF_ADC00_10x, 
  ATM128_ADC_DIFF_ADC10_10x, 
  ATM128_ADC_DIFF_ADC00_200x, 
  ATM128_ADC_DIFF_ADC10_200x, 
  ATM128_ADC_DIFF_ADC22_10x, 
  ATM128_ADC_DIFF_ADC32_10x, 
  ATM128_ADC_DIFF_ADC22_200x, 
  ATM128_ADC_DIFF_ADC32_200x, 
  ATM128_ADC_DIFF_ADC01_1x, 
  ATM128_ADC_DIFF_ADC11_1x, 
  ATM128_ADC_DIFF_ADC21_1x, 
  ATM128_ADC_DIFF_ADC31_1x, 
  ATM128_ADC_DIFF_ADC41_1x, 
  ATM128_ADC_DIFF_ADC51_1x, 
  ATM128_ADC_DIFF_ADC61_1x, 
  ATM128_ADC_DIFF_ADC71_1x, 
  ATM128_ADC_DIFF_ADC02_1x, 
  ATM128_ADC_DIFF_ADC12_1x, 
  ATM128_ADC_DIFF_ADC22_1x, 
  ATM128_ADC_DIFF_ADC32_1x, 
  ATM128_ADC_DIFF_ADC42_1x, 
  ATM128_ADC_DIFF_ADC52_1x, 
  ATM128_ADC_SNGL_1_23, 
  ATM128_ADC_SNGL_GND
};







#line 85
typedef struct __nesc_unnamed4252 {

  uint8_t mux : 5;
  uint8_t adlar : 1;
  uint8_t refs : 2;
} Atm128Admux_t;




enum __nesc_unnamed4253 {
  ATM128_ADC_PRESCALE_2 = 0, 
  ATM128_ADC_PRESCALE_2b, 
  ATM128_ADC_PRESCALE_4, 
  ATM128_ADC_PRESCALE_8, 
  ATM128_ADC_PRESCALE_16, 
  ATM128_ADC_PRESCALE_32, 
  ATM128_ADC_PRESCALE_64, 
  ATM128_ADC_PRESCALE_128, 



  ATM128_ADC_PRESCALE
};


enum __nesc_unnamed4254 {
  ATM128_ADC_ENABLE_OFF = 0, 
  ATM128_ADC_ENABLE_ON
};


enum __nesc_unnamed4255 {
  ATM128_ADC_START_CONVERSION_OFF = 0, 
  ATM128_ADC_START_CONVERSION_ON
};


enum __nesc_unnamed4256 {
  ATM128_ADC_FREE_RUNNING_OFF = 0, 
  ATM128_ADC_FREE_RUNNING_ON
};


enum __nesc_unnamed4257 {
  ATM128_ADC_INT_FLAG_OFF = 0, 
  ATM128_ADC_INT_FLAG_ON
};


enum __nesc_unnamed4258 {
  ATM128_ADC_INT_ENABLE_OFF = 0, 
  ATM128_ADC_INT_ENABLE_ON
};










#line 141
typedef struct __nesc_unnamed4259 {

  uint8_t adps : 3;
  uint8_t adie : 1;
  uint8_t adif : 1;
  uint8_t adfr : 1;
  uint8_t adsc : 1;
  uint8_t aden : 1;
} Atm128Adcsra_t;

typedef uint8_t Atm128_ADCH_t;
typedef uint8_t Atm128_ADCL_t;
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/Connector.h>
enum __nesc_unnamed4260 {
  CONNECTOR_CURRENT_THRESHOLD = 120, 
  CONNECTOR_CURRENT_SAMPLING_PERIOD = 20, 
  MAX_OVERCURRENT_COUNTS = 10
};

enum __nesc_unnamed4261 {
  MALE_CONNECTOR_EXTENDED = 0, 
  MALE_CONNECTOR_RETRACTED = 1, 
  MALE_CONNECTOR_EXTENDING = 2, 
  MALE_CONNECTOR_RETRACTING = 3, 
  MALE_CONNECTOR_UNKNOWN = 4, 
  FEMALE_CONNECTOR_CONNECTED = 5, 
  FEMALE_CONNECTOR_DISCONNECTED = 6, 
  FEMALE_CONNECTOR_BEING_CONNECTED = 7, 
  FEMALE_CONNECTOR_BEING_DISCONNECTED = 8, 
  FEMALE_CONNECTOR_UNKNOWN = 9
};

typedef uint8_t connector_state_t;
typedef uint8_t connector_t;

enum connector_enums {
  NO_CONNECTOR = 0, 
  CONNECTOR_0 = 0x1, 
  CONNECTOR_1 = 0x2, 
  CONNECTOR_2 = 0x4, 
  CONNECTOR_3 = 0x8, 
  CONNECTOR_4 = 0x10, 
  CONNECTOR_5 = 0x20, 
  CONNECTOR_6 = 0x40, 
  CONNECTOR_7 = 0x80, 
  ALL_CONNECTORS = 0xff
};
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/module.h>
enum __nesc_unnamed4262 {
  NO_RESPONSE_TIMEOUT = 500
};




#line 56
typedef struct north_hemi_state {
  connector_state_t connector[4];
  uint16_t degrees;
} north_hemi_state_t;



#line 61
typedef struct south_hemi_state {
  connector_state_t connector[4];
} south_hemi_state_t;




#line 65
typedef struct module_state {
  connector_state_t connector[8];
  uint16_t degrees;
} module_state_t;
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/hardware.h>
enum __nesc_unnamed4263 {
  RS485_BAUDRATE = 76800L, 
  INFRARED_BAUDRATE = 38400L
};









enum __nesc_unnamed4264 {
  SOFTWARE_SERIAL_BAUDRATE = 2400, 
  BITBANGING_TIMER_PERIOD = 2220
};
# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.h>
typedef struct __nesc_unnamed4265 {
#line 29
  int notUsed;
} 
#line 29
TMilli;
typedef struct __nesc_unnamed4266 {
#line 30
  int notUsed;
} 
#line 30
T32khz;
typedef struct __nesc_unnamed4267 {
#line 31
  int notUsed;
} 
#line 31
TMicro;
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Timer.h>
enum __nesc_unnamed4268 {
  ATM128_CLK8_OFF = 0x0, 
  ATM128_CLK8_NORMAL = 0x1, 
  ATM128_CLK8_DIVIDE_8 = 0x2, 
  ATM128_CLK8_DIVIDE_32 = 0x3, 
  ATM128_CLK8_DIVIDE_64 = 0x4, 
  ATM128_CLK8_DIVIDE_128 = 0x5, 
  ATM128_CLK8_DIVIDE_256 = 0x6, 
  ATM128_CLK8_DIVIDE_1024 = 0x7
};

enum __nesc_unnamed4269 {
  ATM128_CLK16_OFF = 0x0, 
  ATM128_CLK16_NORMAL = 0x1, 
  ATM128_CLK16_DIVIDE_8 = 0x2, 
  ATM128_CLK16_DIVIDE_64 = 0x3, 
  ATM128_CLK16_DIVIDE_256 = 0x4, 
  ATM128_CLK16_DIVIDE_1024 = 0x5, 
  ATM128_CLK16_EXTERNAL_FALL = 0x6, 
  ATM128_CLK16_EXTERNAL_RISE = 0x7
};


enum __nesc_unnamed4270 {
  AVR_CLOCK_OFF = 0, 
  AVR_CLOCK_ON = 1, 
  AVR_CLOCK_DIVIDE_8 = 2
};


enum __nesc_unnamed4271 {
  ATM128_WAVE8_NORMAL = 0, 
  ATM128_WAVE8_PWM, 
  ATM128_WAVE8_CTC, 
  ATM128_WAVE8_PWM_FAST
};


enum __nesc_unnamed4272 {
  ATM128_COMPARE_OFF = 0, 
  ATM128_COMPARE_TOGGLE, 
  ATM128_COMPARE_CLEAR, 
  ATM128_COMPARE_SET
};
#line 99
#line 89
typedef union __nesc_unnamed4273 {

  uint8_t flat;
  struct __nesc_unnamed4274 {
    uint8_t cs : 3;
    uint8_t wgm1 : 1;
    uint8_t com : 2;
    uint8_t wgm0 : 1;
    uint8_t foc : 1;
  } bits;
} Atm128TimerControl_t;

typedef Atm128TimerControl_t Atm128_TCCR0_t;
typedef uint8_t Atm128_TCNT0_t;
typedef uint8_t Atm128_OCR0_t;

typedef Atm128TimerControl_t Atm128_TCCR2_t;
typedef uint8_t Atm128_TCNT2_t;
typedef uint8_t Atm128_OCR2_t;
#line 121
#line 111
typedef union __nesc_unnamed4275 {

  uint8_t flat;
  struct __nesc_unnamed4276 {
    uint8_t tcr0ub : 1;
    uint8_t ocr0ub : 1;
    uint8_t tcn0ub : 1;
    uint8_t as0 : 1;
    uint8_t rsvd : 4;
  } bits;
} Atm128Assr_t;
#line 137
#line 124
typedef union __nesc_unnamed4277 {

  uint8_t flat;
  struct __nesc_unnamed4278 {
    uint8_t toie0 : 1;
    uint8_t ocie0 : 1;
    uint8_t toie1 : 1;
    uint8_t ocie1b : 1;
    uint8_t ocie1a : 1;
    uint8_t ticie1 : 1;
    uint8_t toie2 : 1;
    uint8_t ocie2 : 1;
  } bits;
} Atm128_TIMSK_t;
#line 154
#line 141
typedef union __nesc_unnamed4279 {

  uint8_t flat;
  struct __nesc_unnamed4280 {
    uint8_t tov0 : 1;
    uint8_t ocf0 : 1;
    uint8_t tov1 : 1;
    uint8_t ocf1b : 1;
    uint8_t ocf1a : 1;
    uint8_t icf1 : 1;
    uint8_t tov2 : 1;
    uint8_t ocf2 : 1;
  } bits;
} Atm128_TIFR_t;
#line 169
#line 158
typedef union __nesc_unnamed4281 {

  uint8_t flat;
  struct __nesc_unnamed4282 {
    uint8_t psr321 : 1;
    uint8_t psr0 : 1;
    uint8_t pud : 1;
    uint8_t acme : 1;
    uint8_t rsvd : 3;
    uint8_t tsm : 1;
  } bits;
} Atm128_SFIOR_t;






enum __nesc_unnamed4283 {
  ATM128_TIMER_COMPARE_NORMAL = 0, 
  ATM128_TIMER_COMPARE_TOGGLE, 
  ATM128_TIMER_COMPARE_CLEAR, 
  ATM128_TIMER_COMPARE_SET
};
#line 193
#line 184
typedef union __nesc_unnamed4284 {

  uint8_t flat;
  struct __nesc_unnamed4285 {
    uint8_t wgm10 : 2;
    uint8_t comC : 2;
    uint8_t comB : 2;
    uint8_t comA : 2;
  } bits;
} Atm128TimerCtrlCompare_t;


typedef Atm128TimerCtrlCompare_t Atm128_TCCR1A_t;


typedef Atm128TimerCtrlCompare_t Atm128_TCCR3A_t;


enum __nesc_unnamed4286 {
  ATM128_WAVE16_NORMAL = 0, 
  ATM128_WAVE16_PWM_8BIT, 
  ATM128_WAVE16_PWM_9BIT, 
  ATM128_WAVE16_PWM_10BIT, 
  ATM128_WAVE16_CTC_COMPARE, 
  ATM128_WAVE16_PWM_FAST_8BIT, 
  ATM128_WAVE16_PWM_FAST_9BIT, 
  ATM128_WAVE16_PWM_FAST_10BIT, 
  ATM128_WAVE16_PWM_CAPTURE_LOW, 
  ATM128_WAVE16_PWM_COMPARE_LOW, 
  ATM128_WAVE16_PWM_CAPTURE_HIGH, 
  ATM128_WAVE16_PWM_COMPARE_HIGH, 
  ATM128_WAVE16_CTC_CAPTURE, 
  ATM128_WAVE16_RESERVED, 
  ATM128_WAVE16_PWM_FAST_CAPTURE, 
  ATM128_WAVE16_PWM_FAST_COMPARE
};
#line 232
#line 222
typedef union __nesc_unnamed4287 {

  uint8_t flat;
  struct __nesc_unnamed4288 {
    uint8_t cs : 3;
    uint8_t wgm32 : 2;
    uint8_t rsvd : 1;
    uint8_t ices1 : 1;
    uint8_t icnc1 : 1;
  } bits;
} Atm128TimerCtrlCapture_t;


typedef Atm128TimerCtrlCapture_t Atm128_TCCR1B_t;


typedef Atm128TimerCtrlCapture_t Atm128_TCCR3B_t;
#line 250
#line 241
typedef union __nesc_unnamed4289 {

  uint8_t flat;
  struct __nesc_unnamed4290 {
    uint8_t rsvd : 5;
    uint8_t focC : 1;
    uint8_t focB : 1;
    uint8_t focA : 1;
  } bits;
} Atm128TimerCtrlClock_t;


typedef Atm128TimerCtrlClock_t Atm128_TCCR1C_t;


typedef Atm128TimerCtrlClock_t Atm128_TCCR3C_t;



typedef uint8_t Atm128_TCNT1H_t;
typedef uint8_t Atm128_TCNT1L_t;
typedef uint8_t Atm128_TCNT3H_t;
typedef uint8_t Atm128_TCNT3L_t;


typedef uint8_t Atm128_OCR1AH_t;
typedef uint8_t Atm128_OCR1AL_t;
typedef uint8_t Atm128_OCR1BH_t;
typedef uint8_t Atm128_OCR1BL_t;
typedef uint8_t Atm128_OCR1CH_t;
typedef uint8_t Atm128_OCR1CL_t;


typedef uint8_t Atm128_OCR3AH_t;
typedef uint8_t Atm128_OCR3AL_t;
typedef uint8_t Atm128_OCR3BH_t;
typedef uint8_t Atm128_OCR3BL_t;
typedef uint8_t Atm128_OCR3CH_t;
typedef uint8_t Atm128_OCR3CL_t;


typedef uint8_t Atm128_ICR1H_t;
typedef uint8_t Atm128_ICR1L_t;
typedef uint8_t Atm128_ICR3H_t;
typedef uint8_t Atm128_ICR3L_t;
#line 300
#line 288
typedef union __nesc_unnamed4291 {

  uint8_t flat;
  struct __nesc_unnamed4292 {
    uint8_t ocie1c : 1;
    uint8_t ocie3c : 1;
    uint8_t toie3 : 1;
    uint8_t ocie3b : 1;
    uint8_t ocie3a : 1;
    uint8_t ticie3 : 1;
    uint8_t rsvd : 2;
  } bits;
} Atm128_ETIMSK_t;
#line 315
#line 303
typedef union __nesc_unnamed4293 {

  uint8_t flat;
  struct __nesc_unnamed4294 {
    uint8_t ocf1c : 1;
    uint8_t ocf3c : 1;
    uint8_t tov3 : 1;
    uint8_t ocf3b : 1;
    uint8_t ocf3a : 1;
    uint8_t icf3 : 1;
    uint8_t rsvd : 2;
  } bits;
} Atm128_ETIFR_t;
# 57 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/timer/AtronTimer.h>
typedef struct __nesc_unnamed4295 {
} 
#line 57
T64khz;
typedef struct __nesc_unnamed4296 {
} 
#line 58
T16mhz;
typedef struct __nesc_unnamed4297 {
} 
#line 59
T16khz;

typedef struct __nesc_unnamed4298 {
#line 61
  int notUsed;
} 
#line 61
P16MHz;
#line 73
typedef T64khz TZero;
typedef T16khz TTwo;
typedef uint32_t counter_zero_overflow_milli_t;
typedef T16mhz TThree;
typedef uint16_t counter_three_overflow_16mhz_t;
typedef uint32_t counter_three_overflow_micro_t;

enum __nesc_unnamed4299 {
  ATRON_PRESCALER_ZERO = ATM128_CLK8_DIVIDE_256, 
  ATRON_DIVIDE_ZERO_FOR_MILLI_LOG2 = 6, 
  ATRON_PRESCALER_ONE_PWM = ATM128_CLK16_NORMAL, 
  ATRON_PRESCALER_ONE_BITBANGING = ATM128_CLK16_NORMAL, 
  ATRON_PRESCALER_THREE_BITBANGING = ATM128_CLK16_NORMAL, 
  ATRON_TOP_ONE_PWM = 181, 
  ATRON_PRESCALER_TWO = ATM128_CLK8_NORMAL, 
  ATRON_PRESCALER_THREE = ATM128_CLK16_NORMAL, 
  ATRON_DIVIDE_THREE_FOR_16MHZ_LOG2 = 0, 
  ATRON_DIVIDE_THREE_FOR_MICRO_LOG2 = 4, 
  EXT_STANDBY_T0_THRESHOLD = 6
};





enum __nesc_unnamed4300 {
  PLATFORM_MHZ = 16
};
# 6 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/AM.h>
typedef nx_uint8_t nx_am_id_t;
typedef nx_uint8_t nx_am_group_t;
typedef nx_uint16_t nx_am_addr_t;

typedef uint8_t am_id_t;
typedef uint8_t am_group_t;
typedef uint16_t am_addr_t;

enum __nesc_unnamed4301 {
  AM_BROADCAST_ADDR = 0xffff
};









enum __nesc_unnamed4302 {
  TOS_AM_GROUP = 0x22, 
  TOS_AM_ADDRESS = 1
};
# 103 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/Serial.h>
typedef uint8_t uart_id_t;




enum __nesc_unnamed4303 {
  HDLC_FLAG_BYTE = 0x7e, 
  HDLC_CTLESC_BYTE = 0x7d
};



enum __nesc_unnamed4304 {
  TOS_SERIAL_ACTIVE_MESSAGE_ID = 0, 
  TOS_SERIAL_CC1000_ID = 1, 
  TOS_SERIAL_802_15_4_ID = 2, 
  TOS_SERIAL_SPI_ID = 3, 
  TOS_SERIAL_RS485_ID = 4, 
  TOS_SERIAL_INFRARED_ID = 5, 
  TOS_SERIAL_INFRARED_FWD_ID = 6, 
  TOS_SERIAL_RPC_REQUEST_ID = 7, 
  TOS_SERIAL_RPC_REPLY_ID = 8, 
  TOS_SERIAL_RS485_ACK_ID = 9, 
  TOS_SERIAL_UNKNOWN_ID = 255
};


enum __nesc_unnamed4305 {
  SERIAL_PROTO_ACK = 67, 
  SERIAL_PROTO_PACKET_ACK = 68, 
  SERIAL_PROTO_PACKET_NOACK = 69, 
  SERIAL_PROTO_PACKET_UNKNOWN = 255
};
#line 149
#line 137
typedef struct radio_stats {
  uint8_t version;
  uint8_t flags;
  uint8_t reserved;
  uint8_t platform;
  uint16_t MTU;
  uint16_t radio_crc_fail;
  uint16_t radio_queue_drops;
  uint16_t serial_crc_fail;
  uint16_t serial_tx_fail;
  uint16_t serial_short_packets;
  uint16_t serial_proto_drops;
} radio_stats_t;







#line 151
typedef nx_struct serial_header {
  nx_am_addr_t dest;
  nx_am_addr_t src;
  nx_uint8_t length;
  nx_am_group_t group;
  nx_am_id_t type;
} __attribute__((packed)) serial_header_t;




#line 159
typedef nx_struct serial_packet {
  serial_header_t header;
  nx_uint8_t data[];
} __attribute__((packed)) serial_packet_t;



#line 164
typedef nx_struct serial_metadata {
  nx_uint8_t ack;
} __attribute__((packed)) serial_metadata_t;
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/rs485_message.h>
#line 42
typedef nx_struct rs485_header {
} __attribute__((packed)) rs485_header_t;


#line 45
typedef nx_struct rs485_ack_header {
} __attribute__((packed)) rs485_ack_header_t;
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/infrared_message.h>
#line 47
typedef nx_struct infrared_header {
  nx_am_addr_t dest;
  nx_am_addr_t src;
  nx_uint8_t length;
  nx_am_group_t group;
  nx_am_id_t type;
  nx_bool ackRequested;
  nx_uint8_t connector;
  nx_uint8_t seqNo;
} __attribute__((packed)) infrared_header_t;


#line 58
typedef nx_struct infrared_footer {
} __attribute__((packed)) infrared_footer_t;




#line 62
typedef nx_struct infrared_metadata {
  nx_bool wasAcked;
} __attribute__((packed)) infrared_metadata_t;
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/rpc_message.h>
#line 39
typedef nx_struct rpc_header {
  nx_uint8_t type;
} __attribute__((packed)) rpc_header_t;
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/platform_message.h>
#line 44
typedef union message_header {
  rs485_header_t rs485;
  rpc_header_t rpc;
  infrared_header_t infrared;
  serial_header_t serial;
} message_header_t;


#line 51
typedef union message_footer {
} message_footer_t;



#line 54
typedef union message_metadata {
  infrared_metadata_t infrared;
} message_metadata_t;
# 19 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/message.h>
#line 14
typedef nx_struct message_t {
  nx_uint8_t header[sizeof(message_header_t )];
  nx_uint8_t data[28];
  nx_uint8_t footer[sizeof(message_footer_t )];
  nx_uint8_t metadata[sizeof(message_metadata_t )];
} __attribute__((packed)) message_t;
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/Leds.h>
enum __nesc_unnamed4306 {
  LEDS_LED0 = 1 << 0, 
  LEDS_LED1 = 1 << 1, 
  LEDS_LED2 = 1 << 2, 
  LEDS_LED3 = 1 << 3, 
  LEDS_LED4 = 1 << 4, 
  LEDS_LED5 = 1 << 5, 
  LEDS_LED6 = 1 << 6, 
  LEDS_LED7 = 1 << 7
};
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/crc.h>
uint16_t crcTable[256] __attribute((__progmem__))  = { 
0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5, 0x60c6, 0x70e7, 
0x8108, 0x9129, 0xa14a, 0xb16b, 0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 
0x1231, 0x0210, 0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6, 
0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c, 0xf3ff, 0xe3de, 
0x2462, 0x3443, 0x0420, 0x1401, 0x64e6, 0x74c7, 0x44a4, 0x5485, 
0xa56a, 0xb54b, 0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d, 
0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6, 0x5695, 0x46b4, 
0xb75b, 0xa77a, 0x9719, 0x8738, 0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 
0x48c4, 0x58e5, 0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823, 
0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969, 0xa90a, 0xb92b, 
0x5af5, 0x4ad4, 0x7ab7, 0x6a96, 0x1a71, 0x0a50, 0x3a33, 0x2a12, 
0xdbfd, 0xcbdc, 0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a, 
0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03, 0x0c60, 0x1c41, 
0xedae, 0xfd8f, 0xcdec, 0xddcd, 0xad2a, 0xbd0b, 0x8d68, 0x9d49, 
0x7e97, 0x6eb6, 0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70, 
0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a, 0x9f59, 0x8f78, 
0x9188, 0x81a9, 0xb1ca, 0xa1eb, 0xd10c, 0xc12d, 0xf14e, 0xe16f, 
0x1080, 0x00a1, 0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067, 
0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c, 0xe37f, 0xf35e, 
0x02b1, 0x1290, 0x22f3, 0x32d2, 0x4235, 0x5214, 0x6277, 0x7256, 
0xb5ea, 0xa5cb, 0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d, 
0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447, 0x5424, 0x4405, 
0xa7db, 0xb7fa, 0x8799, 0x97b8, 0xe75f, 0xf77e, 0xc71d, 0xd73c, 
0x26d3, 0x36f2, 0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634, 
0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9, 0xb98a, 0xa9ab, 
0x5844, 0x4865, 0x7806, 0x6827, 0x18c0, 0x08e1, 0x3882, 0x28a3, 
0xcb7d, 0xdb5c, 0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a, 
0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0, 0x2ab3, 0x3a92, 
0xfd2e, 0xed0f, 0xdd6c, 0xcd4d, 0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 
0x7c26, 0x6c07, 0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1, 
0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba, 0x8fd9, 0x9ff8, 
0x6e17, 0x7e36, 0x4e55, 0x5e74, 0x2e93, 0x3eb2, 0x0ed1, 0x1ef0 };









static uint16_t crcByte(uint16_t oldCrc, uint8_t byte) __attribute((noinline))  ;
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/Infrared.h>
enum __nesc_unnamed4307 {



  IR_MAX_TX_TIME = 13 + 28 / 3
};


enum __nesc_unnamed4308 {
  INFRARED_MESSAGE_TIMEOUT = sizeof(message_t ) / 3
};



enum __nesc_unnamed4309 {
  TX_FINISH_DELAY = 5000
};



enum __nesc_unnamed4310 {
  INVALID_AM_ADDRESS = 0xFFFE
};



enum schematics_connector_enums {
  HEMISPHERE_CONNECTOR_1 = 0x1, 
  HEMISPHERE_CONNECTOR_2 = 0x2, 
  HEMISPHERE_CONNECTOR_3 = 0x4, 
  HEMISPHERE_CONNECTOR_4 = 0x8, 
  HEMISPHERE_CONNECTOR_1234 = 0xf
};
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485.h>
enum __nesc_unnamed4311 {
  RS485_MESSAGE_TIMEOUT = sizeof(message_t ) / 10, 
  RS485_ACK_TIMEOUT = 10
};
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/Atm128Uart.h>
typedef uint8_t Atm128_UDR0_t;
typedef uint8_t Atm128_UDR1_t;
#line 48
#line 36
typedef union __nesc_unnamed4312 {
  struct Atm128_UCSRA_t {
    uint8_t mpcm : 1;
    uint8_t u2x : 1;
    uint8_t upe : 1;
    uint8_t dor : 1;
    uint8_t fe : 1;
    uint8_t udre : 1;
    uint8_t txc : 1;
    uint8_t rxc : 1;
  } bits;
  uint8_t flat;
} Atm128UartStatus_t;

typedef Atm128UartStatus_t Atm128_UCSR0A_t;
typedef Atm128UartStatus_t Atm128_UCSR1A_t;
#line 66
#line 54
typedef union __nesc_unnamed4313 {
  struct Atm128_UCSRB_t {
    uint8_t txb8 : 1;
    uint8_t rxb8 : 1;
    uint8_t ucsz2 : 1;
    uint8_t txen : 1;
    uint8_t rxen : 1;
    uint8_t udrie : 1;
    uint8_t txcie : 1;
    uint8_t rxcie : 1;
  } bits;
  uint8_t flat;
} Atm128UartControl_t;

typedef Atm128UartControl_t Atm128_UCSR0B_t;
typedef Atm128UartControl_t Atm128_UCSR1B_t;

enum __nesc_unnamed4314 {
  ATM128_UART_DATA_SIZE_5_BITS = 0, 
  ATM128_UART_DATA_SIZE_6_BITS = 1, 
  ATM128_UART_DATA_SIZE_7_BITS = 2, 
  ATM128_UART_DATA_SIZE_8_BITS = 3
};
#line 89
#line 79
typedef union __nesc_unnamed4315 {
  uint8_t flat;
  struct Atm128_UCSRC_t {
    uint8_t ucpol : 1;
    uint8_t ucsz : 2;
    uint8_t usbs : 1;
    uint8_t upm : 2;
    uint8_t umsel : 1;
    uint8_t rsvd : 1;
  } bits;
} Atm128UartMode_t;

typedef Atm128UartMode_t Atm128_UCSR0C_t;
typedef Atm128UartMode_t Atm128_UCSR1C_t;





enum __nesc_unnamed4316 {
  ATM128_19200_BAUD_4MHZ = 12, 
  ATM128_38400_BAUD_4MHZ = 6, 
  ATM128_57600_BAUD_4MHZ = 3, 

  ATM128_19200_BAUD_4MHZ_2X = 25, 
  ATM128_38400_BAUD_4MHZ_2X = 12, 
  ATM128_57600_BAUD_4MHZ_2X = 8, 

  ATM128_19200_BAUD_7MHZ = 23, 
  ATM128_38400_BAUD_7MHZ = 11, 
  ATM128_57600_BAUD_7MHZ = 7, 

  ATM128_19200_BAUD_7MHZ_2X = 47, 
  ATM128_38400_BAUD_7MHZ_2X = 23, 
  ATM128_57600_BAUD_7MHZ_2X = 15, 

  ATM128_19200_BAUD_8MHZ = 25, 
  ATM128_38400_BAUD_8MHZ = 12, 
  ATM128_57600_BAUD_8MHZ = 8, 

  ATM128_19200_BAUD_8MHZ_2X = 51, 
  ATM128_38400_BAUD_8MHZ_2X = 34, 
  ATM128_57600_BAUD_8MHZ_2X = 11
};

typedef uint8_t Atm128_UBRR0L_t;
typedef uint8_t Atm128_UBRR0H_t;

typedef uint8_t Atm128_UBRR1L_t;
typedef uint8_t Atm128_UBRR1H_t;
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.h>
typedef struct __nesc_unnamed4317 {
#line 40
  int notUsed;
} 
#line 40
P50Hz;
typedef struct __nesc_unnamed4318 {
#line 41
  int notUsed;
} 
#line 41
P32KHz;


typedef struct __nesc_unnamed4319 {
#line 44
  int notUsed;
} 
#line 44
P20kSteps;
typedef struct __nesc_unnamed4320 {
#line 45
  int notUsed;
} 
#line 45
P255Steps;
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128TimerExtras.h>
typedef uint8_t channel_id_t;

enum __nesc_unnamed4321 {
  ATM128_TIMER_16BIT_CHANNEL_A = 0x0, 
  ATM128_TIMER_16BIT_CHANNEL_B = 0x1, 
  ATM128_TIMER_16BIT_CHANNEL_C = 0x2
};
# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/Resource.h>
typedef uint8_t resource_client_id_t;
# 43 "/usr/lib/gcc/avr/4.3.2/include/stdarg.h> 3
typedef __builtin_va_list __gnuc_va_list;
#line 105
typedef __gnuc_va_list va_list;
# 245 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/avr_stdio.h>
struct __file {
  char *buf;
  unsigned char unget;
  uint8_t flags;
#line 264
  int size;
  int len;
  int (*put)(char arg_0x40a90dd0, struct __file *arg_0x40a8f010);
  int (*get)(struct __file *arg_0x40a8f400);
  void *udata;
};
#line 408
extern struct __file *( __iob)[];
#line 420
struct __file;
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/printf.h>
int printfflush();




#line 55
typedef nx_struct printf_msg {
  nx_uint8_t buffer[28];
} __attribute__((packed)) printf_msg_t;

enum __nesc_unnamed4322 {
  AM_PRINTF_MSG = 100
};
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static int uart_putchar(char c, struct __file *stream);
static struct __file atm128_stdout = 
{ .put = (int (*)(char c, struct __file *stream))uart_putchar, .get = (void *)0, .flags = 0x0002, .udata = 0 };
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/CustomRpc.h>
typedef uint8_t rpc_id_t;



enum __nesc_unnamed4323 {
  RPC_BOOT = 0, 
  RPC_LEDS = 1, 
  RPC_CONNECTOR1 = 2, 
  RPC_CONNECTOR2 = 3, 
  RPC_CONNECTOR3 = 4, 
  RPC_CONNECTOR4 = 5, 
  RPC_CENTRAL_JOINT = 6, 
  RPC_ACCELEROMETER_X = 7, 
  RPC_ACCELEROMETER_OTHER = 8, 
  RPC_DEGREES = 9, 
  RPC_PROXIMITY = 10, 
  RPC_INIT_NORTH_STATE = 11, 
  RPC_INIT_SOUTH_STATE = 12, 
  RPC_INFRARED_CHANNEL = 13, 
  RPC_DEBUG_LEDS = 14, 
  RPC_OTHER_HEMI_IR = 15, 
  RPC_DEGREES_AUTO_UPDATE = 16
};







#line 75
typedef nx_struct RpcRequestLeds {
  nx_uint8_t leds;
} __attribute__((packed)) RpcRequestLeds;



#line 79
typedef nx_struct RpcReplyLeds {
  nx_uint8_t leds;
} __attribute__((packed)) RpcReplyLeds;



#line 83
typedef nx_struct RpcRequestConnector {
  nx_uint8_t connector;
} __attribute__((packed)) RpcRequestConnector;



#line 87
typedef nx_struct RpcReplyConnector {
  nx_uint8_t connector;
} __attribute__((packed)) RpcReplyConnector;



#line 91
typedef nx_struct RpcRequestInfraredChannel {
  nx_uint8_t isLowSensitivity;
} __attribute__((packed)) RpcRequestInfraredChannel;

enum __nesc_unnamed4324 {
  CENTRAL_JOINT_OPCODE_STOP, 
  CENTRAL_JOINT_OPCODE_ROTATE, 
  CENTRAL_JOINT_OPCODE_ROTATE_DEGREES, 
  CENTRAL_JOINT_OPCODE_ROTATE_TO_DEGREES, 
  CENTRAL_JOINT_OPCODE_ROTATE_TO_DEGREES_SHORTEST_PATH, 
  CENTRAL_JOINT_OPCODE_STATUS_UPDATE, 
  CENTRAL_JOINT_OPCODE_SIGNAL_EVENT
};







#line 105
typedef nx_struct RpcRequestCentralJoint {
  nx_uint8_t opcode;
  nx_uint16_t degrees;
  nx_uint8_t speed;
  nx_bool direction;
  nx_bool locked;
} __attribute__((packed)) RpcRequestCentralJoint;








#line 113
typedef nx_struct RpcReplyCentralJoint {
  nx_uint8_t opcode;
  nx_uint16_t degrees;
  nx_uint8_t speed;
  nx_bool direction;
  nx_bool locked;
  nx_uint8_t error;
} __attribute__((packed)) RpcReplyCentralJoint;


#line 122
typedef nx_struct RpcRequestRead {
} __attribute__((packed)) RpcRequestRead;




#line 125
typedef nx_struct RpcReplyRead8 {
  nx_uint8_t result;
  nx_uint8_t value;
} __attribute__((packed)) RpcReplyRead8;




#line 130
typedef nx_struct RpcReplyRead16 {
  nx_uint8_t result;
  nx_uint16_t value;
} __attribute__((packed)) RpcReplyRead16;



#line 135
typedef nx_struct RpcRequestProximity {
  nx_uint8_t channel;
} __attribute__((packed)) RpcRequestProximity;



#line 139
typedef nx_struct RpcReplyProximity {
  nx_uint8_t value;
} __attribute__((packed)) RpcReplyProximity;



#line 143
typedef nx_struct RpcReplyOtherHemiIR {
  nx_uint8_t error;
} __attribute__((packed)) RpcReplyOtherHemiIR;



#line 147
typedef nx_struct RpcReplyDegreesAutoUpdate {
  nx_uint16_t degrees;
} __attribute__((packed)) RpcReplyDegreesAutoUpdate;
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronFlash.h>
enum __nesc_unnamed4325 {
  MODULE_ID_FLASH_ADDR = 0x0
};
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/Atm128VolumeSettings.h>
enum __nesc_unnamed4326 {
  AVR_WRITE_UNIT_LENGTH = 1, 
  AVR_ERASE_UNIT_LENGTH = 0x80, 
  AVR_WRITE_UNITS = 4096, 
  AVR_ERASE_UNITS = 32, 
  AVR_FILL_BYTE = 0xFF, 

  AVR_WRITE_UNIT_LENGTH_LOG2 = 0, 
  AVR_ERASE_UNIT_LENGTH_LOG2 = 7
};
# 57 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/avr/eeprom.h> 3
void __eerd_block(void *arg_0x40e37458, const void *arg_0x40e375f0, size_t arg_0x40e37788, uint8_t (*arg_0x40e37bf0)(const uint8_t *arg_0x40e37a78));
#line 193
static __inline __attribute((__pure__)) uint8_t eeprom_read_byte(const uint8_t *__p);
#line 227
#line 226
static __inline void 
eeprom_read_block(void *__dst, const void *__src, size_t __n);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/AtronAMservices.h>
enum __nesc_unnamed4327 {
  AM_IS_ALIVE = 128, 
  AM_ACKS = 129, 
  AM_VM_PROGRAM = 130, 
  AM_VM_COMMAND = 131, 
  AM_SIMPLE_MESSAGING = 199
};
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/neighbors.h>
#line 38
typedef struct neighborsTable {
  uint8_t populatedConnBitmask;
  am_addr_t neighbor[8];
} neighborsTable_t;
# 38 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.h>
enum __nesc_unnamed4328 {


  NEIGHBOR_EXPIRE_TIME = 2500, 

  IS_ALIVE_EXPIRE_TIME = 299, 
  IS_ALIVE_BASE_PERIOD = 250
};



#line 47
typedef nx_struct IsAliveMsg {
} __attribute__((packed)) 
IsAliveMsg;
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CenterMotor.h>
enum __nesc_unnamed4329 {
  PWM_BOOST = 3, 
  BOOST_DELAY = 10, 
  MOTOR_PWM_TOP = 181
};

enum __nesc_unnamed4330 {
  ONE_EIGHTH_REVOLUTION_DEGREES = 54, 
  ONE_QUARTER_REVOLUTION_DEGREES = 108, 
  HALF_REVOLUTION_DEGREES = 216, 
  THREE_QUARTER_REVOLUTION_DEGREES = 324, 
  FULL_REVOLUTION_DEGREES = 432
};

enum __nesc_unnamed4331 {
  MAX_MOTOR_PWM = 150
};

enum __nesc_unnamed4332 {
  NO_CONTROL, 
  POSITION_CONTROL
};


enum __nesc_unnamed4333 {
  POSITION_CONTROL_P = 10
};
# 9 "controller.h>
void controller_init();
# 16 "../../../include/atron-tinyos/ase/targets/atron/AtronApi.h>
void atronApi_setup();





void atronApi_ussrSetup(int portRC, int portEvent, char *host, void (*msgHandler)(char *arg_0x4133f4a0, char arg_0x4133f5f8, char arg_0x4133f750));





void atronApi_home();




void atronApi_setLeds(int i);




int atronApi_getLeds();





long atronApi_getRandomSeed();





char *atronApi_getName(char *returnString);




int atronApi_isRotating();




int atronApi_getJointPosition();




void atronApi_rotate(int dir);




void atronApi_rotateDegrees(int degrees);




void atronApi_rotateToDegreeInDegrees(int degrees);




void atronApi_rotateToDegree(float rad);




void atronApi_rotateToViaInDegrees(int goalDegree, int viaDegree);




void atronApi_rotateDirToInDegrees(int to, int dir);





float atronApi_getTime();




long atronApi_getMsTime();




float atronApi_getAngularPosition();




int atronApi_getAngularPositionDegrees();




void atronApi_disconnectAll();




void atronApi_connectAll();




int atronApi_canConnect(int i);




int atronApi_canDisconnect(int i);




int atronApi_isMale(int i);




void atronApi_connect(int i);




void atronApi_disconnect(int i);




int atronApi_isConnected(int i);




int atronApi_isDisconnected(int i);




void atronApi_rotateContinuous(float dir);




void atronApi_centerBrake();




void atronApi_centerStop();




int atronApi_isOtherConnectorNearby(int connector);




int atronApi_isObjectNearby(int connector);




short atronApi_getTiltX();




short atronApi_getTiltY();




short atronApi_getTiltZ();




void atronApi_yield();




void atronApi_delay(long ms);




int atronApi_sendMessage(char *message, char messageSize, char connector);




int atronApi_sendMessageToAll(char *message, char messageSize);




int atronApi_sendMessageToAllExcept(char *message, char messageSize, char except);





int atronApi_getHardwareID();




int atronApi_getBatteryLevel();
# 8 "../../../include/atron-tinyos/ase/infrastructure/Scheduler/Scheduler.h>
void ase_init(void (*ctrl_init)());
void ase_act();
void ase_handleMessage(char *message, char messageSize, char channel);
typedef TMilli AtronBootP__Timer__precision_tag;
enum HilTimerMilliC____nesc_unnamed4334 {
  HilTimerMilliC__TIMER_COUNT = 30U
};
typedef uint8_t HplAtm128Timer0C__Compare__size_type;
typedef uint8_t HplAtm128Timer0C__Timer__timer_size;
typedef uint8_t /*InitZeroP.InitZero*/Atm128TimerInitC__0__timer_size;
typedef /*InitZeroP.InitZero*/Atm128TimerInitC__0__timer_size /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__timer_size;
typedef T64khz /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__frequency_tag;
typedef uint8_t /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size;
typedef /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__frequency_tag /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__precision_tag;
typedef /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__size_type;
typedef /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__size_type;
typedef /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__timer_size;
typedef TZero /*CounterZero8C.NCounter*/Atm128CounterC__0__frequency_tag;
typedef uint8_t /*CounterZero8C.NCounter*/Atm128CounterC__0__timer_size;
typedef /*CounterZero8C.NCounter*/Atm128CounterC__0__frequency_tag /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__precision_tag;
typedef /*CounterZero8C.NCounter*/Atm128CounterC__0__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__size_type;
typedef /*CounterZero8C.NCounter*/Atm128CounterC__0__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__timer_size;
typedef TMilli /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_precision_tag;
typedef uint32_t /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type;
typedef T64khz /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_precision_tag;
typedef uint8_t /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type;
typedef counter_zero_overflow_milli_t /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__upper_count_type;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_precision_tag /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__precision_tag;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__size_type;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_precision_tag /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__precision_tag;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__size_type;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_precision_tag /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__precision_tag;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__size_type;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_precision_tag /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__precision_tag;
typedef /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__size_type;
typedef TMilli /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__precision_tag;
typedef /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__precision_tag /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__precision_tag;
typedef uint32_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type;
typedef /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__precision_tag /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__precision_tag;
typedef TMilli /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__precision_tag;
typedef /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__precision_tag /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__precision_tag;
typedef /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__precision_tag /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__precision_tag;
typedef TMilli /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__precision_tag;
typedef /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__precision_tag /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__LocalTime__precision_tag;
typedef /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__precision_tag /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__precision_tag;
typedef uint32_t /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__size_type;
typedef TMilli RS485SerialP__Watchdog__precision_tag;
typedef TMilli RS485SerialDispatcherP__ackTimeout__precision_tag;
typedef TMilli RS485SerialDispatcherP__delayTimer__precision_tag;
typedef TMicro HplAtm128UartP__BusyWait__precision_tag;
typedef uint16_t HplAtm128UartP__BusyWait__size_type;
typedef uint8_t HplAtm128InterruptSigP__GetPortA__data_type;
typedef uint16_t HplAtm128Timer1P__CompareA__size_type;
typedef uint16_t HplAtm128Timer1P__Capture__size_type;
typedef uint16_t HplAtm128Timer1P__CompareB__size_type;
typedef uint16_t HplAtm128Timer1P__CompareC__size_type;
typedef uint16_t HplAtm128Timer1P__Timer__timer_size;
typedef uint16_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__timer_size;
typedef /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__timer_size /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__timer_size;
typedef P16MHz /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__frequency_tag;
typedef /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__frequency_tag /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__frequency_tag;
typedef uint16_t /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__size_type;
typedef uint16_t /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__HplAtm128Timer__timer_size;
typedef uint16_t /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__size_type;
typedef TMicro BusyWaitMicroC__BusyWait__precision_tag;
typedef uint16_t BusyWaitMicroC__BusyWait__size_type;
typedef uint16_t RandomMlcgC__SeedInit__parameter;
enum InfraredDispatcherC____nesc_unnamed4335 {
  InfraredDispatcherC__CLIENT_ID = 0U
};
typedef P16MHz InfraredSerialP__powerPwm__frequency_tag;
typedef TMilli InfraredSerialP__Watchdog__precision_tag;
typedef uint8_t InfraredChannelP__GetPortA__data_type;
typedef P16MHz InfraredChannelP__powerPwm__frequency_tag;
typedef uint16_t BitBangingImplP__Timer__size_type;
typedef uint16_t HplAtm128Timer3P__CompareA__size_type;
typedef uint16_t HplAtm128Timer3P__Capture__size_type;
typedef uint16_t HplAtm128Timer3P__CompareB__size_type;
typedef uint16_t HplAtm128Timer3P__CompareC__size_type;
typedef uint16_t HplAtm128Timer3P__Timer__timer_size;
typedef uint16_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__timer_size;
typedef /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__timer_size /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__timer_size;
enum /*SerialActiveMessageC.sender*/SerialDispatcherSenderC__0____nesc_unnamed4336 {
  SerialDispatcherSenderC__0__CLIENT_ID = 0U
};
typedef uint8_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__val_t;
enum SerialDispatcherQueueP____nesc_unnamed4337 {
  SerialDispatcherQueueP__NUM_CLIENTS = 1U
};
typedef uint8_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__val_t;
enum SerialAMQueueP____nesc_unnamed4338 {
  SerialAMQueueP__NUM_CLIENTS = 1U
};
typedef uint8_t /*PrintfC.QueueC*/QueueC__0__queue_t;
typedef /*PrintfC.QueueC*/QueueC__0__queue_t /*PrintfC.QueueC*/QueueC__0__Queue__t;
typedef uint8_t PrintfP__Queue__t;
enum /*LedsClientC.rpcClient.sender*/RpcRequestSenderC__0____nesc_unnamed4339 {
  RpcRequestSenderC__0__CLIENT_ID = 0U
};
typedef uint8_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__val_t;
enum RpcRequestQueueP____nesc_unnamed4340 {
  RpcRequestQueueP__NUM_CLIENTS = 11U
};
typedef uint8_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__val_t;
enum /*RpcMessageC.RequestSender*/RS485DispatcherSenderC__0____nesc_unnamed4341 {
  RS485DispatcherSenderC__0__CLIENT_ID = 0U
};
typedef uint8_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__val_t;
enum RS485DispatcherQueueP____nesc_unnamed4342 {
  RS485DispatcherQueueP__NUM_CLIENTS = 4U
};
typedef uint8_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__val_t;
enum /*RpcMessageC.ReplySender*/RS485DispatcherSenderC__1____nesc_unnamed4343 {
  RS485DispatcherSenderC__1__CLIENT_ID = 1U
};
typedef uint8_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__val_t;
typedef uint16_t FlashReaderP__getModuleIdOnFlash__val_t;
enum /*InfraredServerC.SendOnBehalfOfTheOtherC*/InfraredDispatcherSenderC__0____nesc_unnamed4344 {
  InfraredDispatcherSenderC__0__CLIENT_ID = 0U
};
typedef uint8_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__val_t;
enum InfraredDispatcherQueueP____nesc_unnamed4345 {
  InfraredDispatcherQueueP__NUM_CLIENTS = 2U
};
typedef uint8_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__val_t;
enum /*InfraredServerC.rpcServer.sender*/RpcReplySenderC__0____nesc_unnamed4346 {
  RpcReplySenderC__0__CLIENT_ID = 0U
};
typedef uint8_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__val_t;
enum RpcReplyQueueP____nesc_unnamed4347 {
  RpcReplyQueueP__NUM_CLIENTS = 8U
};
typedef uint8_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__val_t;
enum /*InfraredClientC.SendFromOtherHemisphereC*/RS485DispatcherSenderC__2____nesc_unnamed4348 {
  RS485DispatcherSenderC__2__CLIENT_ID = 2U
};
typedef uint8_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__val_t;
enum /*InfraredClientC.rpcClient.sender*/RpcRequestSenderC__1____nesc_unnamed4349 {
  RpcRequestSenderC__1__CLIENT_ID = 1U
};
typedef uint8_t /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__val_t;
enum /*InfraredMessageC.SendFromThisHemisphereC*/InfraredDispatcherSenderC__1____nesc_unnamed4350 {
  InfraredDispatcherSenderC__1__CLIENT_ID = 1U
};
typedef uint8_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__val_t;
enum /*InfraredMessageC.ForwardToOtherHemisphereC*/RS485DispatcherSenderC__3____nesc_unnamed4351 {
  RS485DispatcherSenderC__3__CLIENT_ID = 3U
};
typedef uint8_t /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__val_t;
typedef TMilli NeighborTableP__IsAliveTimer__precision_tag;
typedef TMilli NeighborTableP__ExpireTimer__precision_tag;
typedef TMilli IsAliveP__ExpireTimer__precision_tag;
enum AMQueueP____nesc_unnamed4352 {
  AMQueueP__NUM_CLIENTS = 3U
};
typedef uint16_t ActiveMessageAddressC__getModuleIdOnFlash__val_t;
typedef uint8_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__val_t;
typedef TMilli /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__estTimer__precision_tag;
typedef uint16_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__val_t;
typedef TMilli /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__precision_tag;
typedef uint16_t AdcP__Read__val_t;
typedef uint16_t AdcP__ReadNow__val_t;
typedef uint16_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t;
typedef /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__val_t;
typedef /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__val_t;
enum /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0____nesc_unnamed4353 {
  AdcReadClientC__0__ID = 0U, AdcReadClientC__0__HAL_ID = 0U
};
typedef uint8_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__val_t;
typedef TMilli /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__estTimer__precision_tag;
typedef uint16_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__val_t;
typedef TMilli /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__precision_tag;
enum /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1____nesc_unnamed4354 {
  AdcReadClientC__1__ID = 1U, AdcReadClientC__1__HAL_ID = 1U
};
enum /*Connector1ClientC.rpcClient.sender*/RpcRequestSenderC__2____nesc_unnamed4355 {
  RpcRequestSenderC__2__CLIENT_ID = 2U
};
typedef uint8_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__val_t;
enum /*Connector2ClientC.rpcClient.sender*/RpcRequestSenderC__3____nesc_unnamed4356 {
  RpcRequestSenderC__3__CLIENT_ID = 3U
};
typedef uint8_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__val_t;
typedef uint16_t CentralJointClientP__ReadDegrees__val_t;
enum /*CentralJointClientC.rpcClient.sender*/RpcRequestSenderC__4____nesc_unnamed4357 {
  RpcRequestSenderC__4__CLIENT_ID = 4U
};
typedef uint8_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__val_t;
typedef uint16_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__val_t;
enum /*DegreesClientC.degreesRpcClient.sender*/RpcRequestSenderC__5____nesc_unnamed4358 {
  RpcRequestSenderC__5__CLIENT_ID = 5U
};
typedef uint8_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__val_t;
enum /*CentralJointClientC.rpcClientDegreesUpdate.sender*/RpcRequestSenderC__6____nesc_unnamed4359 {
  RpcRequestSenderC__6__CLIENT_ID = 6U
};
typedef uint8_t /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__val_t;
enum /*XaxisC.adcClient*/AdcReadClientC__2____nesc_unnamed4360 {
  AdcReadClientC__2__ID = 2U, AdcReadClientC__2__HAL_ID = 2U
};
typedef uint16_t /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__val_t;
enum /*OtherXaxisC.rpcClient.sender*/RpcRequestSenderC__7____nesc_unnamed4361 {
  RpcRequestSenderC__7__CLIENT_ID = 7U
};
typedef uint8_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__val_t;
typedef uint16_t /*YaxisC.client*/RpcRead16ClientP__2__Read__val_t;
enum /*YaxisC.rpcClient.sender*/RpcRequestSenderC__8____nesc_unnamed4362 {
  RpcRequestSenderC__8__CLIENT_ID = 8U
};
typedef uint8_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__val_t;
enum /*ZaxisC.adcClient*/AdcReadClientC__3____nesc_unnamed4363 {
  AdcReadClientC__3__ID = 3U, AdcReadClientC__3__HAL_ID = 3U
};
enum /*OtherHemiInfraredChannelC.rpcClient.sender*/RpcRequestSenderC__9____nesc_unnamed4364 {
  RpcRequestSenderC__9__CLIENT_ID = 9U
};
typedef uint8_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__val_t;
enum /*Connector1ServerC.rpcServer.sender*/RpcReplySenderC__1____nesc_unnamed4365 {
  RpcReplySenderC__1__CLIENT_ID = 1U
};
typedef uint8_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__val_t;
enum /*Connector2ServerC.rpcServer.sender*/RpcReplySenderC__2____nesc_unnamed4366 {
  RpcReplySenderC__2__CLIENT_ID = 2U
};
typedef uint8_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__val_t;
typedef uint16_t /*XaxisServerC.server*/RpcRead16ServerP__0__Read__val_t;
enum /*XaxisServerC.rpcServer.sender*/RpcReplySenderC__3____nesc_unnamed4367 {
  RpcReplySenderC__3__CLIENT_ID = 3U
};
typedef uint8_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__val_t;
enum HemisphereProximitySensorC____nesc_unnamed4368 {
  HemisphereProximitySensorC__CLIENT_ID = 1U
};
typedef uint8_t HemisphereProximitySensorP__proximity__val_t;
typedef TMilli HemisphereProximitySensorP__SampleTimer__precision_tag;
typedef P16MHz HemisphereProximitySensorP__powerPwm__frequency_tag;
typedef P16MHz HemisphereProximitySensorP__proxPwm__frequency_tag;
typedef uint8_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__val_t;
enum /*ProximityServerC.rpcServer.sender*/RpcReplySenderC__4____nesc_unnamed4369 {
  RpcReplySenderC__4__CLIENT_ID = 4U
};
typedef uint8_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__val_t;
enum /*InfraredChannelServerC.rpcServer.sender*/RpcReplySenderC__5____nesc_unnamed4370 {
  RpcReplySenderC__5__CLIENT_ID = 5U
};
typedef uint8_t /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__val_t;
enum /*DebugLedsServerC.rpcServer.sender*/RpcReplySenderC__6____nesc_unnamed4371 {
  RpcReplySenderC__6__CLIENT_ID = 6U
};
typedef uint8_t /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__val_t;
typedef uint16_t /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__val_t;
enum /*ZaxisServerC.rpcServer.sender*/RpcReplySenderC__7____nesc_unnamed4372 {
  RpcReplySenderC__7__CLIENT_ID = 7U
};
typedef uint8_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__val_t;
typedef uint16_t RpcInfoInitP__initDegrees__val_t;
typedef TMilli RpcInfoInitP__noResponseTimer__precision_tag;
typedef uint16_t RandomInitP__SeedInit__parameter;
typedef uint16_t RandomInitP__readXacc__val_t;
enum /*XaxisRandomC.adcClient*/AdcReadClientC__4____nesc_unnamed4373 {
  AdcReadClientC__4__ID = 4U, AdcReadClientC__4__HAL_ID = 4U
};
typedef uint16_t AtronTosApiC__getModuleIdOnFlash__val_t;
typedef TMilli AtronTosApiC__LocalTime__precision_tag;
typedef uint16_t AtronTosApiC__readAccXother__val_t;
typedef uint16_t AtronTosApiC__Battery__val_t;
typedef uint16_t AtronTosApiC__readAccY__val_t;
typedef uint16_t AtronTosApiC__readAccZ__val_t;
typedef uint16_t AtronTosApiC__readAccX__val_t;
typedef TMilli AtronTosApiC__Timer__precision_tag;
typedef module_state_t StartATRONC__Read__val_t;
typedef TMilli StartATRONC__Timer__precision_tag;
enum /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5____nesc_unnamed4374 {
  AdcReadClientC__5__ID = 5U, AdcReadClientC__5__HAL_ID = 5U
};
typedef module_state_t InitModuleStateP__readState__val_t;
typedef north_hemi_state_t InitModuleStateP__readNorth__val_t;
typedef south_hemi_state_t InitModuleStateP__readSouth__val_t;
typedef uint8_t InitSouthStateP__readThisHemiConn1State__val_t;
typedef uint8_t InitSouthStateP__readThisHemiConn2State__val_t;
typedef south_hemi_state_t InitSouthStateP__readSouthHemiState__val_t;
typedef north_hemi_state_t /*InitNorthStateClientC.client*/RpcReadClientP__0__type_t;
typedef /*InitNorthStateClientC.client*/RpcReadClientP__0__type_t /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__val_t;
enum /*InitNorthStateClientC.rpcClient.sender*/RpcRequestSenderC__10____nesc_unnamed4375 {
  RpcRequestSenderC__10__CLIENT_ID = 10U
};
typedef uint8_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__val_t;
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t PlatformP__Init__init(void );
#line 51
static error_t SubPlatformP__PlatformInit__init(void );
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Calibrate.nc"
static uint16_t MeasureClockC__Atm128Calibrate__baudrateRegister(uint32_t baudrate);
#line 53
static uint8_t MeasureClockC__Atm128Calibrate__adcPrescaler(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t SchedulerBlockingP__TaskBasic__postTask(
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357710);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SchedulerBlockingP__TaskBasic__default__runTask(
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357710);
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
static error_t SchedulerBlockingP__TaskBlocking__postTask(
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357e88);
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
static void SchedulerBlockingP__TaskBlocking__default__runTask(
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357e88, 
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
volatile btask_t *btaskPtr);
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/Scheduler.nc"
static void SchedulerBlockingP__Scheduler__init(void );
#line 61
static void SchedulerBlockingP__Scheduler__taskLoop(void );
#line 54
static bool SchedulerBlockingP__Scheduler__runNextTask(void );
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerOverride.nc"
static mcu_power_t McuSleepC__McuPowerOverride__default__lowestState(void );
# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuSleep.nc"
static void McuSleepC__McuSleep__sleep(void );
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerState.nc"
static void McuSleepC__McuPowerState__update(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void AtronBootP__FlashInfoControl__startDone(error_t error);
#line 92
static void AtronBootP__RS485Control__startDone(error_t error);
#line 117
static void AtronBootP__RS485Control__stopDone(error_t error);
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
static void AtronBootP__main__runTask(volatile btask_t *btaskPtr);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void AtronBootP__InfraredControl__startDone(error_t error);
#line 117
static void AtronBootP__InfraredControl__stopDone(error_t error);
#line 92
static void AtronBootP__HemisphereControl__startDone(error_t error);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void AtronBootP__MainCBoot__booted(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void AtronBootP__Timer__fired(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t NoInitC__Init__init(void );
# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl8.nc"
static Atm128TimerControl_t HplAtm128Timer0C__TimerCtrl__getControl(void );







static Atm128_TIFR_t HplAtm128Timer0C__TimerCtrl__getInterruptFlag(void );
#line 37
static void HplAtm128Timer0C__TimerCtrl__setControl(Atm128TimerControl_t control);
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer0C__Compare__reset(void );
#line 45
static void HplAtm128Timer0C__Compare__set(HplAtm128Timer0C__Compare__size_type t);










static void HplAtm128Timer0C__Compare__start(void );


static void HplAtm128Timer0C__Compare__stop(void );
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static bool HplAtm128Timer0C__Timer__test(void );
#line 52
static HplAtm128Timer0C__Timer__timer_size HplAtm128Timer0C__Timer__get(void );
#line 95
static void HplAtm128Timer0C__Timer__setScale(uint8_t scale);
#line 58
static void HplAtm128Timer0C__Timer__set(HplAtm128Timer0C__Timer__timer_size t);










static void HplAtm128Timer0C__Timer__start(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*InitZeroP.InitZero*/Atm128TimerInitC__0__Init__init(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__overflow(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__startAt(/*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__size_type t0, /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__size_type dt);
#line 62
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__stop(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__overflow(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__size_type /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__get(void );






static bool /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__isOverflowPending(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__overflow(void );
# 98 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getNow(void );
#line 92
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__startAt(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__size_type t0, /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__size_type dt);
#line 105
static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getAlarm(void );
#line 62
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__stop(void );
# 71 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__overflow(void );
#line 53
static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__fired(void );
# 125 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static uint32_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__getNow(void );
#line 118
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__startOneShotAt(uint32_t t0, uint32_t dt);
#line 67
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__stop(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__runTask(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__fired(void );
#line 72
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__default__fired(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708);
# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static bool /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__isRunning(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708);
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708, 
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);








static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708, 
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);




static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708);
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/LocalTime.nc"
static uint32_t /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__LocalTime__get(void );
# 71 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static void /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__overflow(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t RS485SerialP__SplitControl__start(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialP__stopDoneTask__runTask(void );
#line 64
static void RS485SerialP__RunTx__runTask(void );
#line 64
static void RS485SerialP__startWatchdog__runTask(void );
#line 64
static void RS485SerialP__stopWatchdog__runTask(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t RS485SerialP__Init__init(void );
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void RS485SerialP__SerialFlush__flushDone(void );
#line 38
static void RS485SerialP__SerialFlush__default__flush(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialP__startDoneTask__runTask(void );
#line 64
static void RS485SerialP__defaultSerialFlushTask__runTask(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void RS485SerialP__SerialFrameComm__dataReceived(uint8_t data);





static void RS485SerialP__SerialFrameComm__putDone(void );
#line 74
static void RS485SerialP__SerialFrameComm__delimiterReceived(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RS485SerialP__Watchdog__fired(void );
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
static error_t RS485SerialP__SendBytePacket__completeSend(void );
#line 51
static error_t RS485SerialP__SendBytePacket__startSend(uint8_t first_byte, bool ackRequested, bool seqNoSpecified, uint8_t seqNo);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RS485SerialDispatcherP__ackTimeout__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialDispatcherP__receiveTask__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t RS485SerialDispatcherP__Send__send(
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405db650, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialDispatcherP__signalSendDone__runTask(void );
#line 64
static void RS485SerialDispatcherP__stopAckTimeout__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RS485SerialDispatcherP__Receive__default__receive(
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405db010, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t RS485SerialDispatcherP__PacketInfo__default__upperLength(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t RS485SerialDispatcherP__PacketInfo__default__offset(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t RS485SerialDispatcherP__PacketInfo__default__dataLinkLength(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialDispatcherP__startAckTimeout__runTask(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RS485SerialDispatcherP__delayTimer__fired(void );
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
static uint8_t RS485SerialDispatcherP__SendBytePacket__nextByte(void );
#line 82
static void RS485SerialDispatcherP__SendBytePacket__ackReceived(uint8_t ackedPktNo);
#line 80
static void RS485SerialDispatcherP__SendBytePacket__sendCompleted(error_t error, uint8_t seqNo);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
static error_t RS485SerialDispatcherP__ReceiveBytePacket__startPacket(void );






static void RS485SerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t data);










static void RS485SerialDispatcherP__ReceiveBytePacket__endPacket(error_t result);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RS485SerialDispatcherP__resendTask__runTask(void );
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receivedByte(uint8_t byte);
#line 99
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receiveDone(
#line 95
uint8_t * buf, 



uint16_t len, error_t error);
#line 57
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDelimiter(void );
#line 68
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__resetReceive(void );
#line 54
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putData(uint8_t data);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__Init__init(void );
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__rxDone(uint8_t data);
#line 47
static void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__txDone(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__start(void );









static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__stop(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t HplAtm128UartP__Uart0Init__init(void );
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static error_t HplAtm128UartP__HplUart0__enableRxIntr(void );
#line 40
static error_t HplAtm128UartP__HplUart0__enableTxIntr(void );
static error_t HplAtm128UartP__HplUart0__disableTxIntr(void );

static error_t HplAtm128UartP__HplUart0__disableRxIntr(void );


static void HplAtm128UartP__HplUart0__tx(uint8_t data);
#line 42
static error_t HplAtm128UartP__HplUart1__enableRxIntr(void );
#line 40
static error_t HplAtm128UartP__HplUart1__enableTxIntr(void );
static error_t HplAtm128UartP__HplUart1__disableTxIntr(void );

static error_t HplAtm128UartP__HplUart1__disableRxIntr(void );


static void HplAtm128UartP__HplUart1__tx(uint8_t data);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t HplAtm128UartP__Uart1Init__init(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t HplAtm128UartP__Uart1RxControl__start(void );









static error_t HplAtm128UartP__Uart1RxControl__stop(void );
#line 74
static error_t HplAtm128UartP__Uart0RxControl__start(void );









static error_t HplAtm128UartP__Uart0RxControl__stop(void );
#line 74
static error_t HplAtm128UartP__Uart1TxControl__start(void );









static error_t HplAtm128UartP__Uart1TxControl__stop(void );
#line 74
static error_t HplAtm128UartP__Uart0TxControl__start(void );









static error_t HplAtm128UartP__Uart0TxControl__stop(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__set(void );
static void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__set(void );
static void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__set(void );
static void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__set(void );
static void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__clr(void );


static void /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__makeInput(void );
#line 32
static bool /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__get(void );
static void /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__makeInput(void );
#line 32
static bool /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__get(void );
static void /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__makeInput(void );
#line 32
static bool /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__get(void );
static void /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__makeInput(void );
#line 32
static bool /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__get(void );


static void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__set(void );
static void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__set(void );
static void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__makeOutput(void );
#line 30
static void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__makeOutput(void );
#line 30
static void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__set(void );
static void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__set(void );
static void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__set(void );
static void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__set(void );





static void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__set(void );
static void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__clr(void );




static void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__set(void );
static void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__clr(void );


static void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__makeInput(void );
#line 32
static bool /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__get(void );
#line 29
static void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__set(void );





static void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__set(void );
static void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__clr(void );




static void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__set(void );
static void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__clr(void );




static void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__makeOutput(void );
#line 29
static void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__set(void );
static void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__clr(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__fired(void );
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__disable(void );
#line 43
static error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__enableFallingEdge(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GetNow.nc"
static HplAtm128InterruptSigP__GetPortA__data_type HplAtm128InterruptSigP__GetPortA__getNow(void );
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__clear(void );
#line 40
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__disable(void );
#line 59
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__edge(bool low_to_high);
#line 35
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__enable(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__IrqSignal__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__IrqSignal__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__IrqSignal__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__IrqSignal__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__IrqSignal__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__IrqSignal__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__IrqSignal__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__default__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__IrqSignal__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
static void HplAtm128Timer1P__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control);
#line 36
static Atm128TimerCtrlCompare_t HplAtm128Timer1P__TimerCtrl__getCtrlCompare(void );
static Atm128TimerCtrlCapture_t HplAtm128Timer1P__TimerCtrl__getCtrlCapture(void );


static void HplAtm128Timer1P__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer1P__CompareA__default__fired(void );
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void HplAtm128Timer1P__Capture__set(HplAtm128Timer1P__Capture__size_type t);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer1P__CompareB__set(HplAtm128Timer1P__CompareB__size_type t);
#line 45
static void HplAtm128Timer1P__CompareC__set(HplAtm128Timer1P__CompareC__size_type t);
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static HplAtm128Timer1P__Timer__timer_size HplAtm128Timer1P__Timer__get(void );
#line 95
static void HplAtm128Timer1P__Timer__setScale(uint8_t scale);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Init__init(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__overflow(void );
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__setHigh(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088c4e0, 
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
uint16_t steps_high);
#line 61
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088c4e0, 
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
uint16_t top, uint16_t steps_high);
#line 75
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__stop(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088c4e0);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__captured(/*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__size_type t);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__makeOutput(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088bd08);
# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__clr(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088bd08);
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__HplAtm128Timer__overflow(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__fired(
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
uint8_t arg_0x40885010);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__default__set(
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
uint8_t arg_0x40885010, 
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
/*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__size_type t);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/BusyWait.nc"
static void BusyWaitMicroC__BusyWait__wait(BusyWaitMicroC__BusyWait__size_type dt);
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Random.nc"
static uint16_t RandomMlcgC__Random__rand16(void );
#line 35
static uint32_t RandomMlcgC__Random__rand32(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ParameterInit.nc"
static error_t RandomMlcgC__SeedInit__init(RandomMlcgC__SeedInit__parameter param);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t RandomMlcgC__Init__init(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t InfraredSerialP__SplitControl__start(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void InfraredSerialP__ResourceConfigure__unconfigure(void );
#line 49
static void InfraredSerialP__ResourceConfigure__configure(void );
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static void InfraredSerialP__RxInterrupt__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredSerialP__stopDoneTask__runTask(void );
#line 64
static void InfraredSerialP__RunTx__runTask(void );
#line 64
static void InfraredSerialP__startWatchdog__runTask(void );
#line 64
static void InfraredSerialP__stopWatchdog__runTask(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t InfraredSerialP__Init__init(void );
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static void InfraredSerialP__ResourceDefaultOwner__requested(void );
#line 46
static void InfraredSerialP__ResourceDefaultOwner__granted(void );
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void InfraredSerialP__SerialFlush__flushDone(void );
#line 38
static void InfraredSerialP__SerialFlush__default__flush(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredSerialP__startDoneTask__runTask(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void InfraredSerialP__SerialFrameComm__dataReceived(uint8_t data);





static void InfraredSerialP__SerialFrameComm__putDone(void );
#line 74
static void InfraredSerialP__SerialFrameComm__delimiterReceived(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredSerialP__defaultSerialFlushTask__runTask(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void InfraredSerialP__Resource__granted(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void InfraredSerialP__Watchdog__fired(void );
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
static error_t InfraredSerialP__SendBytePacket__completeSend(void );
#line 52
static error_t InfraredSerialP__SendBytePacket__startSend(uint8_t first_byte, uint8_t channel);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredSerialDispatcherP__receiveTask__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredSerialDispatcherP__Send__send(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097b180, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredSerialDispatcherP__signalSendDone__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredSerialDispatcherP__Receive__default__receive(
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097eb28, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t InfraredSerialDispatcherP__PacketInfo__default__upperLength(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t InfraredSerialDispatcherP__PacketInfo__default__offset(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t InfraredSerialDispatcherP__PacketInfo__default__dataLinkLength(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
static uint8_t InfraredSerialDispatcherP__SendBytePacket__nextByte(void );









static void InfraredSerialDispatcherP__SendBytePacket__sendCompleted(error_t error);
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredReceiveBytePacket.nc"
static error_t InfraredSerialDispatcherP__ReceiveBytePacket__startPacket(uint8_t channel);






static void InfraredSerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t data);










static void InfraredSerialDispatcherP__ReceiveBytePacket__endPacket(error_t result);
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receivedByte(uint8_t byte);
#line 99
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receiveDone(
#line 95
uint8_t * buf, 



uint16_t len, error_t error);
#line 57
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDelimiter(void );
#line 68
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__resetReceive(void );
#line 54
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putData(uint8_t data);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__Init__init(void );
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__rxDone(uint8_t data);
#line 47
static void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__txDone(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__start(void );









static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__stop(void );
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static uint8_t InfraredPacketC__InfraredPacket__getSeqNo(message_t *msg);
#line 91
static void InfraredPacketC__InfraredPacket__setWasAcked(message_t *msg, bool val);
#line 76
static void InfraredPacketC__InfraredPacket__setSeqNo(message_t *msg, uint8_t seqNo);
#line 170
static uint8_t InfraredPacketC__InfraredPacket__getOtherHemisphereConnector(message_t *msg);
#line 142
static void InfraredPacketC__InfraredPacket__setSouthConnector(message_t *msg, uint8_t conn);
#line 83
static bool InfraredPacketC__InfraredPacket__requestsAck(message_t *msg);
#line 161
static void InfraredPacketC__InfraredPacket__setThisHemisphereConnector(message_t *msg, uint8_t conn);
#line 99
static uint8_t InfraredPacketC__InfraredPacket__getConnector(message_t *msg);
#line 116
static uint8_t InfraredPacketC__InfraredPacket__getNorthConnector(message_t *msg);
#line 151
static uint8_t InfraredPacketC__InfraredPacket__getThisHemisphereConnector(message_t *msg);
#line 108
static void InfraredPacketC__InfraredPacket__setConnector(message_t *msg, uint8_t conn);
#line 133
static uint8_t InfraredPacketC__InfraredPacket__getSouthConnector(message_t *msg);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static uint8_t InfraredPacketC__Packet__payloadLength(
#line 63
message_t * msg);
#line 115
static 
#line 112
void * 


InfraredPacketC__Packet__getPayload(
#line 110
message_t * msg, 




uint8_t len);
#line 95
static uint8_t InfraredPacketC__Packet__maxPayloadLength(void );
#line 83
static void InfraredPacketC__Packet__setPayloadLength(
#line 79
message_t * msg, 



uint8_t len);
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketBody.nc"
static infrared_header_t *InfraredPacketC__InfraredPacketBody__getHeader(message_t *msg);




static infrared_metadata_t *InfraredPacketC__InfraredPacketBody__getMetadata(message_t *msg);
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
static void InfraredChannelP__InfraredChannel__setLowSensitivity(bool isLowSensitivity);
#line 46
static uint8_t InfraredChannelP__InfraredChannel__getActivity(void );
#line 41
static void InfraredChannelP__InfraredChannel__enable(uint8_t val);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t InfraredChannelP__Init__init(void );
#line 51
static error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__Init__init(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
static error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__enqueue(resource_client_id_t id);
#line 43
static bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEmpty(void );








static bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEnqueued(resource_client_id_t id);







static resource_client_id_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__dequeue(void );
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__default__requested(
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45da8);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__unconfigure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__configure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__release(void );








static bool /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__isOwner(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__release(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__request(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__default__granted(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static bool /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__isOwner(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__runTask(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t BootToSplitControlP__SplitControl__start(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void BootToSplitControlP__ComponentBooted__booted(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__send(
# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
am_id_t arg_0x40ae7010, 
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__payloadLength(
#line 63
message_t * msg);
#line 115
static 
#line 112
void * 


/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__getPayload(
#line 110
message_t * msg, 




uint8_t len);
#line 95
static uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__maxPayloadLength(void );
#line 83
static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__setPayloadLength(
#line 79
message_t * msg, 



uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__default__receive(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
am_id_t arg_0x40ae79d0, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static am_addr_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__destination(
#line 63
message_t * amsg);
#line 92
static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 136
static am_id_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(
#line 132
message_t * amsg);
#line 151
static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t SerialP__SplitControl__start(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SerialP__stopDoneTask__runTask(void );
#line 64
static void SerialP__RunTx__runTask(void );
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void SerialP__SerialFlush__flushDone(void );
#line 38
static void SerialP__SerialFlush__default__flush(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SerialP__startDoneTask__runTask(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void SerialP__SerialFrameComm__dataReceived(uint8_t data);





static void SerialP__SerialFrameComm__putDone(void );
#line 74
static void SerialP__SerialFrameComm__delimiterReceived(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SerialP__defaultSerialFlushTask__runTask(void );
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
static error_t SerialP__SendBytePacket__completeSend(void );
#line 51
static error_t SerialP__SendBytePacket__startSend(uint8_t first_byte);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__send(
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75388, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__default__receive(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b79d10, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__upperLength(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__offset(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__dataLinkLength(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 70 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__nextByte(void );









static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__sendCompleted(error_t error);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__startPacket(void );






static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__byteReceived(uint8_t data);










static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__endPacket(error_t result);
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void HdlcTranslateC__UartStream__receivedByte(uint8_t byte);
#line 57
static void HdlcTranslateC__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t HdlcTranslateC__SerialFrameComm__putDelimiter(void );
#line 68
static void HdlcTranslateC__SerialFrameComm__resetReceive(void );
#line 54
static error_t HdlcTranslateC__SerialFrameComm__putData(uint8_t data);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t BitBangingImplP__Init__init(void );
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t BitBangingImplP__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t BitBangingImplP__StdControl__start(void );









static error_t BitBangingImplP__StdControl__stop(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void BitBangingImplP__Timer__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
static void HplAtm128Timer3P__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control);
#line 36
static Atm128TimerCtrlCompare_t HplAtm128Timer3P__TimerCtrl__getCtrlCompare(void );
static Atm128TimerCtrlCapture_t HplAtm128Timer3P__TimerCtrl__getCtrlCapture(void );


static void HplAtm128Timer3P__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer3P__CompareA__set(HplAtm128Timer3P__CompareA__size_type t);










static void HplAtm128Timer3P__CompareA__start(void );


static void HplAtm128Timer3P__CompareA__stop(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void HplAtm128Timer3P__Capture__default__captured(HplAtm128Timer3P__Capture__size_type t);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer3P__CompareB__default__fired(void );
#line 49
static void HplAtm128Timer3P__CompareC__default__fired(void );
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static HplAtm128Timer3P__Timer__timer_size HplAtm128Timer3P__Timer__get(void );
#line 95
static void HplAtm128Timer3P__Timer__setScale(uint8_t scale);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Init__init(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__overflow(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t DisableJtagP__Init__init(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__val_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__sendDone(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
#line 64
static error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__send(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__default__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__runTask(void );
#line 64
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__val_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__default__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t SerialPacketInfoRS485MessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t SerialPacketInfoRS485MessageP__Info__offset(void );







static uint8_t SerialPacketInfoRS485MessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);







static uint8_t SerialPacketInfoInfraredMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t SerialPacketInfoInfraredMessageP__Info__offset(void );







static uint8_t SerialPacketInfoInfraredMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);







static uint8_t SerialPacketInfoRpcMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t SerialPacketInfoRpcMessageP__Info__offset(void );







static uint8_t SerialPacketInfoRpcMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);







static uint8_t SerialPacketInfoActiveMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t SerialPacketInfoActiveMessageP__Info__offset(void );







static uint8_t SerialPacketInfoActiveMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__sendDone(
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
am_id_t arg_0x40cee908, 
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__send(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__default__sendDone(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__runTask(void );
#line 64
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask__runTask(void );
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
static 
#line 71
/*PrintfC.QueueC*/QueueC__0__Queue__t  

/*PrintfC.QueueC*/QueueC__0__Queue__head(void );
#line 90
static error_t /*PrintfC.QueueC*/QueueC__0__Queue__enqueue(
#line 86
/*PrintfC.QueueC*/QueueC__0__Queue__t  newVal);
#line 65
static uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__maxSize(void );
#line 81
static 
#line 79
/*PrintfC.QueueC*/QueueC__0__Queue__t  

/*PrintfC.QueueC*/QueueC__0__Queue__dequeue(void );
#line 50
static bool /*PrintfC.QueueC*/QueueC__0__Queue__empty(void );







static uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__size(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void PrintfP__SerialControl__startDone(error_t error);
#line 117
static void PrintfP__SerialControl__stopDone(error_t error);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void PrintfP__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void PrintfP__retrySend__runTask(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void PrintfP__MainBoot__booted(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



LedsClientP__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void LedsClientP__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 205 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
static uint8_t LedsClientP__Leds__get(void );
#line 221
static void LedsClientP__Leds__set(uint8_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void LedsClientP__sendRequest__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__val_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__sendDone(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__val_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__default__get(
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dae5b0);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
#line 89
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__default__sendDone(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__runTask(void );
#line 64
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RpcMessageP__ReceiveReply__default__receive(
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de3b38, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
#line 67
static 
#line 63
message_t * 



RpcMessageP__RequestSubReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void RpcMessageP__ReplySubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t RpcMessageP__SendRequest__send(
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de7ec0, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

RpcMessageP__SendRequest__getPayload(
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de7ec0, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
#line 64
static error_t RpcMessageP__SendReply__send(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de4958, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

RpcMessageP__SendReply__getPayload(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de4958, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RpcMessageP__ReplySubReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void RpcMessageP__RequestSubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RpcMessageP__ReceiveRequest__default__receive(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de3448, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacket.nc"
static rpc_id_t RpcPacketC__RpcPacket__getId(message_t *msg);







static void RpcPacketC__RpcPacket__setId(message_t *msg, rpc_id_t id);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__val_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__sendDone(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
#line 64
static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__default__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__runTask(void );
#line 64
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__val_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__default__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t SerialPacketInfoRS485AckP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t SerialPacketInfoRS485AckP__Info__offset(void );







static uint8_t SerialPacketInfoRS485AckP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__val_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__get(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t FlashReaderP__SplitControl__start(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static FlashReaderP__getModuleIdOnFlash__val_t FlashReaderP__getModuleIdOnFlash__get(void );
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
static void FlashReaderP__flash__readDone(uint32_t addr, void *buf, uint32_t len, error_t error);
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/VolumeSettings.nc"
static uint32_t AvrDirectStorageP__VolumeSettings__getVolumeSize(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void AvrDirectStorageP__Boot__booted(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void AvrDirectStorageP__checkReady__runTask(void );
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
static error_t AvrDirectStorageP__DirectStorage__read(
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
uint8_t arg_0x40e567f8, 
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
uint32_t addr, void *buf, uint32_t len);
#line 89
static void AvrDirectStorageP__DirectStorage__default__readDone(
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
uint8_t arg_0x40e567f8, 
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
uint32_t addr, void *buf, uint32_t len, error_t error);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t StateImplP__Init__init(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
static void StateImplP__State__toIdle(
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
uint8_t arg_0x40e89718);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
static error_t StateImplP__State__requestState(
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
uint8_t arg_0x40e89718, 
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
uint8_t reqState);





static void StateImplP__State__forceState(
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
uint8_t arg_0x40e89718, 
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
uint8_t reqState);
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
static error_t AvrStorageModifyP__DirectModify__read(
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
uint8_t arg_0x40eafe08, 
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
uint32_t addr, void *buf, uint32_t len);
#line 89
static void AvrStorageModifyP__DirectModify__default__readDone(
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
uint8_t arg_0x40eafe08, 
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
uint32_t addr, void *buf, uint32_t len, error_t error);
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
static void AvrStorageModifyP__DirectStorage__readDone(uint32_t addr, void *buf, uint32_t len, error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredMessageP__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredMessageP__signalSendDone__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredMessageP__SendFromOtherHemisphere__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredMessageP__ReceivedOnOtherHemisphere__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
#line 67
static 
#line 63
message_t * 



InfraredMessageP__ReceivedOnThisHemisphere__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredMessageP__SendFromThisHemisphere__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredForwarderP__InfraredReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredForwarderP__HemisphereForward__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredServerP__ReceivePktToForward__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredServerP__InfraredSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredServerP__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredServerP__SendForwardReply__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 89
static void /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__val_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__sendDone(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
#line 64
static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__send(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__default__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__runTask(void );
#line 64
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__val_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__default__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__val_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__sendDone(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__val_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__default__get(
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dae5b0);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
#line 89
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__default__sendDone(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__runTask(void );
#line 64
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask__runTask(void );
#line 64
static void InfraredClientP__signalSendDone__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredClientP__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t InfraredClientP__SendFromOtherHemisphere__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void InfraredClientP__ForwardToOtherHemisphere__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredClientP__ReceiveForwardReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__val_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__get(void );
#line 55
static /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__val_t /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 89
static void /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__val_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__val_t /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__get(void );
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void InfraredInterceptorP__AckSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredInterceptorP__AckReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredInterceptorP__InfraredSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredInterceptorP__updateTable__runTask(void );
#line 64
static void InfraredInterceptorP__sendAck__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredInterceptorP__InfraredSubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredInterceptorP__InfraredSubReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void NeighborTableP__Boot__booted(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void NeighborTableP__IsAliveTimer__fired(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void NeighborTableP__Connector__extendDone(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f88378, 
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);






static void NeighborTableP__Connector__retractDone(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f88378, 
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void NeighborTableP__ExpireTimer__fired(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f90998);
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void NeighborTableP__ExpireTimer__default__startOneShot(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f90998, 
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTable.nc"
static void NeighborTableP__NeighborTable__present(uint8_t connector, am_addr_t moduleId);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void IsAliveP__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void IsAliveP__ExpireTimer__fired(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
uint8_t arg_0x40fc3350);
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void IsAliveP__ExpireTimer__default__startOneShot(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
uint8_t arg_0x40fc3350, 
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



IsAliveP__Receive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.nc"
static void IsAliveP__IsAlive__msgSent(uint8_t connector);
#line 44
static void IsAliveP__IsAlive__sendMsg(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void IsAliveP__updateHiTrafficConnectors__runTask(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__sendDone(
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
am_id_t arg_0x40cee908, 
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__default__sendDone(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__runTask(void );
#line 64
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredActiveMessageP__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredActiveMessageP__SubReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t InfraredActiveMessageP__AMSend__send(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fd0d90, 
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredActiveMessageP__Snoop__default__receive(
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fcde00, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
#line 67
static 
#line 63
message_t * 



InfraredActiveMessageP__Receive__default__receive(
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fcd768, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static am_addr_t InfraredActiveMessageP__AMPacket__source(
#line 73
message_t * amsg);
#line 57
static am_addr_t InfraredActiveMessageP__AMPacket__address(void );









static am_addr_t InfraredActiveMessageP__AMPacket__destination(
#line 63
message_t * amsg);
#line 92
static void InfraredActiveMessageP__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 136
static am_id_t InfraredActiveMessageP__AMPacket__type(
#line 132
message_t * amsg);
#line 151
static void InfraredActiveMessageP__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
#line 125
static bool InfraredActiveMessageP__AMPacket__isForMe(
#line 122
message_t * amsg);
# 78 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
static am_addr_t ActiveMessageAddressC__amAddress(void );
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
static am_addr_t ActiveMessageAddressC__ActiveMessageAddress__amAddress(void );




static am_group_t ActiveMessageAddressC__ActiveMessageAddress__amGroup(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t ActiveMessageAddressC__Init__init(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__startDone(error_t error);
#line 117
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__stopDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone__runTask(void );
#line 64
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone__runTask(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__startDone(error_t error);
#line 117
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__stopDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone__runTask(void );
#line 64
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone__runTask(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t DebugLedsP__Init__init(void );
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/DebugLeds.nc"
static void DebugLedsP__Leds__led0Off(void );









static void DebugLedsP__Leds__led1On(void );




static void DebugLedsP__Leds__led1Off(void );
#line 45
static void DebugLedsP__Leds__led0On(void );
#line 102
static void DebugLedsP__Leds__set(uint8_t val);
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void ConnectorsImplP__Connector6__extendDone(error_t error);






static void ConnectorsImplP__Connector6__retractDone(error_t error);
#line 49
static error_t ConnectorsImplP__Connector__extend(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
connector_t arg_0x41089ae8);
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t ConnectorsImplP__Connector__retract(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
connector_t arg_0x41089ae8);
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void ConnectorsImplP__Connector4__extendDone(error_t error);






static void ConnectorsImplP__Connector4__retractDone(error_t error);
#line 65
static void ConnectorsImplP__Connector2__extendDone(error_t error);






static void ConnectorsImplP__Connector2__retractDone(error_t error);
#line 65
static void ConnectorsImplP__Connector0__extendDone(error_t error);






static void ConnectorsImplP__Connector0__retractDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__runTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extend(void );








static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Init__init(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__estTimer__fired(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__readDone(error_t result, /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__val_t val);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__fired(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t Atm128AdcP__Init__init(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcMultiple.nc"
static bool Atm128AdcP__Atm128AdcMultiple__default__dataReady(uint16_t data, bool precise, uint8_t channel, 
uint8_t *newChannel, uint8_t *newRefVoltage);
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
static bool Atm128AdcP__Atm128AdcSingle__getData(uint8_t channel, uint8_t refVoltage, 
bool leftJustify, uint8_t prescaler);
# 147 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
static void Atm128AdcP__HplAtm128Adc__dataReady(uint16_t data);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AsyncStdControl.nc"
static error_t Atm128AdcP__AsyncStdControl__start(void );









static error_t Atm128AdcP__AsyncStdControl__stop(void );
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
static Atm128Admux_t HplAtm128AdcP__HplAtm128Adc__getAdmux(void );
#line 73
static void HplAtm128AdcP__HplAtm128Adc__enableAdc(void );
#line 49
static void HplAtm128AdcP__HplAtm128Adc__setAdmux(Atm128Admux_t admux);
#line 141
static bool HplAtm128AdcP__HplAtm128Adc__cancel(void );
#line 77
static void HplAtm128AdcP__HplAtm128Adc__disableAdc(void );








static void HplAtm128AdcP__HplAtm128Adc__disableInterruption(void );
#line 60
static void HplAtm128AdcP__HplAtm128Adc__setAdcsra(Atm128Adcsra_t adcsra);
#line 55
static Atm128Adcsra_t HplAtm128AdcP__HplAtm128Adc__getAdcsra(void );










static uint16_t HplAtm128AdcP__HplAtm128Adc__getValue(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__Init__init(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
static error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__enqueue(resource_client_id_t id);
#line 43
static bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEmpty(void );








static bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEnqueued(resource_client_id_t id);







static resource_client_id_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__dequeue(void );
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__default__requested(
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45da8);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__unconfigure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__configure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__release(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__default__granted(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__runTask(void );
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/PowerDownCleanup.nc"
static void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__default__cleanup(void );
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__requested(void );
#line 46
static void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__granted(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t AdcP__Read__read(
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x41170130);
# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ReadNow.nc"
static void AdcP__ReadNow__default__readDone(
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116f0e8, 
# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ReadNow.nc"
error_t result, AdcP__ReadNow__val_t val);
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__default__getRefVoltage(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 25 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__default__getChannel(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__default__getPrescaler(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
static void AdcP__Atm128AdcSingle__dataReady(uint16_t data, bool precise);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void AdcP__acquiredData__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(
# 24 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x411580e8);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__default__readDone(
# 24 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x411580e8, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__val_t val);
#line 63
static void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__readDone(
# 26 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41156130, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__val_t val);
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__release(
# 27 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41155010);
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__request(
# 27 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41155010);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(
# 27 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41155010);
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getRefVoltage(void );
#line 25
static uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getChannel(void );
#line 39
static uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getPrescaler(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__runTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extend(void );








static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Init__init(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__estTimer__fired(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__readDone(error_t result, /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__val_t val);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__fired(void );
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getRefVoltage(void );
#line 25
static uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getChannel(void );
#line 39
static uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getPrescaler(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*Connector1ClientC.client*/ConnectorClientP__0__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extend(void );








static error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retract(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__val_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*Connector2ClientC.client*/ConnectorClientP__1__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extend(void );








static error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retract(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__val_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



CentralJointClientP__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void CentralJointClientP__ReadDegrees__readDone(error_t result, CentralJointClientP__ReadDegrees__val_t val);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



CentralJointClientP__ReceiveReplyDegreesUpdate__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 118 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
static error_t CentralJointClientP__joint__rotateToDegrees(uint16_t degrees, uint8_t speed, bool dir);
#line 131
static error_t CentralJointClientP__joint__rotateToDegreesShortestPath(uint16_t degrees, uint8_t speed);
#line 51
static error_t CentralJointClientP__joint__readDegrees(void );
#line 83
static void CentralJointClientP__joint__stop(bool lock);




static void CentralJointClientP__joint__rotate(uint8_t speed, bool dir);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void CentralJointClientP__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 89
static void CentralJointClientP__SendRequestDegreesUpdate__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void CentralJointClientP__sendRequest__runTask(void );
#line 64
static void CentralJointClientP__signalRotationCompleted__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__val_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__read(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__runTask(void );
#line 64
static void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__val_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__val_t /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void SimpleInfraredActiveMessageP__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t SimpleInfraredActiveMessageP__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



SimpleInfraredActiveMessageP__AMReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t XaxisP__Atm128AdcConfig__getRefVoltage(void );
#line 25
static uint8_t XaxisP__Atm128AdcConfig__getChannel(void );
#line 39
static uint8_t XaxisP__Atm128AdcConfig__getPrescaler(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*OtherXaxisC.client*/RpcRead16ClientP__1__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__default__readDone(error_t result, /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__val_t val);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__runTask(void );
#line 64
static void /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__val_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*YaxisC.client*/RpcRead16ClientP__2__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*YaxisC.client*/RpcRead16ClientP__2__Read__default__readDone(error_t result, /*YaxisC.client*/RpcRead16ClientP__2__Read__val_t val);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__runTask(void );
#line 64
static void /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__val_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t ZaxisP__Atm128AdcConfig__getRefVoltage(void );
#line 25
static uint8_t ZaxisP__Atm128AdcConfig__getChannel(void );
#line 39
static uint8_t ZaxisP__Atm128AdcConfig__getPrescaler(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredChannelClientP__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredChannelClientP__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredChannelClientP__sendRequest__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__val_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__runTask(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extendDone(error_t error);






static void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retractDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*Connector1ServerC.server*/ConnectorServerP__0__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__val_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__runTask(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extendDone(error_t error);






static void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retractDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*Connector2ServerC.server*/ConnectorServerP__1__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__val_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__runTask(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*XaxisServerC.server*/RpcRead16ServerP__0__Read__readDone(error_t result, /*XaxisServerC.server*/RpcRead16ServerP__0__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*XaxisServerC.server*/RpcRead16ServerP__0__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__val_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void HemisphereProximitySensorP__ResourceConfigure__unconfigure(void );
#line 49
static void HemisphereProximitySensorP__ResourceConfigure__configure(void );
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static void HemisphereProximitySensorP__RxInterrupt__fired(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t HemisphereProximitySensorP__proximity__read(
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
uint8_t arg_0x412a2010);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void HemisphereProximitySensorP__SampleTimer__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void HemisphereProximitySensorP__lowerPwmHigh__runTask(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void HemisphereProximitySensorP__Resource__granted(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void HemisphereProximitySensorP__signalReadDone__runTask(void );
#line 64
static void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__runTask(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__readDone(
# 39 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
uint8_t arg_0x412cab60, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*ProximityServerC.server*/RpcRead8ServerProximityP__0__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__val_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InfraredChannelServerP__processRequest__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredChannelServerP__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredChannelServerP__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__val_t /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void DebugLedsServerP__processRequest__runTask(void );
#line 64
static void DebugLedsServerP__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void DebugLedsServerP__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



DebugLedsServerP__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__val_t /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__runTask(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__readDone(error_t result, /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*ZaxisServerC.server*/RpcRead16ServerP__1__ReceiveRequest__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__val_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void RpcInfoInitP__signalBooted__runTask(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void RpcInfoInitP__SubBoot__booted(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void RpcInfoInitP__initDegrees__readDone(error_t result, RpcInfoInitP__initDegrees__val_t val);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RpcInfoInitP__noResponseTimer__fired(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void RandomInitP__SubBoot__booted(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void RandomInitP__readXacc__readDone(error_t result, RandomInitP__readXacc__val_t val);
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
static void AtronTosApiC__CentralJoint__readDegreesDone(error_t result, uint16_t val);
#line 139
static void AtronTosApiC__CentralJoint__rotationCompleted(error_t error, uint16_t degrees, bool dir);
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void AtronTosApiC__Connector__extendDone(
# 53 "AtronTosApiC.nc"
uint8_t arg_0x41329948, 
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);






static void AtronTosApiC__Connector__retractDone(
# 53 "AtronTosApiC.nc"
uint8_t arg_0x41329948, 
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void AtronTosApiC__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void AtronTosApiC__Battery__readDone(error_t result, AtronTosApiC__Battery__val_t val);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



AtronTosApiC__Receive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
#line 67
static 
#line 63
message_t * 



AtronTosApiC__SerialReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void AtronTosApiC__Timer__fired(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void StartATRONC__Boot__booted(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void StartATRONC__Read__readDone(error_t result, StartATRONC__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void StartATRONC__ASEControl__runTask(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void StartATRONC__Timer__fired(void );
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t BatteryVoltageP__Atm128AdcConfig__getRefVoltage(void );
#line 25
static uint8_t BatteryVoltageP__Atm128AdcConfig__getChannel(void );
#line 39
static uint8_t BatteryVoltageP__Atm128AdcConfig__getPrescaler(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void InitModuleStateP__readNorth__readDone(error_t result, InitModuleStateP__readNorth__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InitModuleStateP__signalReadDone__runTask(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void InitModuleStateP__readSouth__readDone(error_t result, InitModuleStateP__readSouth__val_t val);
#line 63
static void InitSouthStateP__readThisHemiConn1State__readDone(error_t result, InitSouthStateP__readThisHemiConn1State__val_t val);
#line 63
static void InitSouthStateP__readThisHemiConn2State__readDone(error_t result, InitSouthStateP__readThisHemiConn2State__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void InitSouthStateP__signalReadDone__runTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*InitNorthStateClientC.client*/RpcReadClientP__0__ReceiveReply__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__sendDone(
#line 85
message_t * msg, 



error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__runTask(void );
#line 64
static void /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__runTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__val_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t PlatformP__SubInit__init(void );
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/PlatformP.nc"
static inline error_t PlatformP__Init__init(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t SubPlatformP__SubInit__init(void );
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/SubPlatformP.nc"
static inline error_t SubPlatformP__PlatformInit__init(void );
# 63 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/MeasureClockC.nc"
enum MeasureClockC____nesc_unnamed4376 {


  MeasureClockC__MAGIC = 488 / (16 / PLATFORM_MHZ)
};
#line 87
static inline uint8_t MeasureClockC__Atm128Calibrate__adcPrescaler(void );
#line 104
static inline uint16_t MeasureClockC__Atm128Calibrate__baudrateRegister(uint32_t baudrate);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t RealMainP__SoftwareInit__init(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void RealMainP__Boot__booted(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t RealMainP__PlatformInit__init(void );
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/Scheduler.nc"
static void RealMainP__Scheduler__init(void );
#line 61
static void RealMainP__Scheduler__taskLoop(void );
#line 54
static bool RealMainP__Scheduler__runNextTask(void );
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RealMainP.nc"
int main(void )   ;
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SchedulerBlockingP__TaskBasic__runTask(
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357710);
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
static void SchedulerBlockingP__TaskBlocking__runTask(
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
uint8_t arg_0x40357e88, 
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
volatile btask_t *btaskPtr);
# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuSleep.nc"
static void SchedulerBlockingP__McuSleep__sleep(void );
# 80 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
enum SchedulerBlockingP____nesc_unnamed4377 {

  SchedulerBlockingP__NUM_TASKS = 91U, 
  SchedulerBlockingP__NUM_BLOCKING_TASKS = 1U, 
  SchedulerBlockingP__NO_TASK = 255
};

volatile uint8_t SchedulerBlockingP__m_head;
volatile uint8_t SchedulerBlockingP__m_tail;
volatile uint8_t SchedulerBlockingP__m_next[SchedulerBlockingP__NUM_TASKS];

volatile uint8_t SchedulerBlockingP__b_head;
volatile uint8_t SchedulerBlockingP__b_tail;
volatile uint8_t SchedulerBlockingP__b_next[SchedulerBlockingP__NUM_BLOCKING_TASKS];
volatile btask_t SchedulerBlockingP__b_state[SchedulerBlockingP__NUM_BLOCKING_TASKS];








static __inline uint8_t SchedulerBlockingP__popTask(void );
#line 122
static inline bool SchedulerBlockingP__isWaiting(uint8_t id);




static inline bool SchedulerBlockingP__pushTask(uint8_t id);
#line 150
static error_t SchedulerBlockingP__TaskBasic__postTask(uint8_t id);





static void SchedulerBlockingP__TaskBasic__default__runTask(uint8_t id);




static __inline uint8_t SchedulerBlockingP__popBlockingTask(void );
#line 180
static inline bool SchedulerBlockingP__isBlockingWaiting(uint8_t id);









static inline bool SchedulerBlockingP__pushBlockingTask(uint8_t id);
#line 213
static inline error_t SchedulerBlockingP__TaskBlocking__postTask(uint8_t id);
#line 235
static inline void SchedulerBlockingP__TaskBlocking__default__runTask(uint8_t id, volatile btask_t *btaskPtr);




static inline void SchedulerBlockingP__Scheduler__init(void );
#line 264
static bool SchedulerBlockingP__Scheduler__runNextTask(void );
#line 283
static inline void SchedulerBlockingP__Scheduler__taskLoop(void );
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerOverride.nc"
static mcu_power_t McuSleepC__McuPowerOverride__lowestState(void );
# 83 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/McuSleepC.nc"
const_uint8_t McuSleepC__atm128PowerBits[ATM128_POWER_DOWN + 1] = { 
0, 
1 << 3, ((
1 << 2) | (1 << 4)) | (1 << 3), (
1 << 4) | (1 << 3), (
1 << 2) | (1 << 4), 
1 << 4 };

static inline mcu_power_t McuSleepC__getPowerState(void );
#line 129
static inline void McuSleepC__McuSleep__sleep(void );
#line 144
static inline void McuSleepC__McuPowerState__update(void );


static inline mcu_power_t McuSleepC__McuPowerOverride__default__lowestState(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t AtronBootP__FlashInfoControl__start(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void AtronBootP__Boot__booted(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t AtronBootP__RS485Control__start(void );
#line 83
static error_t AtronBootP__InfraredControl__start(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
static error_t AtronBootP__InitActiveMessageAddress__init(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t AtronBootP__HemisphereControl__start(void );
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void AtronBootP__Timer__startOneShot(uint32_t dt);
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
enum AtronBootP____nesc_unnamed4378 {
  AtronBootP__BOOT_DELAY = 10
};

static inline void AtronBootP__MainCBoot__booted(void );



static inline void AtronBootP__FlashInfoControl__startDone(error_t err);









static inline void AtronBootP__RS485Control__startDone(error_t err);








static inline void AtronBootP__InfraredControl__startDone(error_t err);








static inline void AtronBootP__HemisphereControl__startDone(error_t err);








static inline void AtronBootP__Timer__fired(void );




static inline void AtronBootP__RS485Control__stopDone(error_t err);
static inline void AtronBootP__InfraredControl__stopDone(error_t err);




static inline void AtronBootP__main__runTask(volatile btask_t *__btaskPtr__);
# 22 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/NoInitC.nc"
static inline error_t NoInitC__Init__init(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer0C__Compare__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void HplAtm128Timer0C__Timer__overflow(void );
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline uint8_t HplAtm128Timer0C__Timer__get(void );


static inline void HplAtm128Timer0C__Timer__set(uint8_t t);








static inline void HplAtm128Timer0C__Timer__setScale(uint8_t s);






static inline Atm128TimerControl_t HplAtm128Timer0C__TimerCtrl__getControl(void );









static inline void HplAtm128Timer0C__TimerCtrl__setControl(Atm128TimerControl_t x);
#line 119
static inline Atm128_TIFR_t HplAtm128Timer0C__TimerCtrl__getInterruptFlag(void );
#line 132
static inline void HplAtm128Timer0C__Timer__start(void );

static inline bool HplAtm128Timer0C__Timer__test(void );





static inline void HplAtm128Timer0C__Compare__reset(void );
static inline void HplAtm128Timer0C__Compare__start(void );
static inline void HplAtm128Timer0C__Compare__stop(void );
#line 154
static inline void HplAtm128Timer0C__Compare__set(uint8_t t);



void __vector_15(void ) __attribute((interrupt))   ;



void __vector_16(void ) __attribute((interrupt))   ;
# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__setScale(uint8_t scale);
#line 58
static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__set(/*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__timer_size t);










static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__start(void );
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128TimerInitC.nc"
static inline error_t /*InitZeroP.InitZero*/Atm128TimerInitC__0__Init__init(void );








static inline void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__overflow(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__fired(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__reset(void );
#line 45
static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__set(/*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__size_type t);










static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__start(void );


static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__stop(void );
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__timer_size /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__get(void );
# 65 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128AlarmC.nc"
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__stop(void );








static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__startAt(/*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size t0, /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size dt);
#line 110
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__fired(void );






static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__overflow(void );
# 71 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static void /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__overflow(void );
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static bool /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__test(void );
#line 52
static /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__get(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128CounterC.nc"
static inline /*CounterZero8C.NCounter*/Atm128CounterC__0__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__get(void );




static inline bool /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__isOverflowPending(void );









static inline void /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__overflow(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__fired(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__get(void );






static bool /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__isOverflowPending(void );










static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__overflow(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__startAt(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__size_type t0, /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__size_type dt);
#line 62
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__stop(void );
# 68 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__upper_count_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_upper;
/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0;
/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt;
uint8_t /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows;

enum /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0____nesc_unnamed4379 {

  TransformAlarmCounterC__0__MAX_DELAY_LOG2 = 8 * sizeof(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type ) - 1 - 6, 
  TransformAlarmCounterC__0__MAX_DELAY = (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type )1 << /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY_LOG2
};

enum /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0____nesc_unnamed4380 {

  TransformAlarmCounterC__0__LOW_SHIFT_RIGHT = 6, 
  TransformAlarmCounterC__0__HIGH_SHIFT_LEFT = 8 * sizeof(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type ) - /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__LOW_SHIFT_RIGHT, 
  TransformAlarmCounterC__0__NUM_UPPER_BITS = 8 * sizeof(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type ) - 8 * sizeof(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type ) + 6, 



  TransformAlarmCounterC__0__OVERFLOW_MASK = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__NUM_UPPER_BITS ? ((/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__upper_count_type )2 << (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__NUM_UPPER_BITS - 1)) - 1 : 0
};

static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm(void );

static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get(void );
#line 145
static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__overflow(void );
#line 158
static inline /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getNow(void );




static inline /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getAlarm(void );









static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__stop(void );




static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm(void );
#line 221
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__startAt(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type t0, /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type dt);
#line 236
static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__fired(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__postTask(void );
# 98 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
static /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getNow(void );
#line 92
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__startAt(/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type t0, /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type dt);
#line 105
static /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getAlarm(void );
#line 62
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__stop(void );
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__fired(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
enum /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0____nesc_unnamed4381 {
#line 63
  AlarmToTimerC__0__fired = 0U
};
#line 63
typedef int /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0____nesc_sillytask_fired[/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired];
#line 44
uint32_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_dt;
bool /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_oneshot;

static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__start(uint32_t t0, uint32_t dt, bool oneshot);
#line 60
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__stop(void );


static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__runTask(void );






static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__fired(void );
#line 82
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__startOneShotAt(uint32_t t0, uint32_t dt);


static inline uint32_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__getNow(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__postTask(void );
# 125 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static uint32_t /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow(void );
#line 118
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__startOneShotAt(uint32_t t0, uint32_t dt);
#line 67
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__stop(void );




static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__fired(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
uint8_t arg_0x404db708);
#line 60
enum /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0____nesc_unnamed4382 {
#line 60
  VirtualizeTimerC__0__updateFromTimer = 1U
};
#line 60
typedef int /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0____nesc_sillytask_updateFromTimer[/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer];
#line 42
enum /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0____nesc_unnamed4383 {

  VirtualizeTimerC__0__NUM_TIMERS = 30, 
  VirtualizeTimerC__0__END_OF_LIST = 255
};








#line 48
typedef struct /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0____nesc_unnamed4384 {

  uint32_t t0;
  uint32_t dt;
  bool isoneshot : 1;
  bool isrunning : 1;
  bool _reserved : 6;
} /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer_t;

/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer_t /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__NUM_TIMERS];




static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__fireTimers(uint32_t now);
#line 89
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__runTask(void );
#line 128
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__fired(void );




static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__startTimer(uint8_t num, uint32_t t0, uint32_t dt, bool isoneshot);









static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(uint8_t num, uint32_t dt);




static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(uint8_t num, uint32_t dt);




static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(uint8_t num);




static inline bool /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__isRunning(uint8_t num);
#line 193
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__default__fired(uint8_t num);
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
static /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__size_type /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__get(void );
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/CounterToLocalTimeC.nc"
static inline uint32_t /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__LocalTime__get(void );




static inline void /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__overflow(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void RS485SerialP__SplitControl__startDone(error_t error);
#line 117
static void RS485SerialP__SplitControl__stopDone(error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialP__stopDoneTask__postTask(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t RS485SerialP__SerialControl__start(void );









static error_t RS485SerialP__SerialControl__stop(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialP__RunTx__postTask(void );
#line 56
static error_t RS485SerialP__startWatchdog__postTask(void );
#line 56
static error_t RS485SerialP__stopWatchdog__postTask(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void RS485SerialP__driverEnable__makeOutput(void );
#line 29
static void RS485SerialP__driverEnable__set(void );
static void RS485SerialP__driverEnable__clr(void );
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void RS485SerialP__SerialFlush__flush(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void RS485SerialP__receiverEnable__makeOutput(void );
#line 29
static void RS485SerialP__receiverEnable__set(void );
static void RS485SerialP__receiverEnable__clr(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialP__startDoneTask__postTask(void );
#line 56
static error_t RS485SerialP__defaultSerialFlushTask__postTask(void );
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t RS485SerialP__SerialFrameComm__putDelimiter(void );
#line 68
static void RS485SerialP__SerialFrameComm__resetReceive(void );
#line 54
static error_t RS485SerialP__SerialFrameComm__putData(uint8_t data);
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RS485SerialP__Watchdog__startOneShot(uint32_t dt);




static void RS485SerialP__Watchdog__stop(void );
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
static uint8_t RS485SerialP__SendBytePacket__nextByte(void );
#line 82
static void RS485SerialP__SendBytePacket__ackReceived(uint8_t ackedPktNo);
#line 80
static void RS485SerialP__SendBytePacket__sendCompleted(error_t error, uint8_t seqNo);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
static error_t RS485SerialP__ReceiveBytePacket__startPacket(void );






static void RS485SerialP__ReceiveBytePacket__byteReceived(uint8_t data);










static void RS485SerialP__ReceiveBytePacket__endPacket(error_t result);
# 237 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
enum RS485SerialP____nesc_unnamed4385 {
#line 237
  RS485SerialP__RunTx = 2U
};
#line 237
typedef int RS485SerialP____nesc_sillytask_RunTx[RS485SerialP__RunTx];


enum RS485SerialP____nesc_unnamed4386 {
#line 240
  RS485SerialP__startWatchdog = 3U
};
#line 240
typedef int RS485SerialP____nesc_sillytask_startWatchdog[RS485SerialP__startWatchdog];
enum RS485SerialP____nesc_unnamed4387 {
#line 241
  RS485SerialP__stopWatchdog = 4U
};
#line 241
typedef int RS485SerialP____nesc_sillytask_stopWatchdog[RS485SerialP__stopWatchdog];
#line 416
enum RS485SerialP____nesc_unnamed4388 {
#line 416
  RS485SerialP__startDoneTask = 5U
};
#line 416
typedef int RS485SerialP____nesc_sillytask_startDoneTask[RS485SerialP__startDoneTask];





enum RS485SerialP____nesc_unnamed4389 {
#line 422
  RS485SerialP__stopDoneTask = 6U
};
#line 422
typedef int RS485SerialP____nesc_sillytask_stopDoneTask[RS485SerialP__stopDoneTask];








enum RS485SerialP____nesc_unnamed4390 {
#line 431
  RS485SerialP__defaultSerialFlushTask = 7U
};
#line 431
typedef int RS485SerialP____nesc_sillytask_defaultSerialFlushTask[RS485SerialP__defaultSerialFlushTask];
#line 118
enum RS485SerialP____nesc_unnamed4391 {
  RS485SerialP__RX_DATA_BUFFER_SIZE = 2, 
  RS485SerialP__TX_DATA_BUFFER_SIZE = 4, 
  RS485SerialP__SERIAL_MTU = 255, 
  RS485SerialP__SERIAL_VERSION = 1, 
  RS485SerialP__ACK_QUEUE_SIZE = 5
};

enum RS485SerialP____nesc_unnamed4392 {
  RS485SerialP__RXSTATE_NOSYNC, 
  RS485SerialP__RXSTATE_PROTO, 
  RS485SerialP__RXSTATE_TOKEN, 
  RS485SerialP__RXSTATE_INFO, 
  RS485SerialP__RXSTATE_INACTIVE
};

enum RS485SerialP____nesc_unnamed4393 {
  RS485SerialP__TXSTATE_IDLE, 
  RS485SerialP__TXSTATE_PROTO, 
  RS485SerialP__TXSTATE_SEQNO, 
  RS485SerialP__TXSTATE_INFO, 
  RS485SerialP__TXSTATE_FCS1, 
  RS485SerialP__TXSTATE_FCS2, 
  RS485SerialP__TXSTATE_ENDFLAG, 
  RS485SerialP__TXSTATE_ENDWAIT, 
  RS485SerialP__TXSTATE_FINISH, 
  RS485SerialP__TXSTATE_ERROR, 
  RS485SerialP__TXSTATE_INACTIVE, 
  RS485SerialP__TXSTATE_ALMOST_DONE, 
  RS485SerialP__TXSTATE_DONE
};





#line 150
typedef enum RS485SerialP____nesc_unnamed4394 {
  RS485SerialP__BUFFER_AVAILABLE, 
  RS485SerialP__BUFFER_FILLING, 
  RS485SerialP__BUFFER_COMPLETE
} RS485SerialP__tx_data_buffer_states_t;

enum RS485SerialP____nesc_unnamed4395 {
  RS485SerialP__TX_ACK_INDEX = 0, 
  RS485SerialP__TX_DATA_INDEX = 1, 
  RS485SerialP__TX_BUFFER_COUNT = 2
};






#line 163
typedef struct RS485SerialP____nesc_unnamed4396 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[RS485SerialP__RX_DATA_BUFFER_SIZE + 1];
} RS485SerialP__rx_buf_t;




#line 169
typedef struct RS485SerialP____nesc_unnamed4397 {
  uint8_t state;
  uint8_t buf;
} RS485SerialP__tx_buf_t;





#line 174
typedef struct RS485SerialP____nesc_unnamed4398 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[RS485SerialP__ACK_QUEUE_SIZE + 1];
} RS485SerialP__ack_queue_t;



RS485SerialP__rx_buf_t RS485SerialP__rxBuf;
RS485SerialP__tx_buf_t RS485SerialP__txBuf[RS485SerialP__TX_BUFFER_COUNT];



uint8_t RS485SerialP__rxState;
uint8_t RS485SerialP__rxByteCnt;
uint8_t RS485SerialP__rxProto;
uint8_t RS485SerialP__rxSeqno;
uint16_t RS485SerialP__rxCRC;
uint8_t RS485SerialP__lastRxSeqno = 255;



uint8_t RS485SerialP__txState;
uint8_t RS485SerialP__txByteCnt;
uint8_t RS485SerialP__txProto;
uint8_t RS485SerialP__txSeqno;
uint8_t RS485SerialP__ackSeqno;
uint16_t RS485SerialP__txCRC;
uint8_t RS485SerialP__txPending;
uint8_t RS485SerialP__txIndex;
bool RS485SerialP__ackRequested;


RS485SerialP__ack_queue_t RS485SerialP__ackQ;

bool RS485SerialP__offPending = FALSE;



static __inline void RS485SerialP__txInit(void );
static __inline void RS485SerialP__rxInit(void );
static __inline void RS485SerialP__ackInit(void );
static __inline void RS485SerialP__pinsInit(void );
static __inline void RS485SerialP__setRx(void );
static __inline void RS485SerialP__setTx(void );
static __inline bool RS485SerialP__availableForTx(void );

static __inline bool RS485SerialP__ack_queue_is_full(void );
static __inline bool RS485SerialP__ack_queue_is_empty(void );
static __inline void RS485SerialP__ack_queue_push(uint8_t token);
static __inline uint8_t RS485SerialP__ack_queue_top(void );
static inline uint8_t RS485SerialP__ack_queue_pop(void );




static __inline void RS485SerialP__rx_buffer_push(uint8_t data);
static __inline uint8_t RS485SerialP__rx_buffer_top(void );
static __inline uint8_t RS485SerialP__rx_buffer_pop(void );
static __inline uint16_t RS485SerialP__rx_current_crc(void );

static void RS485SerialP__rx_state_machine(bool isDelimeter, uint8_t data);
static void RS485SerialP__MaybeScheduleTx(void );


bool RS485SerialP__watchdogOn;




static __inline void RS485SerialP__txInit(void );
#line 256
static __inline void RS485SerialP__rxInit(void );










static __inline void RS485SerialP__pinsInit(void );




static __inline void RS485SerialP__setRx(void );




static __inline void RS485SerialP__setTx(void );




static __inline bool RS485SerialP__availableForTx(void );










static __inline void RS485SerialP__ackInit(void );



static inline void RS485SerialP__startWatchdog__runTask(void );



static inline void RS485SerialP__stopWatchdog__runTask(void );



static inline error_t RS485SerialP__Init__init(void );
#line 321
static __inline bool RS485SerialP__ack_queue_is_full(void );









static __inline bool RS485SerialP__ack_queue_is_empty(void );





static __inline void RS485SerialP__ack_queue_push(uint8_t token);
#line 354
static __inline uint8_t RS485SerialP__ack_queue_top(void );









static inline uint8_t RS485SerialP__ack_queue_pop(void );
#line 391
static __inline void RS485SerialP__rx_buffer_push(uint8_t data);



static __inline uint8_t RS485SerialP__rx_buffer_top(void );



static __inline uint8_t RS485SerialP__rx_buffer_pop(void );





static __inline uint16_t RS485SerialP__rx_current_crc(void );










static inline void RS485SerialP__startDoneTask__runTask(void );





static inline void RS485SerialP__stopDoneTask__runTask(void );



static inline void RS485SerialP__SerialFlush__flushDone(void );




static inline void RS485SerialP__defaultSerialFlushTask__runTask(void );


static inline void RS485SerialP__SerialFlush__default__flush(void );



static inline error_t RS485SerialP__SplitControl__start(void );




static void RS485SerialP__testOff(void );
#line 480
static inline void RS485SerialP__SerialFrameComm__delimiterReceived(void );


static inline void RS485SerialP__SerialFrameComm__dataReceived(uint8_t data);



static void RS485SerialP__rx_state_machine(bool isDelimeter, uint8_t data);
#line 602
static void RS485SerialP__MaybeScheduleTx(void );










static inline error_t RS485SerialP__SendBytePacket__completeSend(void );








static error_t RS485SerialP__SendBytePacket__startSend(uint8_t b, bool ackReq, bool seqNoSpecified, uint8_t seqNo);
#line 644
static inline void RS485SerialP__RunTx__runTask(void );
#line 760
static inline void RS485SerialP__SerialFrameComm__putDone(void );
#line 876
static inline void RS485SerialP__Watchdog__fired(void );
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RS485SerialDispatcherP__ackTimeout__startOneShot(uint32_t dt);




static void RS485SerialDispatcherP__ackTimeout__stop(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialDispatcherP__receiveTask__postTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void RS485SerialDispatcherP__Send__sendDone(
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405db650, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Random.nc"
static uint16_t RS485SerialDispatcherP__Random__rand16(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialDispatcherP__signalSendDone__postTask(void );
#line 56
static error_t RS485SerialDispatcherP__stopAckTimeout__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RS485SerialDispatcherP__Receive__receive(
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405db010, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t RS485SerialDispatcherP__PacketInfo__upperLength(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t RS485SerialDispatcherP__PacketInfo__offset(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t RS485SerialDispatcherP__PacketInfo__dataLinkLength(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
uart_id_t arg_0x405eb160, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialDispatcherP__startAckTimeout__postTask(void );
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
static error_t RS485SerialDispatcherP__SendBytePacket__completeSend(void );
#line 51
static error_t RS485SerialDispatcherP__SendBytePacket__startSend(uint8_t first_byte, bool ackRequested, bool seqNoSpecified, uint8_t seqNo);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RS485SerialDispatcherP__resendTask__postTask(void );
# 108 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
enum RS485SerialDispatcherP____nesc_unnamed4399 {
#line 108
  RS485SerialDispatcherP__signalSendDone = 8U
};
#line 108
typedef int RS485SerialDispatcherP____nesc_sillytask_signalSendDone[RS485SerialDispatcherP__signalSendDone];

enum RS485SerialDispatcherP____nesc_unnamed4400 {
#line 110
  RS485SerialDispatcherP__startAckTimeout = 9U
};
#line 110
typedef int RS485SerialDispatcherP____nesc_sillytask_startAckTimeout[RS485SerialDispatcherP__startAckTimeout];



enum RS485SerialDispatcherP____nesc_unnamed4401 {
#line 114
  RS485SerialDispatcherP__stopAckTimeout = 10U
};
#line 114
typedef int RS485SerialDispatcherP____nesc_sillytask_stopAckTimeout[RS485SerialDispatcherP__stopAckTimeout];





enum RS485SerialDispatcherP____nesc_unnamed4402 {
#line 120
  RS485SerialDispatcherP__resendTask = 11U
};
#line 120
typedef int RS485SerialDispatcherP____nesc_sillytask_resendTask[RS485SerialDispatcherP__resendTask];
#line 330
enum RS485SerialDispatcherP____nesc_unnamed4403 {
#line 330
  RS485SerialDispatcherP__receiveTask = 12U
};
#line 330
typedef int RS485SerialDispatcherP____nesc_sillytask_receiveTask[RS485SerialDispatcherP__receiveTask];
#line 60
#line 56
typedef enum RS485SerialDispatcherP____nesc_unnamed4404 {
  RS485SerialDispatcherP__SEND_STATE_IDLE = 0, 
  RS485SerialDispatcherP__SEND_STATE_BEGIN = 1, 
  RS485SerialDispatcherP__SEND_STATE_DATA = 2
} RS485SerialDispatcherP__send_state_t;

enum RS485SerialDispatcherP____nesc_unnamed4405 {
  RS485SerialDispatcherP__RECV_STATE_IDLE = 0, 
  RS485SerialDispatcherP__RECV_STATE_BEGIN = 1, 
  RS485SerialDispatcherP__RECV_STATE_DATA = 2, 
  RS485SerialDispatcherP__RECV_STATE_SEQNO
};






#line 69
typedef struct RS485SerialDispatcherP____nesc_unnamed4406 {
  uint8_t which : 1;
  uint8_t bufZeroLocked : 1;
  uint8_t bufOneLocked : 1;
  uint8_t state : 2;
} RS485SerialDispatcherP__recv_state_t;



RS485SerialDispatcherP__recv_state_t RS485SerialDispatcherP__receiveState = { 0, 0, 0, RS485SerialDispatcherP__RECV_STATE_IDLE };
uint8_t RS485SerialDispatcherP__recvType = TOS_SERIAL_UNKNOWN_ID;
uint8_t RS485SerialDispatcherP__recvIndex = 0;


message_t RS485SerialDispatcherP__messages[2];
message_t *RS485SerialDispatcherP__messagePtrs[2] = { &RS485SerialDispatcherP__messages[0], &RS485SerialDispatcherP__messages[1] };




uint8_t *RS485SerialDispatcherP__receiveBuffer = (uint8_t *)&RS485SerialDispatcherP__messages[0];

uint8_t *RS485SerialDispatcherP__sendBuffer = (void *)0;
RS485SerialDispatcherP__send_state_t RS485SerialDispatcherP__sendState = RS485SerialDispatcherP__SEND_STATE_IDLE;
uint8_t RS485SerialDispatcherP__sendLen = 0;
uint8_t RS485SerialDispatcherP__sendIndex = 0;
error_t RS485SerialDispatcherP__sendError = SUCCESS;
bool RS485SerialDispatcherP__sendCancelled = FALSE;
uint8_t RS485SerialDispatcherP__sendId = 0;
bool RS485SerialDispatcherP__waitingAck;

uint8_t RS485SerialDispatcherP__receiveTaskPending = FALSE;
uart_id_t RS485SerialDispatcherP__receiveTaskType = 0;
uint8_t RS485SerialDispatcherP__receiveTaskWhich;
message_t *RS485SerialDispatcherP__receiveTaskBuf = (void *)0;
uint8_t RS485SerialDispatcherP__receiveTaskSize = 0;

uint8_t RS485SerialDispatcherP__outstandingPktNo;



static inline void RS485SerialDispatcherP__startAckTimeout__runTask(void );



static inline void RS485SerialDispatcherP__stopAckTimeout__runTask(void );





static inline void RS485SerialDispatcherP__resendTask__runTask(void );
#line 137
static error_t RS485SerialDispatcherP__Send__send(uint8_t id, message_t *msg, uint8_t len);
#line 194
static inline void RS485SerialDispatcherP__signalSendDone__runTask(void );
#line 214
static inline uint8_t RS485SerialDispatcherP__SendBytePacket__nextByte(void );
#line 230
static inline void RS485SerialDispatcherP__SendBytePacket__sendCompleted(error_t error, uint8_t seqNo);









static inline void RS485SerialDispatcherP__SendBytePacket__ackReceived(uint8_t ackedPktNo);








static inline bool RS485SerialDispatcherP__isCurrentBufferLocked(void );








static inline void RS485SerialDispatcherP__lockCurrentBuffer(void );








static inline void RS485SerialDispatcherP__unlockBuffer(uint8_t which);








static inline void RS485SerialDispatcherP__receiveBufferSwap(void );




static inline error_t RS485SerialDispatcherP__ReceiveBytePacket__startPacket(void );
#line 299
static inline void RS485SerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t b);
#line 330
static inline void RS485SerialDispatcherP__receiveTask__runTask(void );
#line 354
static void RS485SerialDispatcherP__ReceiveBytePacket__endPacket(error_t result);
#line 417
static inline void RS485SerialDispatcherP__ackTimeout__fired(void );






static inline void RS485SerialDispatcherP__delayTimer__fired(void );



static uint8_t RS485SerialDispatcherP__PacketInfo__default__offset(uart_id_t id);


static inline uint8_t RS485SerialDispatcherP__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen);


static inline uint8_t RS485SerialDispatcherP__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen);




static inline message_t *RS485SerialDispatcherP__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len);
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__dataReceived(uint8_t data);





static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDone(void );
#line 74
static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__delimiterReceived(void );
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
#line 72
typedef struct /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0____nesc_unnamed4407 {
  uint8_t sendEscape : 1;
  uint8_t receiveEscape : 1;
} /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__HdlcState;


/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__HdlcState /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state = { 0, 0 };
uint8_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__txTemp;
uint8_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data;


static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__resetReceive(void );





static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receivedByte(uint8_t data);
#line 114
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDelimiter(void );





static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putData(uint8_t data);
#line 132
static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error);










static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receiveDone(uint8_t *buf, uint16_t len, error_t error);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__start(void );









static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__stop(void );
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receivedByte(uint8_t byte);
#line 99
static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receiveDone(
#line 95
uint8_t * buf, 



uint16_t len, error_t error);
#line 57
static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableRxIntr(void );
#line 40
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableTxIntr(void );
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableTxIntr(void );

static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableRxIntr(void );


static void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__tx(uint8_t data);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__start(void );









static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__stop(void );
# 90 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
uint8_t */*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf;
#line 90
uint8_t */*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_buf;
uint16_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_len;
#line 91
uint16_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_len;
uint16_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_pos;
#line 92
uint16_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_pos;
uint16_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_byte_time;
uint8_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_intr;
uint8_t /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_intr;

static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__Init__init(void );
#line 110
static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__start(void );
#line 126
static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__stop(void );
#line 166
static inline void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__rxDone(uint8_t data);
#line 188
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__send(uint8_t *buf, uint16_t len);
#line 206
static inline void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__txDone(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/BusyWait.nc"
static void HplAtm128UartP__BusyWait__wait(HplAtm128UartP__BusyWait__size_type dt);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static void HplAtm128UartP__HplUart0__rxDone(uint8_t data);
#line 47
static void HplAtm128UartP__HplUart0__txDone(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void HplAtm128UartP__mcp2120Enable__makeOutput(void );
#line 29
static void HplAtm128UartP__mcp2120Enable__set(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static void HplAtm128UartP__HplUart1__rxDone(uint8_t data);
#line 47
static void HplAtm128UartP__HplUart1__txDone(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void HplAtm128UartP__mcp2120Mode__makeOutput(void );
#line 29
static void HplAtm128UartP__mcp2120Mode__set(void );
static void HplAtm128UartP__mcp2120Mode__clr(void );
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Calibrate.nc"
static uint16_t HplAtm128UartP__Atm128Calibrate__baudrateRegister(uint32_t baudrate);
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerState.nc"
static void HplAtm128UartP__McuPowerState__update(void );
# 127 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0Init__init(void );
#line 169
static inline error_t HplAtm128UartP__Uart0TxControl__start(void );





static inline error_t HplAtm128UartP__Uart0TxControl__stop(void );





static inline error_t HplAtm128UartP__Uart0RxControl__start(void );





static inline error_t HplAtm128UartP__Uart0RxControl__stop(void );





static inline error_t HplAtm128UartP__HplUart0__enableTxIntr(void );





static inline error_t HplAtm128UartP__HplUart0__disableTxIntr(void );




static inline error_t HplAtm128UartP__HplUart0__enableRxIntr(void );




static inline error_t HplAtm128UartP__HplUart0__disableRxIntr(void );
#line 226
static void HplAtm128UartP__HplUart0__tx(uint8_t data);






void __vector_18(void ) __attribute((signal))   ;





void __vector_20(void ) __attribute((interrupt))   ;



static inline error_t HplAtm128UartP__Uart1Init__init(void );
#line 263
static inline error_t HplAtm128UartP__Uart1TxControl__start(void );





static inline error_t HplAtm128UartP__Uart1TxControl__stop(void );





static inline error_t HplAtm128UartP__Uart1RxControl__start(void );





static inline error_t HplAtm128UartP__Uart1RxControl__stop(void );





static inline error_t HplAtm128UartP__HplUart1__enableTxIntr(void );





static inline error_t HplAtm128UartP__HplUart1__disableTxIntr(void );




static inline error_t HplAtm128UartP__HplUart1__enableRxIntr(void );




static inline error_t HplAtm128UartP__HplUart1__disableRxIntr(void );
#line 320
static void HplAtm128UartP__HplUart1__tx(uint8_t data);






void __vector_30(void ) __attribute((signal))   ;




void __vector_32(void ) __attribute((interrupt))   ;
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__makeOutput(void );
#line 45
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__get(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__makeInput(void );
#line 45
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__get(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__makeInput(void );
#line 45
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__get(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__makeInput(void );
#line 45
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__get(void );




static __inline void /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__makeInput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__makeOutput(void );
#line 47
static __inline void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__makeOutput(void );
#line 47
static __inline void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__set(void );





static __inline void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__makeOutput(void );
#line 46
static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__makeOutput(void );
#line 45
static __inline bool /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__get(void );
static __inline void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__set(void );



static __inline void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__makeInput(void );
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__makeOutput(void );
#line 47
static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__makeOutput(void );
#line 47
static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__set(void );
static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__clr(void );




static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__makeOutput(void );
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__clear(void );
#line 40
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__disable(void );
#line 59
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__edge(bool low_to_high);
#line 35
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__enable(void );
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__fired(void );
# 15 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/Atm128GpioInterruptC.nc"
static error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__enable(bool rising);
#line 29
static inline error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__enableFallingEdge(void );



static inline error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__disable(void );




static inline void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
static void HplAtm128InterruptSigP__IntSig6__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig1__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig4__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig7__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig2__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig5__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig0__fired(void );
#line 41
static void HplAtm128InterruptSigP__IntSig3__fired(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/HplAtm128InterruptSigP.nc"
uint8_t HplAtm128InterruptSigP__port_a;

static inline uint8_t HplAtm128InterruptSigP__GetPortA__getNow(void );





void __vector_1(void ) __attribute((signal))   ;





void __vector_2(void ) __attribute((signal))   ;




void __vector_3(void ) __attribute((signal))   ;




void __vector_4(void ) __attribute((signal))   ;




void __vector_5(void ) __attribute((signal))   ;




void __vector_6(void ) __attribute((signal))   ;




void __vector_7(void ) __attribute((signal))   ;






void __vector_8(void ) __attribute((interrupt))   ;
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__fired(void );
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__clear(void );
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__enable(void );
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__disable(void );



static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__edge(bool low_to_high);
#line 61
static inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__IrqSignal__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__default__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__default__fired(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
static void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__default__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__fired(void );
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__default__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__fired(void );
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__default__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__fired(void );
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__default__fired(void );
# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
static void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__fired(void );
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__IrqSignal__fired(void );

static inline void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__default__fired(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer1P__CompareA__fired(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void HplAtm128Timer1P__Capture__captured(HplAtm128Timer1P__Capture__size_type t);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer1P__CompareB__fired(void );
#line 49
static void HplAtm128Timer1P__CompareC__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void HplAtm128Timer1P__Timer__overflow(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline uint16_t HplAtm128Timer1P__Timer__get(void );
#line 61
static inline void HplAtm128Timer1P__Timer__setScale(uint8_t s);






static inline Atm128TimerCtrlCompare_t HplAtm128Timer1P__TimerCtrl__getCtrlCompare(void );


static inline Atm128TimerCtrlCapture_t HplAtm128Timer1P__TimerCtrl__getCtrlCapture(void );








static inline uint16_t HplAtm128Timer1P__TimerCtrlCompare2int(Atm128TimerCtrlCompare_t x);
static inline uint16_t HplAtm128Timer1P__TimerCtrlCapture2int(Atm128TimerCtrlCapture_t x);



static inline void HplAtm128Timer1P__TimerCtrl__setCtrlCompare(Atm128_TCCR1A_t x);


static inline void HplAtm128Timer1P__TimerCtrl__setCtrlCapture(Atm128_TCCR1B_t x);
#line 184
static inline void HplAtm128Timer1P__CompareB__set(uint16_t t);
static inline void HplAtm128Timer1P__CompareC__set(uint16_t t);





static inline void HplAtm128Timer1P__Capture__set(uint16_t t);


static inline void HplAtm128Timer1P__CompareA__default__fired(void );
void __vector_12(void ) __attribute((interrupt))   ;



void __vector_13(void ) __attribute((interrupt))   ;



void __vector_24(void ) __attribute((interrupt))   ;



void __vector_11(void ) __attribute((interrupt))   ;



void __vector_14(void ) __attribute((interrupt))   ;
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control);
#line 36
static Atm128TimerCtrlCompare_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCompare(void );
static Atm128TimerCtrlCapture_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCapture(void );


static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control);
# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__setScale(uint8_t scale);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline error_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Init__init(void );
#line 59
static inline void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__overflow(void );
# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
static Atm128TimerCtrlCompare_t /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__getCtrlCompare(void );



static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control);
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__set(/*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__size_type t);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__makeOutput(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088bd08);
# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__clr(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
channel_id_t arg_0x4088bd08);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__set(
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
uint8_t arg_0x40885010, 
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
/*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__size_type t);
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(channel_id_t channel, uint16_t top, uint16_t steps_high);
#line 72
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__setHigh(channel_id_t channel, uint16_t steps_high);




static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__stop(channel_id_t channel);
#line 97
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__HplAtm128Timer__overflow(void );
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__fired(uint8_t id);
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__captured(uint16_t time);

static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__default__set(uint8_t id, uint16_t t);

static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__makeOutput(uint8_t id);
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__clr(uint8_t id);
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/BusyWaitMicroC.nc"
static __inline void BusyWaitMicroC__BusyWait__wait(uint16_t dt);
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RandomMlcgC.nc"
uint32_t RandomMlcgC__seed;


static inline error_t RandomMlcgC__Init__init(void );






static inline error_t RandomMlcgC__SeedInit__init(uint16_t s);






static uint32_t RandomMlcgC__Random__rand32(void );
#line 78
static inline uint16_t RandomMlcgC__Random__rand16(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void InfraredSerialP__SplitControl__startDone(error_t error);
#line 117
static void InfraredSerialP__SplitControl__stopDone(error_t error);
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static error_t InfraredSerialP__RxInterrupt__disable(void );
#line 43
static error_t InfraredSerialP__RxInterrupt__enableFallingEdge(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialP__stopDoneTask__postTask(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t InfraredSerialP__SerialControl__start(void );









static error_t InfraredSerialP__SerialControl__stop(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialP__RunTx__postTask(void );
#line 56
static error_t InfraredSerialP__startWatchdog__postTask(void );
#line 56
static error_t InfraredSerialP__stopWatchdog__postTask(void );
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
static uint8_t InfraredSerialP__InfraredChannel__getActivity(void );
#line 41
static void InfraredSerialP__InfraredChannel__enable(uint8_t val);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static error_t InfraredSerialP__ResourceDefaultOwner__release(void );








static bool InfraredSerialP__ResourceDefaultOwner__isOwner(void );
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void InfraredSerialP__SerialFlush__flush(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialP__startDoneTask__postTask(void );
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
static void InfraredSerialP__powerPwm__start(uint16_t top, uint16_t steps_high);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t InfraredSerialP__SerialFrameComm__putDelimiter(void );
#line 68
static void InfraredSerialP__SerialFrameComm__resetReceive(void );
#line 54
static error_t InfraredSerialP__SerialFrameComm__putData(uint8_t data);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialP__defaultSerialFlushTask__postTask(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t InfraredSerialP__Resource__release(void );
#line 78
static error_t InfraredSerialP__Resource__request(void );
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void InfraredSerialP__Watchdog__startOneShot(uint32_t dt);




static void InfraredSerialP__Watchdog__stop(void );
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
static uint8_t InfraredSerialP__SendBytePacket__nextByte(void );









static void InfraredSerialP__SendBytePacket__sendCompleted(error_t error);
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredReceiveBytePacket.nc"
static error_t InfraredSerialP__ReceiveBytePacket__startPacket(uint8_t channel);






static void InfraredSerialP__ReceiveBytePacket__byteReceived(uint8_t data);










static void InfraredSerialP__ReceiveBytePacket__endPacket(error_t result);
# 239 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
enum InfraredSerialP____nesc_unnamed4408 {
#line 239
  InfraredSerialP__RunTx = 13U
};
#line 239
typedef int InfraredSerialP____nesc_sillytask_RunTx[InfraredSerialP__RunTx];
enum InfraredSerialP____nesc_unnamed4409 {
#line 240
  InfraredSerialP__startWatchdog = 14U
};
#line 240
typedef int InfraredSerialP____nesc_sillytask_startWatchdog[InfraredSerialP__startWatchdog];
enum InfraredSerialP____nesc_unnamed4410 {
#line 241
  InfraredSerialP__stopWatchdog = 15U
};
#line 241
typedef int InfraredSerialP____nesc_sillytask_stopWatchdog[InfraredSerialP__stopWatchdog];
#line 391
enum InfraredSerialP____nesc_unnamed4411 {
#line 391
  InfraredSerialP__startDoneTask = 16U
};
#line 391
typedef int InfraredSerialP____nesc_sillytask_startDoneTask[InfraredSerialP__startDoneTask];








enum InfraredSerialP____nesc_unnamed4412 {
#line 400
  InfraredSerialP__stopDoneTask = 17U
};
#line 400
typedef int InfraredSerialP____nesc_sillytask_stopDoneTask[InfraredSerialP__stopDoneTask];








enum InfraredSerialP____nesc_unnamed4413 {
#line 409
  InfraredSerialP__defaultSerialFlushTask = 18U
};
#line 409
typedef int InfraredSerialP____nesc_sillytask_defaultSerialFlushTask[InfraredSerialP__defaultSerialFlushTask];
#line 124
enum InfraredSerialP____nesc_unnamed4414 {
  InfraredSerialP__RX_DATA_BUFFER_SIZE = 2, 
  InfraredSerialP__TX_DATA_BUFFER_SIZE = 4, 
  InfraredSerialP__SERIAL_MTU = 255, 
  InfraredSerialP__SERIAL_VERSION = 1, 
  InfraredSerialP__ACK_QUEUE_SIZE = 5
};

enum InfraredSerialP____nesc_unnamed4415 {
  InfraredSerialP__RXSTATE_NOSYNC, 
  InfraredSerialP__RXSTATE_PROTO, 
  InfraredSerialP__RXSTATE_TOKEN, 
  InfraredSerialP__RXSTATE_INFO, 
  InfraredSerialP__RXSTATE_INACTIVE
};

enum InfraredSerialP____nesc_unnamed4416 {
  InfraredSerialP__TXSTATE_IDLE, 
  InfraredSerialP__TXSTATE_PROTO, 
  InfraredSerialP__TXSTATE_SEQNO, 
  InfraredSerialP__TXSTATE_INFO, 
  InfraredSerialP__TXSTATE_FCS1, 
  InfraredSerialP__TXSTATE_FCS2, 
  InfraredSerialP__TXSTATE_ENDFLAG, 
  InfraredSerialP__TXSTATE_ENDWAIT, 
  InfraredSerialP__TXSTATE_FINISH, 
  InfraredSerialP__TXSTATE_ERROR, 
  InfraredSerialP__TXSTATE_INACTIVE
};





#line 154
typedef enum InfraredSerialP____nesc_unnamed4417 {
  InfraredSerialP__BUFFER_AVAILABLE, 
  InfraredSerialP__BUFFER_FILLING, 
  InfraredSerialP__BUFFER_COMPLETE
} InfraredSerialP__tx_data_buffer_states_t;

enum InfraredSerialP____nesc_unnamed4418 {
  InfraredSerialP__TX_ACK_INDEX = 0, 
  InfraredSerialP__TX_DATA_INDEX = 1, 
  InfraredSerialP__TX_BUFFER_COUNT = 2
};






#line 167
typedef struct InfraredSerialP____nesc_unnamed4419 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[InfraredSerialP__RX_DATA_BUFFER_SIZE + 1];
} InfraredSerialP__rx_buf_t;




#line 173
typedef struct InfraredSerialP____nesc_unnamed4420 {
  uint8_t state;
  uint8_t buf;
} InfraredSerialP__tx_buf_t;





#line 178
typedef struct InfraredSerialP____nesc_unnamed4421 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[InfraredSerialP__ACK_QUEUE_SIZE + 1];
} InfraredSerialP__ack_queue_t;



InfraredSerialP__rx_buf_t InfraredSerialP__rxBuf;
InfraredSerialP__tx_buf_t InfraredSerialP__txBuf[InfraredSerialP__TX_BUFFER_COUNT];



uint8_t InfraredSerialP__rxState;
uint8_t InfraredSerialP__rxByteCnt;
uint8_t InfraredSerialP__rxProto;
uint8_t InfraredSerialP__rxSeqno;
uint16_t InfraredSerialP__rxCRC;
uint8_t InfraredSerialP__rxActivity;
bool InfraredSerialP__rxChannelLocked = FALSE;
bool InfraredSerialP__resourceRequested;



uint8_t InfraredSerialP__txState;
uint8_t InfraredSerialP__txByteCnt;
uint8_t InfraredSerialP__txProto;
uint8_t InfraredSerialP__txSeqno;
uint16_t InfraredSerialP__txCRC;
uint8_t InfraredSerialP__txPending;
uint8_t InfraredSerialP__txIndex;
uint8_t InfraredSerialP__txChannel;


InfraredSerialP__ack_queue_t InfraredSerialP__ackQ;

bool InfraredSerialP__offPending = FALSE;



static __inline void InfraredSerialP__txInit(void );
static __inline void InfraredSerialP__rxInit(void );
static __inline void InfraredSerialP__ackInit(void );



static __inline bool InfraredSerialP__ack_queue_is_empty(void );

static __inline uint8_t InfraredSerialP__ack_queue_top(void );
static inline uint8_t InfraredSerialP__ack_queue_pop(void );




static __inline void InfraredSerialP__rx_buffer_push(uint8_t data);
static __inline uint8_t InfraredSerialP__rx_buffer_top(void );
static __inline uint8_t InfraredSerialP__rx_buffer_pop(void );
static __inline uint16_t InfraredSerialP__rx_current_crc(void );

static void InfraredSerialP__rx_state_machine(bool isDelimeter, uint8_t data);
static void InfraredSerialP__MaybeScheduleTx(void );



static __inline void InfraredSerialP__resetRxPath(void );

static __inline uint8_t InfraredSerialP__countOnesInBitmask(uint8_t mask);









static __inline void InfraredSerialP__txInit(void );
#line 266
static __inline void InfraredSerialP__rxInit(void );










static __inline void InfraredSerialP__ackInit(void );



static inline void InfraredSerialP__startWatchdog__runTask(void );



static inline void InfraredSerialP__stopWatchdog__runTask(void );



static inline error_t InfraredSerialP__Init__init(void );
#line 313
static __inline bool InfraredSerialP__ack_queue_is_empty(void );
#line 329
static __inline uint8_t InfraredSerialP__ack_queue_top(void );









static inline uint8_t InfraredSerialP__ack_queue_pop(void );
#line 366
static __inline void InfraredSerialP__rx_buffer_push(uint8_t data);



static __inline uint8_t InfraredSerialP__rx_buffer_top(void );



static __inline uint8_t InfraredSerialP__rx_buffer_pop(void );





static __inline uint16_t InfraredSerialP__rx_current_crc(void );










static inline void InfraredSerialP__startDoneTask__runTask(void );








static inline void InfraredSerialP__stopDoneTask__runTask(void );



static inline void InfraredSerialP__SerialFlush__flushDone(void );




static inline void InfraredSerialP__defaultSerialFlushTask__runTask(void );


static inline void InfraredSerialP__SerialFlush__default__flush(void );



static inline error_t InfraredSerialP__SplitControl__start(void );




static void InfraredSerialP__testOff(void );
#line 460
static inline void InfraredSerialP__SerialFrameComm__delimiterReceived(void );





static inline void InfraredSerialP__SerialFrameComm__dataReceived(uint8_t data);
#line 484
static void InfraredSerialP__rx_state_machine(bool isDelimeter, uint8_t data);
#line 600
static void InfraredSerialP__MaybeScheduleTx(void );










static inline error_t InfraredSerialP__SendBytePacket__completeSend(void );








static inline error_t InfraredSerialP__SendBytePacket__startSend(uint8_t b, uint8_t chan);
#line 638
static inline void InfraredSerialP__RunTx__runTask(void );
#line 731
static inline void InfraredSerialP__Resource__granted(void );
#line 745
static inline void InfraredSerialP__SerialFrameComm__putDone(void );
#line 839
static __inline void InfraredSerialP__resetRxPath(void );
#line 853
static inline void InfraredSerialP__ResourceDefaultOwner__granted(void );




static inline void InfraredSerialP__ResourceDefaultOwner__requested(void );
#line 879
static inline void InfraredSerialP__ResourceConfigure__configure(void );
#line 895
static inline void InfraredSerialP__ResourceConfigure__unconfigure(void );

static inline void InfraredSerialP__RxInterrupt__fired(void );
#line 917
static inline void InfraredSerialP__Watchdog__fired(void );
# 161 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static void InfraredSerialDispatcherP__InfraredPacket__setThisHemisphereConnector(message_t *msg, uint8_t conn);
#line 151
static uint8_t InfraredSerialDispatcherP__InfraredPacket__getThisHemisphereConnector(message_t *msg);
#line 108
static void InfraredSerialDispatcherP__InfraredPacket__setConnector(message_t *msg, uint8_t conn);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialDispatcherP__receiveTask__postTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredSerialDispatcherP__Send__sendDone(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097b180, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredSerialDispatcherP__signalSendDone__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredSerialDispatcherP__Receive__receive(
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097eb28, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t InfraredSerialDispatcherP__PacketInfo__upperLength(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t InfraredSerialDispatcherP__PacketInfo__offset(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t InfraredSerialDispatcherP__PacketInfo__dataLinkLength(
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
uart_id_t arg_0x4097bc80, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
static error_t InfraredSerialDispatcherP__SendBytePacket__completeSend(void );
#line 52
static error_t InfraredSerialDispatcherP__SendBytePacket__startSend(uint8_t first_byte, uint8_t channel);
# 163 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
enum InfraredSerialDispatcherP____nesc_unnamed4422 {
#line 163
  InfraredSerialDispatcherP__signalSendDone = 19U
};
#line 163
typedef int InfraredSerialDispatcherP____nesc_sillytask_signalSendDone[InfraredSerialDispatcherP__signalSendDone];
#line 286
enum InfraredSerialDispatcherP____nesc_unnamed4423 {
#line 286
  InfraredSerialDispatcherP__receiveTask = 20U
};
#line 286
typedef int InfraredSerialDispatcherP____nesc_sillytask_receiveTask[InfraredSerialDispatcherP__receiveTask];
#line 63
#line 59
typedef enum InfraredSerialDispatcherP____nesc_unnamed4424 {
  InfraredSerialDispatcherP__SEND_STATE_IDLE = 0, 
  InfraredSerialDispatcherP__SEND_STATE_BEGIN = 1, 
  InfraredSerialDispatcherP__SEND_STATE_DATA = 2
} InfraredSerialDispatcherP__send_state_t;

enum InfraredSerialDispatcherP____nesc_unnamed4425 {
  InfraredSerialDispatcherP__RECV_STATE_IDLE = 0, 
  InfraredSerialDispatcherP__RECV_STATE_BEGIN = 1, 
  InfraredSerialDispatcherP__RECV_STATE_DATA = 2
};






#line 71
typedef struct InfraredSerialDispatcherP____nesc_unnamed4426 {
  uint8_t which : 1;
  uint8_t bufZeroLocked : 1;
  uint8_t bufOneLocked : 1;
  uint8_t state : 2;
} InfraredSerialDispatcherP__recv_state_t;



InfraredSerialDispatcherP__recv_state_t InfraredSerialDispatcherP__receiveState = { 0, 0, 0, InfraredSerialDispatcherP__RECV_STATE_IDLE };
uint8_t InfraredSerialDispatcherP__recvType = TOS_SERIAL_UNKNOWN_ID;
uint8_t InfraredSerialDispatcherP__recvIndex = 0;
uint8_t InfraredSerialDispatcherP__recvChannel = 0;


message_t InfraredSerialDispatcherP__messages[2];
message_t *InfraredSerialDispatcherP__messagePtrs[2] = { &InfraredSerialDispatcherP__messages[0], &InfraredSerialDispatcherP__messages[1] };




uint8_t *InfraredSerialDispatcherP__receiveBuffer = (uint8_t *)&InfraredSerialDispatcherP__messages[0];

uint8_t *InfraredSerialDispatcherP__sendBuffer = (void *)0;
InfraredSerialDispatcherP__send_state_t InfraredSerialDispatcherP__sendState = InfraredSerialDispatcherP__SEND_STATE_IDLE;
uint8_t InfraredSerialDispatcherP__sendLen = 0;
uint8_t InfraredSerialDispatcherP__sendIndex = 0;
error_t InfraredSerialDispatcherP__sendError = SUCCESS;
bool InfraredSerialDispatcherP__sendCancelled = FALSE;
uint8_t InfraredSerialDispatcherP__sendId = 0;
uint8_t InfraredSerialDispatcherP__sendChannel;

uint8_t InfraredSerialDispatcherP__receiveTaskPending = FALSE;
uart_id_t InfraredSerialDispatcherP__receiveTaskType = 0;
uint8_t InfraredSerialDispatcherP__receiveTaskWhich;
message_t *InfraredSerialDispatcherP__receiveTaskBuf = (void *)0;
uint8_t InfraredSerialDispatcherP__receiveTaskSize = 0;
uint8_t InfraredSerialDispatcherP__receiveChannel = 0;

static error_t InfraredSerialDispatcherP__Send__send(uint8_t id, message_t *msg, uint8_t len);
#line 163
static inline void InfraredSerialDispatcherP__signalSendDone__runTask(void );
#line 183
static inline uint8_t InfraredSerialDispatcherP__SendBytePacket__nextByte(void );
#line 199
static inline void InfraredSerialDispatcherP__SendBytePacket__sendCompleted(error_t error);




static inline bool InfraredSerialDispatcherP__isCurrentBufferLocked(void );








static inline void InfraredSerialDispatcherP__lockCurrentBuffer(void );








static inline void InfraredSerialDispatcherP__unlockBuffer(uint8_t which);








static inline void InfraredSerialDispatcherP__receiveBufferSwap(void );




static inline error_t InfraredSerialDispatcherP__ReceiveBytePacket__startPacket(uint8_t channel);
#line 255
static inline void InfraredSerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t b);
#line 286
static inline void InfraredSerialDispatcherP__receiveTask__runTask(void );
#line 320
static void InfraredSerialDispatcherP__ReceiveBytePacket__endPacket(error_t result);
#line 384
static uint8_t InfraredSerialDispatcherP__PacketInfo__default__offset(uart_id_t id);


static inline uint8_t InfraredSerialDispatcherP__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen);


static inline uint8_t InfraredSerialDispatcherP__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen);




static inline message_t *InfraredSerialDispatcherP__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len);
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__dataReceived(uint8_t data);





static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDone(void );
#line 74
static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__delimiterReceived(void );
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
#line 72
typedef struct /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1____nesc_unnamed4427 {
  uint8_t sendEscape : 1;
  uint8_t receiveEscape : 1;
} /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__HdlcState;


/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__HdlcState /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state = { 0, 0 };
uint8_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__txTemp;
uint8_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data;


static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__resetReceive(void );





static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receivedByte(uint8_t data);
#line 114
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDelimiter(void );





static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putData(uint8_t data);
#line 132
static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error);










static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receiveDone(uint8_t *buf, uint16_t len, error_t error);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__start(void );









static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__stop(void );
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receivedByte(uint8_t byte);
#line 99
static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receiveDone(
#line 95
uint8_t * buf, 



uint16_t len, error_t error);
#line 57
static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableRxIntr(void );
#line 40
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableTxIntr(void );
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableTxIntr(void );

static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableRxIntr(void );


static void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__tx(uint8_t data);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__start(void );









static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__stop(void );
# 90 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
uint8_t */*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf;
#line 90
uint8_t */*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_buf;
uint16_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_len;
#line 91
uint16_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_len;
uint16_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_pos;
#line 92
uint16_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_pos;
uint16_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_byte_time;
uint8_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_intr;
uint8_t /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_intr;

static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__Init__init(void );
#line 110
static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__start(void );
#line 126
static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__stop(void );
#line 166
static inline void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__rxDone(uint8_t data);
#line 188
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__send(uint8_t *buf, uint16_t len);
#line 206
static inline void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__txDone(void );
# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline infrared_header_t *InfraredPacketC__InfraredPacketBody__getHeader(message_t *msg);



static inline infrared_metadata_t *InfraredPacketC__InfraredPacketBody__getMetadata(message_t *msg);









static inline uint8_t InfraredPacketC__Packet__payloadLength(message_t *msg);



static inline void InfraredPacketC__Packet__setPayloadLength(message_t *msg, uint8_t len);



static inline uint8_t InfraredPacketC__Packet__maxPayloadLength(void );



static inline void *InfraredPacketC__Packet__getPayload(message_t *msg, uint8_t len);
#line 145
static uint8_t InfraredPacketC__InfraredPacket__getSeqNo(message_t *msg);



static void InfraredPacketC__InfraredPacket__setSeqNo(message_t *msg, uint8_t number);




static bool InfraredPacketC__InfraredPacket__requestsAck(message_t *msg);



static inline void InfraredPacketC__InfraredPacket__setWasAcked(message_t *msg, bool val);




static void InfraredPacketC__InfraredPacket__setConnector(message_t *msg, uint8_t conn);




static uint8_t InfraredPacketC__InfraredPacket__getConnector(message_t *msg);
#line 200
static inline uint8_t InfraredPacketC__InfraredPacket__getNorthConnector(message_t *msg);
#line 227
static inline void InfraredPacketC__InfraredPacket__setSouthConnector(message_t *msg, uint8_t conn);
#line 255
static uint8_t InfraredPacketC__InfraredPacket__getSouthConnector(message_t *msg);
#line 282
static inline void InfraredPacketC__InfraredPacket__setThisHemisphereConnector(message_t *msg, uint8_t conn);









static inline uint8_t InfraredPacketC__InfraredPacket__getThisHemisphereConnector(message_t *msg);
#line 311
static inline uint8_t InfraredPacketC__InfraredPacket__getOtherHemisphereConnector(message_t *msg);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GetNow.nc"
static InfraredChannelP__GetPortA__data_type InfraredChannelP__GetPortA__getNow(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void InfraredChannelP__ch1Enable__makeOutput(void );
#line 29
static void InfraredChannelP__ch1Enable__set(void );
static void InfraredChannelP__ch1Enable__clr(void );


static void InfraredChannelP__ch1Activity__makeInput(void );
#line 32
static bool InfraredChannelP__ch1Activity__get(void );
static void InfraredChannelP__ch3Activity__makeInput(void );
#line 32
static bool InfraredChannelP__ch3Activity__get(void );
static void InfraredChannelP__ch4Activity__makeInput(void );
#line 32
static bool InfraredChannelP__ch4Activity__get(void );


static void InfraredChannelP__ch2Enable__makeOutput(void );
#line 29
static void InfraredChannelP__ch2Enable__set(void );
static void InfraredChannelP__ch2Enable__clr(void );
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
static void InfraredChannelP__powerPwm__start(uint16_t top, uint16_t steps_high);
# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void InfraredChannelP__ch2Activity__makeInput(void );
#line 32
static bool InfraredChannelP__ch2Activity__get(void );


static void InfraredChannelP__ch3Enable__makeOutput(void );
#line 29
static void InfraredChannelP__ch3Enable__set(void );
static void InfraredChannelP__ch3Enable__clr(void );




static void InfraredChannelP__ch4Enable__makeOutput(void );
#line 29
static void InfraredChannelP__ch4Enable__set(void );
static void InfraredChannelP__ch4Enable__clr(void );
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannelP.nc"
bool InfraredChannelP__lowSensitivity = FALSE;

static inline error_t InfraredChannelP__Init__init(void );
#line 91
static void InfraredChannelP__InfraredChannel__enable(uint8_t val);
#line 110
static inline void InfraredChannelP__InfraredChannel__setLowSensitivity(bool isLowSensitivity);



static inline uint8_t InfraredChannelP__InfraredChannel__getActivity(void );
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
enum /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0____nesc_unnamed4428 {
  RoundRobinResourceQueueC__0__NO_ENTRY = 0xFF, 
  RoundRobinResourceQueueC__0__SIZE = 2U ? (2U - 1) / 8 + 1 : 0
};

uint8_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ[/*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__SIZE];
uint8_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__last = 0;

static inline void /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__clearEntry(uint8_t id);



static inline error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__Init__init(void );




static inline bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEmpty(void );








static bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEnqueued(resource_client_id_t id);



static inline resource_client_id_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__dequeue(void );
#line 87
static inline error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__enqueue(resource_client_id_t id);
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__requested(
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45da8);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__unconfigure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__configure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__enqueue(resource_client_id_t id);
#line 43
static bool /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__isEmpty(void );
#line 60
static resource_client_id_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__dequeue(void );
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__requested(void );
#line 46
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__granted(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__granted(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__postTask(void );
# 75 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
enum /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0____nesc_unnamed4429 {
#line 75
  ArbiterP__0__grantedTask = 21U
};
#line 75
typedef int /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0____nesc_sillytask_grantedTask[/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask];
#line 67
enum /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0____nesc_unnamed4430 {
#line 67
  ArbiterP__0__RES_CONTROLLED, ArbiterP__0__RES_GRANTING, ArbiterP__0__RES_IMM_GRANTING, ArbiterP__0__RES_BUSY
};
#line 68
enum /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0____nesc_unnamed4431 {
#line 68
  ArbiterP__0__default_owner_id = 2U
};
#line 69
enum /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0____nesc_unnamed4432 {
#line 69
  ArbiterP__0__NO_RES = 0xFF
};
uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_CONTROLLED;
uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__default_owner_id;
uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__reqResId;



static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__request(uint8_t id);
#line 108
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__release(uint8_t id);
#line 129
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__release(void );
#line 173
static inline uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__isOwner(uint8_t id);






static uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__isOwner(void );





static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__runTask(void );
#line 198
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__default__granted(uint8_t id);

static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__default__requested(uint8_t id);
#line 212
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__configure(uint8_t id);

static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__unconfigure(uint8_t id);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void BootToSplitControlP__SplitControl__startDone(error_t error);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void BootToSplitControlP__BootComponent__booted(void );
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/BootToSplitControlP.nc"
static inline void BootToSplitControlP__ComponentBooted__booted(void );



static inline error_t BootToSplitControlP__SplitControl__start(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__sendDone(
# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
am_id_t arg_0x40ae7010, 
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
message_t * msg, 






error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__receive(
# 37 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
am_id_t arg_0x40ae79d0, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline serial_header_t * /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(message_t * msg);







static error_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__send(am_id_t id, am_addr_t dest, 
message_t *msg, 
uint8_t len);
#line 85
static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__sendDone(message_t *msg, error_t result);







static inline message_t */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__default__receive(uint8_t id, message_t *msg, void *payload, uint8_t len);



static inline message_t */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubReceive__receive(message_t *msg, void *payload, uint8_t len);








static inline uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__payloadLength(message_t *msg);




static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__setPayloadLength(message_t *msg, uint8_t len);



static inline uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__maxPayloadLength(void );



static void */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__getPayload(message_t *msg, uint8_t len);
#line 132
static am_addr_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__destination(message_t *amsg);









static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setDestination(message_t *amsg, am_addr_t addr);
#line 156
static am_id_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(message_t *amsg);




static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setType(message_t *amsg, am_id_t type);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void SerialP__SplitControl__startDone(error_t error);
#line 117
static void SerialP__SplitControl__stopDone(error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t SerialP__stopDoneTask__postTask(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
static error_t SerialP__SerialControl__start(void );









static error_t SerialP__SerialControl__stop(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t SerialP__RunTx__postTask(void );
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
static void SerialP__SerialFlush__flush(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t SerialP__startDoneTask__postTask(void );
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static error_t SerialP__SerialFrameComm__putDelimiter(void );
#line 68
static void SerialP__SerialFrameComm__resetReceive(void );
#line 54
static error_t SerialP__SerialFrameComm__putData(uint8_t data);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t SerialP__defaultSerialFlushTask__postTask(void );
# 70 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
static uint8_t SerialP__SendBytePacket__nextByte(void );









static void SerialP__SendBytePacket__sendCompleted(error_t error);
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
static error_t SerialP__ReceiveBytePacket__startPacket(void );






static void SerialP__ReceiveBytePacket__byteReceived(uint8_t data);










static void SerialP__ReceiveBytePacket__endPacket(error_t result);
# 190 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
enum SerialP____nesc_unnamed4433 {
#line 190
  SerialP__RunTx = 22U
};
#line 190
typedef int SerialP____nesc_sillytask_RunTx[SerialP__RunTx];
#line 321
enum SerialP____nesc_unnamed4434 {
#line 321
  SerialP__startDoneTask = 23U
};
#line 321
typedef int SerialP____nesc_sillytask_startDoneTask[SerialP__startDoneTask];





enum SerialP____nesc_unnamed4435 {
#line 327
  SerialP__stopDoneTask = 24U
};
#line 327
typedef int SerialP____nesc_sillytask_stopDoneTask[SerialP__stopDoneTask];








enum SerialP____nesc_unnamed4436 {
#line 336
  SerialP__defaultSerialFlushTask = 25U
};
#line 336
typedef int SerialP____nesc_sillytask_defaultSerialFlushTask[SerialP__defaultSerialFlushTask];
#line 80
enum SerialP____nesc_unnamed4437 {
  SerialP__RX_DATA_BUFFER_SIZE = 2, 
  SerialP__TX_DATA_BUFFER_SIZE = 4, 
  SerialP__SERIAL_MTU = 255, 
  SerialP__SERIAL_VERSION = 1, 
  SerialP__ACK_QUEUE_SIZE = 5
};

enum SerialP____nesc_unnamed4438 {
  SerialP__RXSTATE_NOSYNC, 
  SerialP__RXSTATE_PROTO, 
  SerialP__RXSTATE_TOKEN, 
  SerialP__RXSTATE_INFO, 
  SerialP__RXSTATE_INACTIVE
};

enum SerialP____nesc_unnamed4439 {
  SerialP__TXSTATE_IDLE, 
  SerialP__TXSTATE_PROTO, 
  SerialP__TXSTATE_SEQNO, 
  SerialP__TXSTATE_INFO, 
  SerialP__TXSTATE_FCS1, 
  SerialP__TXSTATE_FCS2, 
  SerialP__TXSTATE_ENDFLAG, 
  SerialP__TXSTATE_ENDWAIT, 
  SerialP__TXSTATE_FINISH, 
  SerialP__TXSTATE_ERROR, 
  SerialP__TXSTATE_INACTIVE
};





#line 110
typedef enum SerialP____nesc_unnamed4440 {
  SerialP__BUFFER_AVAILABLE, 
  SerialP__BUFFER_FILLING, 
  SerialP__BUFFER_COMPLETE
} SerialP__tx_data_buffer_states_t;

enum SerialP____nesc_unnamed4441 {
  SerialP__TX_ACK_INDEX = 0, 
  SerialP__TX_DATA_INDEX = 1, 
  SerialP__TX_BUFFER_COUNT = 2
};






#line 123
typedef struct SerialP____nesc_unnamed4442 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[SerialP__RX_DATA_BUFFER_SIZE + 1];
} SerialP__rx_buf_t;




#line 129
typedef struct SerialP____nesc_unnamed4443 {
  uint8_t state;
  uint8_t buf;
} SerialP__tx_buf_t;





#line 134
typedef struct SerialP____nesc_unnamed4444 {
  uint8_t writePtr;
  uint8_t readPtr;
  uint8_t buf[SerialP__ACK_QUEUE_SIZE + 1];
} SerialP__ack_queue_t;



SerialP__rx_buf_t SerialP__rxBuf;
SerialP__tx_buf_t SerialP__txBuf[SerialP__TX_BUFFER_COUNT];



uint8_t SerialP__rxState;
uint8_t SerialP__rxByteCnt;
uint8_t SerialP__rxProto;
uint8_t SerialP__rxSeqno;
uint16_t SerialP__rxCRC;



uint8_t SerialP__txState;
uint8_t SerialP__txByteCnt;
uint8_t SerialP__txProto;
uint8_t SerialP__txSeqno;
uint16_t SerialP__txCRC;
uint8_t SerialP__txPending;
uint8_t SerialP__txIndex;


SerialP__ack_queue_t SerialP__ackQ;

bool SerialP__offPending = FALSE;




static __inline void SerialP__rxInit(void );


static __inline bool SerialP__ack_queue_is_full(void );
static __inline bool SerialP__ack_queue_is_empty(void );
static __inline void SerialP__ack_queue_push(uint8_t token);
static __inline uint8_t SerialP__ack_queue_top(void );
static inline uint8_t SerialP__ack_queue_pop(void );




static __inline void SerialP__rx_buffer_push(uint8_t data);
static __inline uint8_t SerialP__rx_buffer_top(void );
static __inline uint8_t SerialP__rx_buffer_pop(void );
static __inline uint16_t SerialP__rx_current_crc(void );

static void SerialP__rx_state_machine(bool isDelimeter, uint8_t data);
static void SerialP__MaybeScheduleTx(void );
#line 206
static __inline void SerialP__rxInit(void );
#line 233
static __inline bool SerialP__ack_queue_is_full(void );









static __inline bool SerialP__ack_queue_is_empty(void );





static __inline void SerialP__ack_queue_push(uint8_t token);









static __inline uint8_t SerialP__ack_queue_top(void );









static inline uint8_t SerialP__ack_queue_pop(void );
#line 296
static __inline void SerialP__rx_buffer_push(uint8_t data);



static __inline uint8_t SerialP__rx_buffer_top(void );



static __inline uint8_t SerialP__rx_buffer_pop(void );





static __inline uint16_t SerialP__rx_current_crc(void );










static inline void SerialP__startDoneTask__runTask(void );





static inline void SerialP__stopDoneTask__runTask(void );



static inline void SerialP__SerialFlush__flushDone(void );




static inline void SerialP__defaultSerialFlushTask__runTask(void );


static inline void SerialP__SerialFlush__default__flush(void );



static inline error_t SerialP__SplitControl__start(void );




static void SerialP__testOff(void );
#line 385
static inline void SerialP__SerialFrameComm__delimiterReceived(void );


static inline void SerialP__SerialFrameComm__dataReceived(uint8_t data);



static inline bool SerialP__valid_rx_proto(uint8_t proto);










static void SerialP__rx_state_machine(bool isDelimeter, uint8_t data);
#line 503
static void SerialP__MaybeScheduleTx(void );










static inline error_t SerialP__SendBytePacket__completeSend(void );








static inline error_t SerialP__SendBytePacket__startSend(uint8_t b);
#line 540
static inline void SerialP__RunTx__runTask(void );
#line 643
static inline void SerialP__SerialFrameComm__putDone(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__postTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__sendDone(
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75388, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__receive(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b79d10, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__upperLength(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88, 
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t dataLinkLen);
#line 15
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__offset(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88);
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__dataLinkLength(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
uart_id_t arg_0x40b75e88, 
# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
message_t *msg, uint8_t upperLen);
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__completeSend(void );
#line 51
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__startSend(uint8_t first_byte);
# 149 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
enum /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_unnamed4445 {
#line 149
  SerialDispatcherP__0__signalSendDone = 26U
};
#line 149
typedef int /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_sillytask_signalSendDone[/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone];
#line 271
enum /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_unnamed4446 {
#line 271
  SerialDispatcherP__0__receiveTask = 27U
};
#line 271
typedef int /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_sillytask_receiveTask[/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask];
#line 56
#line 52
typedef enum /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_unnamed4447 {
  SerialDispatcherP__0__SEND_STATE_IDLE = 0, 
  SerialDispatcherP__0__SEND_STATE_BEGIN = 1, 
  SerialDispatcherP__0__SEND_STATE_DATA = 2
} /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__send_state_t;

enum /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_unnamed4448 {
  SerialDispatcherP__0__RECV_STATE_IDLE = 0, 
  SerialDispatcherP__0__RECV_STATE_BEGIN = 1, 
  SerialDispatcherP__0__RECV_STATE_DATA = 2
};






#line 64
typedef struct /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0____nesc_unnamed4449 {
  uint8_t which : 1;
  uint8_t bufZeroLocked : 1;
  uint8_t bufOneLocked : 1;
  uint8_t state : 2;
} /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recv_state_t;



/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recv_state_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState = { 0, 0, 0, /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_IDLE };
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvType = TOS_SERIAL_UNKNOWN_ID;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex = 0;


message_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messages[2];
message_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messagePtrs[2] = { &/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messages[0], &/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messages[1] };




uint8_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBuffer = (uint8_t *)&/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messages[0];

uint8_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendBuffer = (void *)0;
/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__send_state_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendState = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SEND_STATE_IDLE;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendLen = 0;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex = 0;
error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendError = SUCCESS;
bool /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendCancelled = FALSE;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendId = 0;


uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskPending = FALSE;
uart_id_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskType = 0;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskWhich;
message_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskBuf = (void *)0;
uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskSize = 0;

static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__send(uint8_t id, message_t *msg, uint8_t len);
#line 149
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__runTask(void );
#line 169
static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__nextByte(void );
#line 185
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__sendCompleted(error_t error);




static inline bool /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__isCurrentBufferLocked(void );








static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__lockCurrentBuffer(void );








static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__unlockBuffer(uint8_t which);








static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBufferSwap(void );




static inline error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__startPacket(void );
#line 240
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__byteReceived(uint8_t b);
#line 271
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__runTask(void );
#line 295
static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__endPacket(error_t result);
#line 358
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__offset(uart_id_t id);


static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen);


static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen);




static inline message_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len);
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static error_t HdlcTranslateC__UartStream__send(
#line 44
uint8_t * buf, 



uint16_t len);
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
static void HdlcTranslateC__SerialFrameComm__dataReceived(uint8_t data);





static void HdlcTranslateC__SerialFrameComm__putDone(void );
#line 74
static void HdlcTranslateC__SerialFrameComm__delimiterReceived(void );
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
#line 44
typedef struct HdlcTranslateC____nesc_unnamed4450 {
  uint8_t sendEscape : 1;
  uint8_t receiveEscape : 1;
} HdlcTranslateC__HdlcState;


HdlcTranslateC__HdlcState HdlcTranslateC__state = { 0, 0 };
uint8_t HdlcTranslateC__txTemp;
uint8_t HdlcTranslateC__m_data;


static inline void HdlcTranslateC__SerialFrameComm__resetReceive(void );





static inline void HdlcTranslateC__UartStream__receivedByte(uint8_t data);
#line 86
static error_t HdlcTranslateC__SerialFrameComm__putDelimiter(void );





static error_t HdlcTranslateC__SerialFrameComm__putData(uint8_t data);
#line 104
static inline void HdlcTranslateC__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error);
# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void BitBangingImplP__rxPin__makeInput(void );
#line 32
static bool BitBangingImplP__rxPin__get(void );
#line 29
static void BitBangingImplP__rxPin__set(void );





static void BitBangingImplP__txPin__makeOutput(void );
#line 29
static void BitBangingImplP__txPin__set(void );
static void BitBangingImplP__txPin__clr(void );
# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
static void BitBangingImplP__UartStream__receivedByte(uint8_t byte);
#line 57
static void BitBangingImplP__UartStream__sendDone(
#line 53
uint8_t * buf, 



uint16_t len, error_t error);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void BitBangingImplP__Timer__set(BitBangingImplP__Timer__size_type t);










static void BitBangingImplP__Timer__start(void );


static void BitBangingImplP__Timer__stop(void );
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
enum BitBangingImplP____nesc_unnamed4451 {
  BitBangingImplP__RX_IDLE, 
  BitBangingImplP__RX_START, 
  BitBangingImplP__RX_DATA, 
  BitBangingImplP__RX_STOP
};

enum BitBangingImplP____nesc_unnamed4452 {
  BitBangingImplP__TX_IDLE, 
  BitBangingImplP__TX_START, 
  BitBangingImplP__TX_DATA, 
  BitBangingImplP__TX_STOP
};


uint8_t BitBangingImplP__rxState;
uint8_t BitBangingImplP__rxSample;
uint8_t BitBangingImplP__rxBuffer;
uint8_t BitBangingImplP__rxIndex;

uint8_t BitBangingImplP__txState;
uint8_t BitBangingImplP__txSample;
uint8_t *BitBangingImplP__txBufPtr;
uint8_t BitBangingImplP__txBuffer;
uint8_t BitBangingImplP__txIndex;
bool BitBangingImplP__txHigh;

static __inline void BitBangingImplP__rxStateMachine(bool rxHigh);
static __inline bool BitBangingImplP__txStateMachine(void );

static inline error_t BitBangingImplP__Init__init(void );









static inline error_t BitBangingImplP__StdControl__start(void );






static inline error_t BitBangingImplP__StdControl__stop(void );






static inline void BitBangingImplP__Timer__fired(void );










static error_t BitBangingImplP__UartStream__send(uint8_t *buf, uint16_t len);
#line 164
static __inline void BitBangingImplP__rxStateMachine(bool rxHigh);
#line 224
static __inline bool BitBangingImplP__txStateMachine(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer3P__CompareA__fired(void );
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
static void HplAtm128Timer3P__Capture__captured(HplAtm128Timer3P__Capture__size_type t);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
static void HplAtm128Timer3P__CompareB__fired(void );
#line 49
static void HplAtm128Timer3P__CompareC__fired(void );
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void HplAtm128Timer3P__Timer__overflow(void );
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline uint16_t HplAtm128Timer3P__Timer__get(void );
#line 59
static inline void HplAtm128Timer3P__Timer__setScale(uint8_t s);






static inline Atm128TimerCtrlCompare_t HplAtm128Timer3P__TimerCtrl__getCtrlCompare(void );


static inline Atm128TimerCtrlCapture_t HplAtm128Timer3P__TimerCtrl__getCtrlCapture(void );








static inline uint16_t HplAtm128Timer3P__TimerCtrlCompare2int(Atm128TimerCtrlCompare_t x);
static inline uint16_t HplAtm128Timer3P__TimerCtrlCapture2int(Atm128TimerCtrlCapture_t x);



static inline void HplAtm128Timer3P__TimerCtrl__setCtrlCompare(Atm128_TCCR3A_t x);


static inline void HplAtm128Timer3P__TimerCtrl__setCtrlCapture(Atm128_TCCR3B_t x);
#line 129
static inline void HplAtm128Timer3P__CompareA__start(void );





static inline void HplAtm128Timer3P__CompareA__stop(void );
#line 177
static inline void HplAtm128Timer3P__CompareA__set(uint16_t t);
#line 189
void __vector_26(void ) __attribute((interrupt))   ;


static inline void HplAtm128Timer3P__CompareB__default__fired(void );
void __vector_27(void ) __attribute((interrupt))   ;


static inline void HplAtm128Timer3P__CompareC__default__fired(void );
void __vector_28(void ) __attribute((interrupt))   ;


static inline void HplAtm128Timer3P__Capture__default__captured(uint16_t time);
void __vector_25(void ) __attribute((interrupt))   ;



void __vector_29(void ) __attribute((interrupt))   ;
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control);
#line 36
static Atm128TimerCtrlCompare_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCompare(void );
static Atm128TimerCtrlCapture_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCapture(void );


static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control);
# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__setScale(uint8_t scale);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline error_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Init__init(void );
#line 59
static inline void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__overflow(void );
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/DisableJtagP.nc"
static inline error_t DisableJtagP__Init__init(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__send(message_t *msg, uint8_t len);



static inline void /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__send(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__val_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
#line 142
enum /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0____nesc_unnamed4453 {
#line 142
  DispatcherQueueImplP__0__CancelTask = 28U
};
#line 142
typedef int /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0____nesc_sillytask_CancelTask[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask];
#line 184
enum /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0____nesc_unnamed4454 {
#line 184
  DispatcherQueueImplP__0__errorTask = 29U
};
#line 184
typedef int /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0____nesc_sillytask_errorTask[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask];
#line 78
#line 75
typedef struct /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0____nesc_unnamed4455 {
  message_t *msg;
  uint8_t len;
} /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue_entry_t;

uint8_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = 1;
/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue_entry_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[1];
uint8_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__cancelMask[1 / 8 + 1];

static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__tryToSend(void );

static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__nextPacket(void );
#line 111
static inline error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 142
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask__runTask(void );
#line 178
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__sendDone(uint8_t last, message_t *msg, error_t err);





static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__runTask(void );




static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__tryToSend(void );
#line 203
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err);
#line 229
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);



static inline uint8_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__default__get(uint8_t client);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485MessageP.nc"
static inline uint8_t SerialPacketInfoRS485MessageP__Info__offset(void );


static inline uint8_t SerialPacketInfoRS485MessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);


static inline uint8_t SerialPacketInfoRS485MessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SerialPacketInfoInfraredMessageP.nc"
static inline uint8_t SerialPacketInfoInfraredMessageP__Info__offset(void );


static inline uint8_t SerialPacketInfoInfraredMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);


static inline uint8_t SerialPacketInfoInfraredMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/SerialPacketInfoRpcMessageP.nc"
static inline uint8_t SerialPacketInfoRpcMessageP__Info__offset(void );


static inline uint8_t SerialPacketInfoRpcMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);


static inline uint8_t SerialPacketInfoRpcMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfoActiveMessageP.nc"
static inline uint8_t SerialPacketInfoActiveMessageP__Info__offset(void );


static inline uint8_t SerialPacketInfoActiveMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);


static inline uint8_t SerialPacketInfoActiveMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 151
static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static error_t /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len);









static inline void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__sendDone(message_t *m, error_t err);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__send(
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
am_id_t arg_0x40cee908, 
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__sendDone(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static uint8_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__payloadLength(
#line 63
message_t * msg);
#line 83
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__setPayloadLength(
#line 79
message_t * msg, 



uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static am_addr_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__destination(
#line 63
message_t * amsg);
#line 136
static am_id_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__type(
#line 132
message_t * amsg);
# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
enum /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0____nesc_unnamed4456 {
#line 118
  AMQueueImplP__0__CancelTask = 30U
};
#line 118
typedef int /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0____nesc_sillytask_CancelTask[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask];
#line 161
enum /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0____nesc_unnamed4457 {
#line 161
  AMQueueImplP__0__errorTask = 31U
};
#line 161
typedef int /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0____nesc_sillytask_errorTask[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask];
#line 49
#line 47
typedef struct /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0____nesc_unnamed4458 {
  message_t * msg;
} /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue_entry_t;

uint8_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = 1;
/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue_entry_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[1];
uint8_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__cancelMask[1 / 8 + 1];

static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__tryToSend(void );

static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__nextPacket(void );
#line 82
static inline error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 118
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask__runTask(void );
#line 155
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__sendDone(uint8_t last, message_t * msg, error_t err);





static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__runTask(void );




static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__tryToSend(void );
#line 181
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__sendDone(am_id_t id, message_t *msg, error_t err);
#line 207
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/QueueC.nc"
/*PrintfC.QueueC*/QueueC__0__queue_t  /*PrintfC.QueueC*/QueueC__0__queue[250];
uint8_t /*PrintfC.QueueC*/QueueC__0__head = 0;
uint8_t /*PrintfC.QueueC*/QueueC__0__tail = 0;
uint8_t /*PrintfC.QueueC*/QueueC__0__size = 0;

static inline bool /*PrintfC.QueueC*/QueueC__0__Queue__empty(void );



static inline uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__size(void );



static inline uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__maxSize(void );



static inline /*PrintfC.QueueC*/QueueC__0__queue_t /*PrintfC.QueueC*/QueueC__0__Queue__head(void );



static inline void /*PrintfC.QueueC*/QueueC__0__printQueue(void );
#line 85
static inline /*PrintfC.QueueC*/QueueC__0__queue_t /*PrintfC.QueueC*/QueueC__0__Queue__dequeue(void );
#line 97
static inline error_t /*PrintfC.QueueC*/QueueC__0__Queue__enqueue(/*PrintfC.QueueC*/QueueC__0__queue_t newVal);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void PrintfP__Boot__booted(void );
# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static error_t PrintfP__SerialControl__start(void );
# 90 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
static error_t PrintfP__Queue__enqueue(
#line 86
PrintfP__Queue__t  newVal);
#line 81
static 
#line 79
PrintfP__Queue__t  

PrintfP__Queue__dequeue(void );
#line 50
static bool PrintfP__Queue__empty(void );







static uint8_t PrintfP__Queue__size(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t PrintfP__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 115 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static 
#line 112
void * 


PrintfP__Packet__getPayload(
#line 110
message_t * msg, 




uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t PrintfP__retrySend__postTask(void );
# 127 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
enum PrintfP____nesc_unnamed4459 {
#line 127
  PrintfP__retrySend = 32U
};
#line 127
typedef int PrintfP____nesc_sillytask_retrySend[PrintfP__retrySend];
#line 100
enum PrintfP____nesc_unnamed4460 {
  PrintfP__S_STOPPED, 
  PrintfP__S_STARTED, 
  PrintfP__S_FLUSHING
};

message_t PrintfP__printfMsg;
uint8_t PrintfP__state = PrintfP__S_STOPPED;

static inline void PrintfP__MainBoot__booted(void );



static inline void PrintfP__SerialControl__startDone(error_t error);









static inline void PrintfP__SerialControl__stopDone(error_t error);



static inline void PrintfP__retrySend__runTask(void );




static void PrintfP__sendNext(void );










int printfflush(void )   ;
#line 155
static void PrintfP__AMSend__sendDone(message_t *msg, error_t error);
#line 168
int uart_putchar(char c, struct __file *stream) __attribute((noinline))   ;
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t LedsClientP__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

LedsClientP__SendRequest__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t LedsClientP__sendRequest__postTask(void );
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
enum LedsClientP____nesc_unnamed4461 {
#line 52
  LedsClientP__sendRequest = 33U
};
#line 52
typedef int LedsClientP____nesc_sillytask_sendRequest[LedsClientP__sendRequest];
#line 47
message_t LedsClientP__pkt;
uint8_t LedsClientP__leds;
bool LedsClientP__busy = FALSE;
#line 231
static inline uint8_t LedsClientP__Leds__get(void );



static inline void LedsClientP__Leds__set(uint8_t val);







static inline void LedsClientP__SendRequest__sendDone(message_t *msg, error_t error);










static inline message_t *LedsClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);




static inline void LedsClientP__sendRequest__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__send(message_t *msg, uint8_t len);







static inline void /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__sendDone(message_t *m, error_t err);







static inline void */*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__send(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__getPayload(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__val_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__get(
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dae5b0);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__sendDone(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__postTask(void );
# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
enum /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0____nesc_unnamed4462 {
#line 137
  RpcQueueImplP__0__CancelTask = 34U
};
#line 137
typedef int /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0____nesc_sillytask_CancelTask[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask];
#line 179
enum /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0____nesc_unnamed4463 {
#line 179
  RpcQueueImplP__0__errorTask = 35U
};
#line 179
typedef int /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0____nesc_sillytask_errorTask[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask];
#line 73
#line 70
typedef struct /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0____nesc_unnamed4464 {
  message_t *msg;
  uint8_t len;
} /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue_entry_t;

uint8_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = 11;
/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue_entry_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[11];
uint8_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__cancelMask[11 / 8 + 1];

static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__tryToSend(void );

static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__nextPacket(void );
#line 106
static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 137
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask__runTask(void );
#line 173
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__sendDone(uint8_t last, message_t *msg, error_t err);





static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__runTask(void );




static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__tryToSend(void );
#line 198
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__sendDone(uint8_t rpc, message_t *msg, error_t err);
#line 220
static inline void */*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(uint8_t id, message_t *m, uint8_t len);



static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);



static uint8_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__default__get(uint8_t client);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RpcMessageP__ReceiveReply__receive(
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de3b38, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacket.nc"
static rpc_id_t RpcMessageP__RpcPacket__getId(message_t *msg);







static void RpcMessageP__RpcPacket__setId(message_t *msg, rpc_id_t id);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t RpcMessageP__ReplySubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void RpcMessageP__SendRequest__sendDone(
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de7ec0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
#line 89
static void RpcMessageP__SendReply__sendDone(
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de4958, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
#line 64
static error_t RpcMessageP__RequestSubSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



RpcMessageP__ReceiveRequest__receive(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
rpc_id_t arg_0x40de3448, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline uint8_t RpcMessageP__maxPayloadLength(void );



static inline void *RpcMessageP__getPayload(message_t *msg, uint8_t len);








static inline error_t RpcMessageP__SendRequest__send(rpc_id_t id, message_t *msg, uint8_t len);
#line 87
static void *RpcMessageP__SendRequest__getPayload(rpc_id_t id, message_t *msg, uint8_t len);





static error_t RpcMessageP__SendReply__send(rpc_id_t id, message_t *msg, uint8_t len);
#line 106
static inline void *RpcMessageP__SendReply__getPayload(rpc_id_t id, message_t *msg, uint8_t len);





static inline void RpcMessageP__RequestSubSend__sendDone(message_t *msg, error_t error);



static inline void RpcMessageP__ReplySubSend__sendDone(message_t *msg, error_t error);





static inline message_t *RpcMessageP__RequestSubReceive__receive(message_t *msg, void *payload, uint8_t len);



static inline message_t *RpcMessageP__ReplySubReceive__receive(message_t *msg, void *payload, uint8_t len);
#line 142
static inline message_t *RpcMessageP__ReceiveRequest__default__receive(rpc_id_t id, message_t *msg, void *payload, uint8_t len);



static inline message_t *RpcMessageP__ReceiveReply__default__receive(rpc_id_t id, message_t *msg, void *payload, uint8_t len);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacketC.nc"
static inline rpc_header_t *RpcPacketC__getHeader(message_t *msg);



static rpc_id_t RpcPacketC__RpcPacket__getId(message_t *msg);




static inline void RpcPacketC__RpcPacket__setId(message_t *msg, rpc_id_t id);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__send(message_t *msg, uint8_t len);



static inline void /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__send(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__val_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
#line 142
enum /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1____nesc_unnamed4465 {
#line 142
  DispatcherQueueImplP__1__CancelTask = 36U
};
#line 142
typedef int /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1____nesc_sillytask_CancelTask[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask];
#line 184
enum /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1____nesc_unnamed4466 {
#line 184
  DispatcherQueueImplP__1__errorTask = 37U
};
#line 184
typedef int /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1____nesc_sillytask_errorTask[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask];
#line 78
#line 75
typedef struct /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1____nesc_unnamed4467 {
  message_t *msg;
  uint8_t len;
} /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue_entry_t;

uint8_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = 4;
/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue_entry_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[4];
uint8_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__cancelMask[4 / 8 + 1];

static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__tryToSend(void );

static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__nextPacket(void );
#line 111
static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 142
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask__runTask(void );
#line 178
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__sendDone(uint8_t last, message_t *msg, error_t err);





static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__runTask(void );




static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__tryToSend(void );
#line 203
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err);
#line 229
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);



static inline uint8_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__default__get(uint8_t client);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485AckP.nc"
static inline uint8_t SerialPacketInfoRS485AckP__Info__offset(void );


static inline uint8_t SerialPacketInfoRS485AckP__Info__dataLinkLength(message_t *msg, uint8_t upperLen);


static inline uint8_t SerialPacketInfoRS485AckP__Info__upperLength(message_t *msg, uint8_t dataLinkLen);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__send(message_t *msg, uint8_t len);



static inline void /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__get(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void FlashReaderP__SplitControl__startDone(error_t error);
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
static error_t FlashReaderP__flash__read(uint32_t addr, void *buf, uint32_t len);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/FlashReaderP.nc"
uint16_t FlashReaderP__moduleIdOnFlash;

static inline uint16_t FlashReaderP__getModuleIdOnFlash__get(void );



static inline error_t FlashReaderP__SplitControl__start(void );









static inline void FlashReaderP__flash__readDone(uint32_t addr, void *buf, uint32_t len, error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t AvrDirectStorageP__checkReady__postTask(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
static void AvrDirectStorageP__State__toIdle(void );
#line 45
static error_t AvrDirectStorageP__State__requestState(uint8_t reqState);





static void AvrDirectStorageP__State__forceState(uint8_t reqState);
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
static void AvrDirectStorageP__DirectStorage__readDone(
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
uint8_t arg_0x40e567f8, 
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
uint32_t addr, void *buf, uint32_t len, error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
enum AvrDirectStorageP____nesc_unnamed4468 {
#line 68
  AvrDirectStorageP__checkReady = 38U
};
#line 68
typedef int AvrDirectStorageP____nesc_sillytask_checkReady[AvrDirectStorageP__checkReady];
#line 61
enum AvrDirectStorageP____nesc_unnamed4469 {
  AvrDirectStorageP__S_IDLE, 
  AvrDirectStorageP__S_BUSY
};






static inline void AvrDirectStorageP__Boot__booted(void );
#line 84
static inline error_t AvrDirectStorageP__DirectStorage__read(uint8_t id, uint32_t addr, void *buf, uint32_t len);
#line 215
static inline uint32_t AvrDirectStorageP__VolumeSettings__getVolumeSize(void );
#line 289
static inline void AvrDirectStorageP__checkReady__runTask(void );






static inline void AvrDirectStorageP__DirectStorage__default__readDone(uint8_t id, uint32_t addr, void *buf, uint32_t len, error_t error);
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
uint8_t StateImplP__state[2U];

enum StateImplP____nesc_unnamed4470 {
  StateImplP__S_IDLE = 0
};


static inline error_t StateImplP__Init__init(void );
#line 96
static error_t StateImplP__State__requestState(uint8_t id, uint8_t reqState);
#line 111
static inline void StateImplP__State__forceState(uint8_t id, uint8_t reqState);






static inline void StateImplP__State__toIdle(uint8_t id);
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
static void AvrStorageModifyP__DirectModify__readDone(
# 42 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
uint8_t arg_0x40eafe08, 
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
uint32_t addr, void *buf, uint32_t len, error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
static void AvrStorageModifyP__State__toIdle(void );
#line 45
static error_t AvrStorageModifyP__State__requestState(uint8_t reqState);
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
static error_t AvrStorageModifyP__DirectStorage__read(uint32_t addr, void *buf, uint32_t len);
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
uint8_t AvrStorageModifyP__currentClient;




enum AvrStorageModifyP____nesc_unnamed4471 {
  AvrStorageModifyP__S_IDLE, 
  AvrStorageModifyP__S_BUSY
};
#line 99
static error_t AvrStorageModifyP__DirectModify__read(uint8_t id, uint32_t addr, void *buf, uint32_t len);
#line 123
static inline void AvrStorageModifyP__DirectStorage__readDone(uint32_t addr, void *buf, uint32_t len, error_t error);
#line 172
static inline void AvrStorageModifyP__DirectModify__default__readDone(uint8_t id, uint32_t addr, void *buf, uint32_t len, error_t error);
# 170 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static uint8_t InfraredMessageP__InfraredPacket__getOtherHemisphereConnector(message_t *msg);
#line 151
static uint8_t InfraredMessageP__InfraredPacket__getThisHemisphereConnector(message_t *msg);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredMessageP__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredMessageP__signalSendDone__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredMessageP__Receive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredMessageP__SendFromOtherHemisphere__send(
#line 56
message_t * msg, 







uint8_t len);
#line 64
static error_t InfraredMessageP__SendFromThisHemisphere__send(
#line 56
message_t * msg, 







uint8_t len);
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
enum InfraredMessageP____nesc_unnamed4472 {
#line 75
  InfraredMessageP__signalSendDone = 39U
};
#line 75
typedef int InfraredMessageP____nesc_sillytask_signalSendDone[InfraredMessageP__signalSendDone];
#line 67
bool InfraredMessageP__busy;
message_t *InfraredMessageP__pendingMsg;

bool InfraredMessageP__SendDoneFromThisHemiPending;
bool InfraredMessageP__SendDoneFromOtherHemiPending;
error_t InfraredMessageP__SendDoneFromThisHemiError;
error_t InfraredMessageP__SendDoneFromOtherHemiError;

static inline void InfraredMessageP__signalSendDone__runTask(void );





static inline error_t InfraredMessageP__Send__send(message_t *msg, uint8_t len);
#line 131
static inline void InfraredMessageP__SendFromThisHemisphere__sendDone(message_t *msg, error_t result);






static inline void InfraredMessageP__SendFromOtherHemisphere__sendDone(message_t *msg, error_t result);
#line 150
static inline message_t *InfraredMessageP__ReceivedOnThisHemisphere__receive(message_t *msg, void *payload, uint8_t len);



static inline message_t *InfraredMessageP__ReceivedOnOtherHemisphere__receive(message_t *msg, void *payload, uint8_t len);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredForwarderP__ReceivedOnThisHemisphere__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredForwarderP.nc"
bool InfraredForwarderP__HemisphereForwardBusy;
message_t InfraredForwarderP__HemisphereForwardBuffer;


static inline message_t *InfraredForwarderP__InfraredReceive__receive(message_t *msg, void *payload, uint8_t len);
#line 64
static inline void InfraredForwarderP__HemisphereForward__sendDone(message_t *msg, error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredServerP__InfraredSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredServerP__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredServerP__SendForwardReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

InfraredServerP__SendForwardReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredServerP.nc"
enum InfraredServerP____nesc_unnamed4473 {
#line 55
  InfraredServerP__sendReply = 40U
};
#line 55
typedef int InfraredServerP____nesc_sillytask_sendReply[InfraredServerP__sendReply];
#line 49
bool InfraredServerP__busy;
message_t InfraredServerP__buffer;
message_t *InfraredServerP__bufferPtr = &InfraredServerP__buffer;
error_t InfraredServerP__replyError;
message_t InfraredServerP__replyPkt;

static inline void InfraredServerP__sendReply__runTask(void );






static inline message_t *InfraredServerP__ReceivePktToForward__receive(message_t *msg, void *payload, uint8_t len);
#line 82
static inline void InfraredServerP__InfraredSend__sendDone(message_t *msg, error_t result);





static inline void InfraredServerP__SendForwardReply__sendDone(message_t *msg, error_t result);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__send(message_t *msg, uint8_t len);



static inline void /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__send(
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c92c88, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 89
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__sendDone(
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c921e0, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__val_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__get(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
uint8_t arg_0x40c91898);
#line 142
enum /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2____nesc_unnamed4474 {
#line 142
  DispatcherQueueImplP__2__CancelTask = 41U
};
#line 142
typedef int /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2____nesc_sillytask_CancelTask[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask];
#line 184
enum /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2____nesc_unnamed4475 {
#line 184
  DispatcherQueueImplP__2__errorTask = 42U
};
#line 184
typedef int /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2____nesc_sillytask_errorTask[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask];
#line 78
#line 75
typedef struct /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2____nesc_unnamed4476 {
  message_t *msg;
  uint8_t len;
} /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue_entry_t;

uint8_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = 2;
/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue_entry_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[2];
uint8_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__cancelMask[2 / 8 + 1];

static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__tryToSend(void );

static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__nextPacket(void );
#line 111
static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 142
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask__runTask(void );
#line 178
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__sendDone(uint8_t last, message_t *msg, error_t err);





static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__runTask(void );




static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__tryToSend(void );
#line 203
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err);
#line 229
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);



static inline uint8_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__default__get(uint8_t client);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__send(message_t *msg, uint8_t len);







static inline void /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__sendDone(message_t *m, error_t err);







static inline void */*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__send(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__getPayload(
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dafa70, 
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 


uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__val_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__get(
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40dae5b0);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__sendDone(
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
uint8_t arg_0x40daf010, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__postTask(void );
# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
enum /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1____nesc_unnamed4477 {
#line 137
  RpcQueueImplP__1__CancelTask = 43U
};
#line 137
typedef int /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1____nesc_sillytask_CancelTask[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask];
#line 179
enum /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1____nesc_unnamed4478 {
#line 179
  RpcQueueImplP__1__errorTask = 44U
};
#line 179
typedef int /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1____nesc_sillytask_errorTask[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask];
#line 73
#line 70
typedef struct /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1____nesc_unnamed4479 {
  message_t *msg;
  uint8_t len;
} /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue_entry_t;

uint8_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = 8;
/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue_entry_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[8];
uint8_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__cancelMask[8 / 8 + 1];

static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__tryToSend(void );

static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__nextPacket(void );
#line 106
static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 137
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask__runTask(void );
#line 173
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__sendDone(uint8_t last, message_t *msg, error_t err);





static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__runTask(void );




static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__tryToSend(void );
#line 198
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__sendDone(uint8_t rpc, message_t *msg, error_t err);
#line 220
static inline void */*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(uint8_t id, message_t *m, uint8_t len);



static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);



static uint8_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__default__get(uint8_t client);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredClientP__signalSendDone__postTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredClientP__SendFromOtherHemisphere__sendDone(
#line 85
message_t * msg, 



error_t error);
#line 64
static error_t InfraredClientP__ForwardToOtherHemisphere__send(
#line 56
message_t * msg, 







uint8_t len);
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
enum InfraredClientP____nesc_unnamed4480 {
#line 51
  InfraredClientP__signalSendDone = 45U
};
#line 51
typedef int InfraredClientP____nesc_sillytask_signalSendDone[InfraredClientP__signalSendDone];
#line 47
bool InfraredClientP__busy;
message_t *InfraredClientP__pendingMsg;
error_t InfraredClientP__sendDoneError;

static inline void InfraredClientP__signalSendDone__runTask(void );




static inline error_t InfraredClientP__SendFromOtherHemisphere__send(message_t *msg, uint8_t len);
#line 83
static inline void InfraredClientP__ForwardToOtherHemisphere__sendDone(message_t *msg, error_t result);



static inline message_t *InfraredClientP__ReceiveForwardReply__receive(message_t *msg, void *payload, uint8_t len);










static inline void InfraredClientP__SendRequest__sendDone(message_t *msg, error_t result);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__send(message_t *msg, uint8_t len);



static inline void /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__get(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__send(message_t *msg, uint8_t len);



static inline void /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__SubSend__sendDone(message_t *msg, error_t error);
#line 89
static inline uint8_t /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__get(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredInterceptorP__InfraredReceive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static uint8_t InfraredInterceptorP__InfraredPacket__getSeqNo(message_t *msg);
#line 91
static void InfraredInterceptorP__InfraredPacket__setWasAcked(message_t *msg, bool val);
#line 76
static void InfraredInterceptorP__InfraredPacket__setSeqNo(message_t *msg, uint8_t seqNo);






static bool InfraredInterceptorP__InfraredPacket__requestsAck(message_t *msg);
#line 99
static uint8_t InfraredInterceptorP__InfraredPacket__getConnector(message_t *msg);








static void InfraredInterceptorP__InfraredPacket__setConnector(message_t *msg, uint8_t conn);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t InfraredInterceptorP__AckSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void InfraredInterceptorP__InfraredSend__sendDone(
#line 85
message_t * msg, 



error_t error);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredInterceptorP__updateTable__postTask(void );
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.nc"
static void InfraredInterceptorP__IsAlive__msgSent(uint8_t connector);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredInterceptorP__sendAck__postTask(void );
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTable.nc"
static void InfraredInterceptorP__NeighborTable__present(uint8_t connector, am_addr_t moduleId);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredInterceptorP__InfraredSubSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static am_addr_t InfraredInterceptorP__AMPacket__source(
#line 73
message_t * amsg);
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
enum InfraredInterceptorP____nesc_unnamed4481 {
#line 67
  InfraredInterceptorP__updateTable = 46U
};
#line 67
typedef int InfraredInterceptorP____nesc_sillytask_updateTable[InfraredInterceptorP__updateTable];



enum InfraredInterceptorP____nesc_unnamed4482 {
#line 71
  InfraredInterceptorP__sendAck = 47U
};
#line 71
typedef int InfraredInterceptorP____nesc_sillytask_sendAck[InfraredInterceptorP__sendAck];
#line 57
uint8_t InfraredInterceptorP__connectorToUpdate;
am_addr_t InfraredInterceptorP__addressToAdd;
uint8_t InfraredInterceptorP__seqNo;
message_t *InfraredInterceptorP__waitingForAckPtr;
uint8_t InfraredInterceptorP__waitingForAckSeqNo;
message_t InfraredInterceptorP__ackPkt;
bool InfraredInterceptorP__ackBusy;
uint8_t InfraredInterceptorP__connToAck;
uint8_t InfraredInterceptorP__seqNoToAck;

static inline void InfraredInterceptorP__updateTable__runTask(void );



static inline void InfraredInterceptorP__sendAck__runTask(void );










static message_t *InfraredInterceptorP__InfraredSubReceive__receive(message_t *msg, void *payload, uint8_t len);
#line 98
static inline error_t InfraredInterceptorP__InfraredSend__send(message_t *msg, uint8_t len);
#line 122
static inline void InfraredInterceptorP__InfraredSubSend__sendDone(message_t *msg, error_t error);
#line 134
static inline void InfraredInterceptorP__AckSend__sendDone(message_t *msg, error_t error);




static inline message_t *InfraredInterceptorP__AckReceive__receive(message_t *msg, void *payload, uint8_t len);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t NeighborTableP__Connector__extend(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f88378);
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t NeighborTableP__Connector__retract(
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f88378);
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void NeighborTableP__ExpireTimer__startOneShot(
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
uint8_t arg_0x40f90998, 
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.nc"
static void NeighborTableP__IsAlive__sendMsg(void );
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
neighborsTable_t NeighborTableP__table;
uint8_t NeighborTableP__connectionPings[8];

bool NeighborTableP__assemblyMode;





static __inline uint8_t NeighborTableP__connNumberFromBitmask(uint8_t mask);








static inline void NeighborTableP__Boot__booted(void );









static inline void NeighborTableP__NeighborTable__present(uint8_t connector, am_addr_t moduleId);
#line 104
static inline void NeighborTableP__IsAliveTimer__fired(void );




static void NeighborTableP__ExpireTimer__fired(uint8_t connector);
#line 128
static void NeighborTableP__ExpireTimer__default__startOneShot(uint8_t connector, uint32_t dt);

static inline void NeighborTableP__Connector__extendDone(uint8_t connector, error_t error);

static inline void NeighborTableP__Connector__retractDone(uint8_t connector, error_t error);
# 108 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static void IsAliveP__InfraredPacket__setConnector(message_t *msg, uint8_t conn);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t IsAliveP__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void IsAliveP__ExpireTimer__startOneShot(
# 45 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
uint8_t arg_0x40fc3350, 
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
uint32_t dt);
# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
enum IsAliveP____nesc_unnamed4483 {
#line 55
  IsAliveP__updateHiTrafficConnectors = 48U
};
#line 55
typedef int IsAliveP____nesc_sillytask_updateHiTrafficConnectors[IsAliveP__updateHiTrafficConnectors];
#line 50
uint8_t IsAliveP__justSentOverThisConn;
uint8_t IsAliveP__hiTrafficConnectors;
message_t IsAliveP__pkt;
bool IsAliveP__busy = FALSE;

static inline void IsAliveP__updateHiTrafficConnectors__runTask(void );
#line 68
static inline void IsAliveP__IsAlive__sendMsg(void );










static inline void IsAliveP__IsAlive__msgSent(uint8_t connector);









static inline void IsAliveP__AMSend__sendDone(message_t *msg, error_t error);





static inline message_t *IsAliveP__Receive__receive(message_t *msg, void *payload, uint8_t len);









static inline void IsAliveP__ExpireTimer__fired(uint8_t connector);




static inline void IsAliveP__ExpireTimer__default__startOneShot(uint8_t connector, uint32_t dt);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 151
static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len);









static inline void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__sendDone(message_t *m, error_t err);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__send(
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
am_id_t arg_0x40cee908, 
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__sendDone(
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
uint8_t arg_0x40cf1e78, 
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static uint8_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__payloadLength(
#line 63
message_t * msg);
#line 83
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__setPayloadLength(
#line 79
message_t * msg, 



uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__postTask(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static am_addr_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__destination(
#line 63
message_t * amsg);
#line 136
static am_id_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__type(
#line 132
message_t * amsg);
# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
enum /*AMQueueP.AMQueueImplP*/AMQueueImplP__1____nesc_unnamed4484 {
#line 118
  AMQueueImplP__1__CancelTask = 49U
};
#line 118
typedef int /*AMQueueP.AMQueueImplP*/AMQueueImplP__1____nesc_sillytask_CancelTask[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask];
#line 161
enum /*AMQueueP.AMQueueImplP*/AMQueueImplP__1____nesc_unnamed4485 {
#line 161
  AMQueueImplP__1__errorTask = 50U
};
#line 161
typedef int /*AMQueueP.AMQueueImplP*/AMQueueImplP__1____nesc_sillytask_errorTask[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask];
#line 49
#line 47
typedef struct /*AMQueueP.AMQueueImplP*/AMQueueImplP__1____nesc_unnamed4486 {
  message_t * msg;
} /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue_entry_t;

uint8_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = 3;
/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue_entry_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[3];
uint8_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__cancelMask[3 / 8 + 1];

static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__tryToSend(void );

static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__nextPacket(void );
#line 82
static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len);
#line 118
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask__runTask(void );
#line 155
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__sendDone(uint8_t last, message_t * msg, error_t err);





static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__runTask(void );




static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__tryToSend(void );
#line 181
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__sendDone(am_id_t id, message_t *msg, error_t err);
#line 207
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredActiveMessageP__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void InfraredActiveMessageP__AMSend__sendDone(
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fd0d90, 
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
message_t * msg, 






error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredActiveMessageP__Snoop__receive(
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fcde00, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
static am_addr_t InfraredActiveMessageP__ActiveMessageAddress__amAddress(void );




static am_group_t InfraredActiveMessageP__ActiveMessageAddress__amGroup(void );
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



InfraredActiveMessageP__Receive__receive(
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
am_id_t arg_0x40fcd768, 
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
message_t * msg, 
void * payload, 





uint8_t len);
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketBody.nc"
static infrared_header_t *InfraredActiveMessageP__InfraredPacketBody__getHeader(message_t *msg);
# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline am_addr_t InfraredActiveMessageP__AMPacket__address(void );







static am_addr_t InfraredActiveMessageP__AMPacket__destination(message_t *amsg);




static am_addr_t InfraredActiveMessageP__AMPacket__source(message_t *amsg);




static void InfraredActiveMessageP__AMPacket__setDestination(message_t *amsg, am_addr_t addr);









static inline bool InfraredActiveMessageP__AMPacket__isForMe(message_t *amsg);




static inline am_id_t InfraredActiveMessageP__AMPacket__type(message_t *amsg);




static void InfraredActiveMessageP__AMPacket__setType(message_t *amsg, am_id_t type);
#line 144
static error_t InfraredActiveMessageP__AMSend__send(am_id_t id, am_addr_t addr, 
message_t *msg, 
uint8_t len);
#line 176
static inline void InfraredActiveMessageP__SubSend__sendDone(message_t *msg, error_t result);




static inline message_t *InfraredActiveMessageP__SubReceive__receive(message_t *msg, void *payload, uint8_t len);










static inline message_t *InfraredActiveMessageP__Receive__default__receive(am_id_t id, message_t *msg, void *payload, uint8_t len);



static inline message_t *InfraredActiveMessageP__Snoop__default__receive(am_id_t id, message_t *msg, void *payload, uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static ActiveMessageAddressC__getModuleIdOnFlash__val_t ActiveMessageAddressC__getModuleIdOnFlash__get(void );
# 92 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
am_addr_t ActiveMessageAddressC__addr = INVALID_AM_ADDRESS;
uint16_t ActiveMessageAddressC__moduleIdOnFlash;


am_group_t ActiveMessageAddressC__group = TOS_AM_GROUP;

static inline error_t ActiveMessageAddressC__Init__init(void );








static inline am_addr_t ActiveMessageAddressC__ActiveMessageAddress__amAddress(void );
#line 128
static inline am_group_t ActiveMessageAddressC__ActiveMessageAddress__amGroup(void );
#line 141
static am_addr_t ActiveMessageAddressC__amAddress(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__startDone(error_t error);
#line 117
static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__stopDone(error_t error);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
enum /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0____nesc_unnamed4487 {
#line 44
  NoSplitControlC__0__signalStartDone = 51U
};
#line 44
typedef int /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0____nesc_sillytask_signalStartDone[/*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone];



enum /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0____nesc_unnamed4488 {
#line 48
  NoSplitControlC__0__signalStopDone = 52U
};
#line 48
typedef int /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0____nesc_sillytask_signalStopDone[/*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone];
#line 44
static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone__runTask(void );



static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone__runTask(void );
#line 62
static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__startDone(error_t error);

static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__stopDone(error_t error);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__startDone(error_t error);
#line 117
static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__stopDone(error_t error);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
enum /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1____nesc_unnamed4489 {
#line 44
  NoSplitControlC__1__signalStartDone = 53U
};
#line 44
typedef int /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1____nesc_sillytask_signalStartDone[/*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone];



enum /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1____nesc_unnamed4490 {
#line 48
  NoSplitControlC__1__signalStopDone = 54U
};
#line 48
typedef int /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1____nesc_sillytask_signalStopDone[/*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone];
#line 44
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone__runTask(void );



static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone__runTask(void );
#line 62
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__startDone(error_t error);

static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__stopDone(error_t error);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void DebugLedsP__Led0__makeOutput(void );
#line 29
static void DebugLedsP__Led0__set(void );
static void DebugLedsP__Led0__clr(void );




static void DebugLedsP__Led1__makeOutput(void );
#line 29
static void DebugLedsP__Led1__set(void );
static void DebugLedsP__Led1__clr(void );
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/DebugLedsP.nc"
static inline error_t DebugLedsP__Init__init(void );









static inline void DebugLedsP__Leds__led0On(void );



static inline void DebugLedsP__Leds__led0Off(void );







static inline void DebugLedsP__Leds__led1On(void );



static inline void DebugLedsP__Leds__led1Off(void );
#line 100
static inline void DebugLedsP__Leds__set(uint8_t val);
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t ConnectorsImplP__Connector6__extend(void );








static error_t ConnectorsImplP__Connector6__retract(void );






static void ConnectorsImplP__Connector__extendDone(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
connector_t arg_0x41089ae8, 
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);






static void ConnectorsImplP__Connector__retractDone(
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
connector_t arg_0x41089ae8, 
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
error_t error);
#line 49
static error_t ConnectorsImplP__Connector4__extend(void );








static error_t ConnectorsImplP__Connector4__retract(void );
#line 49
static error_t ConnectorsImplP__Connector2__extend(void );








static error_t ConnectorsImplP__Connector2__retract(void );
#line 49
static error_t ConnectorsImplP__Connector0__extend(void );








static error_t ConnectorsImplP__Connector0__retract(void );
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static error_t ConnectorsImplP__Connector__extend(connector_t connector);
#line 63
static error_t ConnectorsImplP__Connector__retract(connector_t connector);
#line 89
static inline void ConnectorsImplP__Connector0__extendDone(error_t error);



static inline void ConnectorsImplP__Connector0__retractDone(error_t error);



static inline void ConnectorsImplP__Connector2__extendDone(error_t error);



static inline void ConnectorsImplP__Connector2__retractDone(error_t error);



static inline void ConnectorsImplP__Connector4__extendDone(error_t error);



static inline void ConnectorsImplP__Connector4__retractDone(error_t error);



static inline void ConnectorsImplP__Connector6__extendDone(error_t error);



static inline void ConnectorsImplP__Connector6__retractDone(error_t error);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__makeOutput(void );
#line 29
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__set(void );
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__clr(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__postTask(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extendDone(error_t error);






static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retractDone(error_t error);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__readDone(error_t result, /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__val_t val);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__makeOutput(void );
#line 29
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__set(void );
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__clr(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__read(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__startPeriodic(uint32_t dt);
#line 67
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__stop(void );
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
enum /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0____nesc_unnamed4491 {
#line 59
  ConnectorMotorDriverP__0__signalReadDone = 55U
};
#line 59
typedef int /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0____nesc_sillytask_signalReadDone[/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone];
#line 55
bool /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__internalTest;
uint8_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__overcurrentCounts;
connector_state_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_UNKNOWN;

static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__runTask(void );




static inline error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Init__init(void );






static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extend(void );










static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract(void );
#line 98
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__readDone(error_t result, uint16_t current);
#line 129
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__fired(void );
#line 145
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__estTimer__fired(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcMultiple.nc"
static bool Atm128AdcP__Atm128AdcMultiple__dataReady(uint16_t data, bool precise, uint8_t channel, 
uint8_t *newChannel, uint8_t *newRefVoltage);
# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
static void Atm128AdcP__Atm128AdcSingle__dataReady(uint16_t data, bool precise);
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
static Atm128Admux_t Atm128AdcP__HplAtm128Adc__getAdmux(void );
#line 73
static void Atm128AdcP__HplAtm128Adc__enableAdc(void );
#line 49
static void Atm128AdcP__HplAtm128Adc__setAdmux(Atm128Admux_t admux);
#line 141
static bool Atm128AdcP__HplAtm128Adc__cancel(void );
#line 77
static void Atm128AdcP__HplAtm128Adc__disableAdc(void );








static void Atm128AdcP__HplAtm128Adc__disableInterruption(void );
#line 60
static void Atm128AdcP__HplAtm128Adc__setAdcsra(Atm128Adcsra_t adcsra);
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Calibrate.nc"
static uint8_t Atm128AdcP__Atm128Calibrate__adcPrescaler(void );
# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
#line 78
struct Atm128AdcP____nesc_unnamed4492 {
  bool multiple : 1;
  bool precise : 1;
  uint8_t channel : 5;
} Atm128AdcP__f;
#line 82
#line 78
struct Atm128AdcP____nesc_unnamed4492 



Atm128AdcP__nextF;

static inline error_t Atm128AdcP__Init__init(void );
#line 104
static inline error_t Atm128AdcP__AsyncStdControl__start(void );




static inline error_t Atm128AdcP__AsyncStdControl__stop(void );









static __inline bool Atm128AdcP__isPrecise(Atm128Admux_t admux, uint8_t channel, uint8_t refVoltage);




static inline void Atm128AdcP__HplAtm128Adc__dataReady(uint16_t data);
#line 184
static inline void Atm128AdcP__getData(uint8_t channel, uint8_t refVoltage, bool leftJustify, uint8_t prescaler);
#line 208
static inline bool Atm128AdcP__Atm128AdcSingle__getData(uint8_t channel, uint8_t refVoltage, 
bool leftJustify, uint8_t prescaler);
#line 242
static inline bool Atm128AdcP__Atm128AdcMultiple__default__dataReady(uint16_t data, bool precise, uint8_t channel, 
uint8_t *newChannel, uint8_t *newRefVoltage);
# 147 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
static void HplAtm128AdcP__HplAtm128Adc__dataReady(uint16_t data);
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerState.nc"
static void HplAtm128AdcP__McuPowerState__update(void );
# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline Atm128Admux_t HplAtm128AdcP__HplAtm128Adc__getAdmux(void );


static inline Atm128Adcsra_t HplAtm128AdcP__HplAtm128Adc__getAdcsra(void );


static inline uint16_t HplAtm128AdcP__HplAtm128Adc__getValue(void );



static inline uint8_t HplAtm128AdcP__Admux2int(Atm128Admux_t x);
static inline uint8_t HplAtm128AdcP__Adcsra2int(Atm128Adcsra_t x);


static inline void HplAtm128AdcP__HplAtm128Adc__setAdmux(Atm128Admux_t x);


static inline void HplAtm128AdcP__HplAtm128Adc__setAdcsra(Atm128Adcsra_t x);
#line 69
static inline void HplAtm128AdcP__HplAtm128Adc__enableAdc(void );



static inline void HplAtm128AdcP__HplAtm128Adc__disableAdc(void );




static inline void HplAtm128AdcP__HplAtm128Adc__disableInterruption(void );
#line 99
void __vector_21(void ) __attribute((signal))   ;








static inline bool HplAtm128AdcP__HplAtm128Adc__cancel(void );
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
enum /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1____nesc_unnamed4493 {
  RoundRobinResourceQueueC__1__NO_ENTRY = 0xFF, 
  RoundRobinResourceQueueC__1__SIZE = 6U ? (6U - 1) / 8 + 1 : 0
};

uint8_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ[/*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__SIZE];
uint8_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__last = 0;

static inline void /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__clearEntry(uint8_t id);



static inline error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__Init__init(void );




static inline bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEmpty(void );








static bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEnqueued(resource_client_id_t id);



static inline resource_client_id_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__dequeue(void );
#line 87
static inline error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__enqueue(resource_client_id_t id);
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__requested(
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45da8);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__unconfigure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__configure(
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a431b8);
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__enqueue(resource_client_id_t id);
#line 43
static bool /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__isEmpty(void );
#line 60
static resource_client_id_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__dequeue(void );
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__requested(void );
#line 46
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__granted(void );
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__granted(
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
uint8_t arg_0x40a45380);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__postTask(void );
# 75 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
enum /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1____nesc_unnamed4494 {
#line 75
  ArbiterP__1__grantedTask = 56U
};
#line 75
typedef int /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1____nesc_sillytask_grantedTask[/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask];
#line 67
enum /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1____nesc_unnamed4495 {
#line 67
  ArbiterP__1__RES_CONTROLLED, ArbiterP__1__RES_GRANTING, ArbiterP__1__RES_IMM_GRANTING, ArbiterP__1__RES_BUSY
};
#line 68
enum /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1____nesc_unnamed4496 {
#line 68
  ArbiterP__1__default_owner_id = 6U
};
#line 69
enum /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1____nesc_unnamed4497 {
#line 69
  ArbiterP__1__NO_RES = 0xFF
};
uint8_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_CONTROLLED;
uint8_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__default_owner_id;
uint8_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__reqResId;



static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(uint8_t id);
#line 108
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(uint8_t id);
#line 129
static inline error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__release(void );
#line 186
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__runTask(void );
#line 198
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__default__granted(uint8_t id);

static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__default__requested(uint8_t id);
#line 212
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__configure(uint8_t id);

static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__unconfigure(uint8_t id);
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/PowerDownCleanup.nc"
static void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__cleanup(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__release(void );
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AsyncStdControl.nc"
static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__start(void );









static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__stop(void );
# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/AsyncPowerManagerP.nc"
static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__requested(void );









static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__granted(void );




static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__default__cleanup(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void AdcP__Read__readDone(
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x41170130, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, AdcP__Read__val_t val);
# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ReadNow.nc"
static void AdcP__ReadNow__readDone(
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116f0e8, 
# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ReadNow.nc"
error_t result, AdcP__ReadNow__val_t val);
# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__getRefVoltage(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 25 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__getChannel(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
static uint8_t AdcP__Atm128AdcConfig__getPrescaler(
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
uint8_t arg_0x4116e600);
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
static bool AdcP__Atm128AdcSingle__getData(uint8_t channel, uint8_t refVoltage, 
bool leftJustify, uint8_t prescaler);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t AdcP__acquiredData__postTask(void );
# 103 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
enum AdcP____nesc_unnamed4498 {
#line 103
  AdcP__acquiredData = 57U
};
#line 103
typedef int AdcP____nesc_sillytask_acquiredData[AdcP__acquiredData];
#line 57
enum AdcP____nesc_unnamed4499 {
  AdcP__IDLE, 
  AdcP__ACQUIRE_DATA, 
  AdcP__ACQUIRE_DATA_NOW
};




uint8_t AdcP__state;
uint8_t AdcP__client;
uint16_t AdcP__val;

static inline uint8_t AdcP__channel(void );



static inline uint8_t AdcP__refVoltage(void );



static inline uint8_t AdcP__prescaler(void );



static void AdcP__sample(void );



static inline error_t AdcP__startGet(uint8_t newState, uint8_t newClient);








static inline error_t AdcP__Read__read(uint8_t c);







static inline void AdcP__acquiredData__runTask(void );




static inline void AdcP__Atm128AdcSingle__dataReady(uint16_t data, bool precise);
#line 137
static inline uint8_t AdcP__Atm128AdcConfig__default__getChannel(uint8_t c);



static inline uint8_t AdcP__Atm128AdcConfig__default__getRefVoltage(uint8_t c);



static inline uint8_t AdcP__Atm128AdcConfig__default__getPrescaler(uint8_t c);




static inline void AdcP__ReadNow__default__readDone(uint8_t c, error_t e, uint16_t d);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__readDone(
# 24 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x411580e8, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__val_t val);
#line 55
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__read(
# 26 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41156130);
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__release(
# 27 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41155010);
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__request(
# 27 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
uint8_t arg_0x41155010);



static inline error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(uint8_t client);



static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(uint8_t client);



static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__readDone(uint8_t client, error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t data);




static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__request(uint8_t client);


static inline error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__release(uint8_t client);
static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__default__readDone(uint8_t client, error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t data);
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense1P.nc"
static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getChannel(void );




static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getRefVoltage(void );




static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getPrescaler(void );
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__makeOutput(void );
#line 29
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__set(void );
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__clr(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__postTask(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extendDone(error_t error);






static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retractDone(error_t error);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__readDone(error_t result, /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__val_t val);
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__makeOutput(void );
#line 29
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__set(void );
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__clr(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__read(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__startPeriodic(uint32_t dt);
#line 67
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__stop(void );
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
enum /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1____nesc_unnamed4500 {
#line 59
  ConnectorMotorDriverP__1__signalReadDone = 58U
};
#line 59
typedef int /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1____nesc_sillytask_signalReadDone[/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone];
#line 55
bool /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__internalTest;
uint8_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__overcurrentCounts;
connector_state_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_UNKNOWN;

static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__runTask(void );




static inline error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Init__init(void );






static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extend(void );










static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract(void );
#line 98
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__readDone(error_t result, uint16_t current);
#line 129
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__fired(void );
#line 145
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__estTimer__fired(void );
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense2P.nc"
static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getChannel(void );




static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getRefVoltage(void );




static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getPrescaler(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extendDone(error_t error);






static void /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retractDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask(void );
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
enum /*Connector1ClientC.client*/ConnectorClientP__0____nesc_unnamed4501 {
#line 51
  ConnectorClientP__0__sendRequest = 59U
};
#line 51
typedef int /*Connector1ClientC.client*/ConnectorClientP__0____nesc_sillytask_sendRequest[/*Connector1ClientC.client*/ConnectorClientP__0__sendRequest];
#line 46
message_t /*Connector1ClientC.client*/ConnectorClientP__0__pkt;
uint8_t /*Connector1ClientC.client*/ConnectorClientP__0__connector = MALE_CONNECTOR_UNKNOWN;
bool /*Connector1ClientC.client*/ConnectorClientP__0__busy = FALSE;





static inline error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extend(void );







static inline error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retract(void );
#line 75
static inline void /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*Connector1ClientC.client*/ConnectorClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);










static inline void /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__send(message_t *msg, uint8_t len);







static inline void /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__sendDone(message_t *m, error_t err);







static inline void */*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__get(void );
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static void /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extendDone(error_t error);






static void /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retractDone(error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask(void );
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
enum /*Connector2ClientC.client*/ConnectorClientP__1____nesc_unnamed4502 {
#line 51
  ConnectorClientP__1__sendRequest = 60U
};
#line 51
typedef int /*Connector2ClientC.client*/ConnectorClientP__1____nesc_sillytask_sendRequest[/*Connector2ClientC.client*/ConnectorClientP__1__sendRequest];
#line 46
message_t /*Connector2ClientC.client*/ConnectorClientP__1__pkt;
uint8_t /*Connector2ClientC.client*/ConnectorClientP__1__connector = MALE_CONNECTOR_UNKNOWN;
bool /*Connector2ClientC.client*/ConnectorClientP__1__busy = FALSE;





static inline error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extend(void );







static inline error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retract(void );
#line 75
static inline void /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*Connector2ClientC.client*/ConnectorClientP__1__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);










static inline void /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__send(message_t *msg, uint8_t len);







static inline void /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__sendDone(message_t *m, error_t err);







static inline void */*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__get(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t CentralJointClientP__ReadDegrees__read(void );
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
static void CentralJointClientP__joint__readDegreesDone(error_t result, uint16_t val);
#line 139
static void CentralJointClientP__joint__rotationCompleted(error_t error, uint16_t degrees, bool dir);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t CentralJointClientP__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

CentralJointClientP__SendRequest__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t CentralJointClientP__sendRequest__postTask(void );
#line 56
static error_t CentralJointClientP__signalRotationCompleted__postTask(void );
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
enum CentralJointClientP____nesc_unnamed4503 {
#line 73
  CentralJointClientP__sendRequest = 61U
};
#line 73
typedef int CentralJointClientP____nesc_sillytask_sendRequest[CentralJointClientP__sendRequest];
enum CentralJointClientP____nesc_unnamed4504 {
#line 74
  CentralJointClientP__signalRotationCompleted = 62U
};
#line 74
typedef int CentralJointClientP____nesc_sillytask_signalRotationCompleted[CentralJointClientP__signalRotationCompleted];
#line 49
message_t CentralJointClientP__pkt;
uint16_t CentralJointClientP__setDegrees;
uint8_t CentralJointClientP__setSpeed;
bool CentralJointClientP__setDirection;
uint8_t CentralJointClientP__setOpcode;
bool CentralJointClientP__setLocked;
uint16_t CentralJointClientP__actualDegrees;
uint8_t CentralJointClientP__actualSpeed;
bool CentralJointClientP__actualDirection;

error_t CentralJointClientP__actualError;
uint16_t CentralJointClientP__signalDegrees;
bool CentralJointClientP__signalDirection;
bool CentralJointClientP__actualLocked;
bool CentralJointClientP__busy = FALSE;






bool CentralJointClientP__readDegreesDonePending = FALSE;










static inline error_t CentralJointClientP__joint__readDegrees(void );
#line 98
static void CentralJointClientP__joint__stop(bool lock);






static inline void CentralJointClientP__joint__rotate(uint8_t speed, bool dir);
#line 126
static error_t CentralJointClientP__joint__rotateToDegrees(uint16_t degrees, uint8_t speed, bool dir);
#line 140
static inline error_t CentralJointClientP__joint__rotateToDegreesShortestPath(uint16_t degrees, uint8_t speed);
#line 154
static inline void CentralJointClientP__SendRequest__sendDone(message_t *msg, error_t error);









static inline void CentralJointClientP__SendRequestDegreesUpdate__sendDone(message_t *msg, error_t error);


static inline message_t *CentralJointClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);
#line 187
static inline message_t *CentralJointClientP__ReceiveReplyDegreesUpdate__receive(message_t *msg, void *payload, uint8_t len);






static inline void CentralJointClientP__sendRequest__runTask(void );
#line 212
static inline void CentralJointClientP__signalRotationCompleted__runTask(void );



static inline void CentralJointClientP__ReadDegrees__readDone(error_t err, uint16_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__send(message_t *msg, uint8_t len);







static inline void /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__sendDone(message_t *m, error_t err);







static inline void */*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__get(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__readDone(error_t result, /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask(void );
#line 56
static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__postTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
enum /*DegreesClientC.degreesClient*/RpcRead16ClientP__0____nesc_unnamed4505 {
#line 49
  RpcRead16ClientP__0__sendRequest = 63U
};
#line 49
typedef int /*DegreesClientC.degreesClient*/RpcRead16ClientP__0____nesc_sillytask_sendRequest[/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest];
enum /*DegreesClientC.degreesClient*/RpcRead16ClientP__0____nesc_unnamed4506 {
#line 50
  RpcRead16ClientP__0__signalReadDone = 64U
};
#line 50
typedef int /*DegreesClientC.degreesClient*/RpcRead16ClientP__0____nesc_sillytask_signalReadDone[/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone];
#line 43
message_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__pkt;
error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__result;
uint16_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__value;
bool /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__busy = FALSE;






static inline error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__read(void );




static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*DegreesClientC.degreesClient*/RpcRead16ClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);








static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__runTask(void );
#line 89
static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__send(message_t *msg, uint8_t len);







static inline void /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__get(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__get(void );
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static error_t SimpleInfraredActiveMessageP__AMSend__send(am_addr_t addr, 
#line 60
message_t * msg, 








uint8_t len);
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void SimpleInfraredActiveMessageP__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
static 
#line 63
message_t * 



SimpleInfraredActiveMessageP__Receive__receive(
#line 60
message_t * msg, 
void * payload, 





uint8_t len);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SimpleInfraredActiveMessageP.nc"
static inline error_t SimpleInfraredActiveMessageP__Send__send(message_t *msg, uint8_t len);
#line 70
static inline void SimpleInfraredActiveMessageP__AMSend__sendDone(message_t *msg, error_t error);




static inline message_t *SimpleInfraredActiveMessageP__AMReceive__receive(message_t *msg, void *payload, uint8_t len);
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 151
static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len);









static inline void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__sendDone(message_t *m, error_t err);
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/XaxisP.nc"
static inline uint8_t XaxisP__Atm128AdcConfig__getChannel(void );





static inline uint8_t XaxisP__Atm128AdcConfig__getRefVoltage(void );





static inline uint8_t XaxisP__Atm128AdcConfig__getPrescaler(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__readDone(error_t result, /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__postTask(void );
#line 56
static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__postTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
enum /*OtherXaxisC.client*/RpcRead16ClientP__1____nesc_unnamed4507 {
#line 49
  RpcRead16ClientP__1__sendRequest = 65U
};
#line 49
typedef int /*OtherXaxisC.client*/RpcRead16ClientP__1____nesc_sillytask_sendRequest[/*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest];
enum /*OtherXaxisC.client*/RpcRead16ClientP__1____nesc_unnamed4508 {
#line 50
  RpcRead16ClientP__1__signalReadDone = 66U
};
#line 50
typedef int /*OtherXaxisC.client*/RpcRead16ClientP__1____nesc_sillytask_signalReadDone[/*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone];
#line 43
message_t /*OtherXaxisC.client*/RpcRead16ClientP__1__pkt;
error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__result;
uint16_t /*OtherXaxisC.client*/RpcRead16ClientP__1__value;
bool /*OtherXaxisC.client*/RpcRead16ClientP__1__busy = FALSE;
#line 58
static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*OtherXaxisC.client*/RpcRead16ClientP__1__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);








static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__runTask(void );
#line 89
static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__runTask(void );




static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__default__readDone(error_t res, uint16_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__send(message_t *msg, uint8_t len);







static inline void /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__get(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*YaxisC.client*/RpcRead16ClientP__2__Read__readDone(error_t result, /*YaxisC.client*/RpcRead16ClientP__2__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__postTask(void );
#line 56
static error_t /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__postTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
enum /*YaxisC.client*/RpcRead16ClientP__2____nesc_unnamed4509 {
#line 49
  RpcRead16ClientP__2__sendRequest = 67U
};
#line 49
typedef int /*YaxisC.client*/RpcRead16ClientP__2____nesc_sillytask_sendRequest[/*YaxisC.client*/RpcRead16ClientP__2__sendRequest];
enum /*YaxisC.client*/RpcRead16ClientP__2____nesc_unnamed4510 {
#line 50
  RpcRead16ClientP__2__signalReadDone = 68U
};
#line 50
typedef int /*YaxisC.client*/RpcRead16ClientP__2____nesc_sillytask_signalReadDone[/*YaxisC.client*/RpcRead16ClientP__2__signalReadDone];
#line 43
message_t /*YaxisC.client*/RpcRead16ClientP__2__pkt;
error_t /*YaxisC.client*/RpcRead16ClientP__2__result;
uint16_t /*YaxisC.client*/RpcRead16ClientP__2__value;
bool /*YaxisC.client*/RpcRead16ClientP__2__busy = FALSE;
#line 58
static inline void /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*YaxisC.client*/RpcRead16ClientP__2__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);








static inline void /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__runTask(void );
#line 89
static inline void /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__runTask(void );




static inline void /*YaxisC.client*/RpcRead16ClientP__2__Read__default__readDone(error_t res, uint16_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__send(message_t *msg, uint8_t len);







static inline void /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__get(void );
# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/ZaxisP.nc"
static inline uint8_t ZaxisP__Atm128AdcConfig__getChannel(void );





static inline uint8_t ZaxisP__Atm128AdcConfig__getRefVoltage(void );





static inline uint8_t ZaxisP__Atm128AdcConfig__getPrescaler(void );
# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__sendDone(
#line 92
message_t * msg, 






error_t error);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setDestination(
#line 88
message_t * amsg, 



am_addr_t addr);
#line 151
static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setType(
#line 147
message_t * amsg, 



am_id_t t);
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len);









static inline void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__sendDone(message_t *m, error_t err);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t InfraredChannelClientP__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

InfraredChannelClientP__SendRequest__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredChannelClientP__sendRequest__postTask(void );
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelClientP.nc"
enum InfraredChannelClientP____nesc_unnamed4511 {
#line 53
  InfraredChannelClientP__sendRequest = 69U
};
#line 53
typedef int InfraredChannelClientP____nesc_sillytask_sendRequest[InfraredChannelClientP__sendRequest];
#line 48
message_t InfraredChannelClientP__pkt;
bool InfraredChannelClientP__lowSensitivity = FALSE;
bool InfraredChannelClientP__busy = FALSE;
#line 69
static inline void InfraredChannelClientP__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t *InfraredChannelClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);





static inline void InfraredChannelClientP__sendRequest__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__send(message_t *msg, uint8_t len);







static inline void /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__sendDone(message_t *m, error_t err);







static inline void */*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__postTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extend(void );








static error_t /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retract(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ServerC.server*/ConnectorServerP__0__SendReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
enum /*Connector1ServerC.server*/ConnectorServerP__0____nesc_unnamed4512 {
#line 53
  ConnectorServerP__0__processRequest = 70U
};
#line 53
typedef int /*Connector1ServerC.server*/ConnectorServerP__0____nesc_sillytask_processRequest[/*Connector1ServerC.server*/ConnectorServerP__0__processRequest];
enum /*Connector1ServerC.server*/ConnectorServerP__0____nesc_unnamed4513 {
#line 54
  ConnectorServerP__0__sendReply = 71U
};
#line 54
typedef int /*Connector1ServerC.server*/ConnectorServerP__0____nesc_sillytask_sendReply[/*Connector1ServerC.server*/ConnectorServerP__0__sendReply];
#line 46
message_t /*Connector1ServerC.server*/ConnectorServerP__0__pkt;


uint8_t /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_UNKNOWN;
bool /*Connector1ServerC.server*/ConnectorServerP__0__busy = FALSE;





static inline message_t */*Connector1ServerC.server*/ConnectorServerP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);





static inline void /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__sendDone(message_t *msg, error_t error);









static inline void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extendDone(error_t error);







static inline void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retractDone(error_t error);








static inline void /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__runTask(void );
#line 104
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__send(message_t *msg, uint8_t len);







static inline void /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__sendDone(message_t *m, error_t err);







static inline void */*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__postTask(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extend(void );








static error_t /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retract(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ServerC.server*/ConnectorServerP__1__SendReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
enum /*Connector2ServerC.server*/ConnectorServerP__1____nesc_unnamed4514 {
#line 53
  ConnectorServerP__1__processRequest = 72U
};
#line 53
typedef int /*Connector2ServerC.server*/ConnectorServerP__1____nesc_sillytask_processRequest[/*Connector2ServerC.server*/ConnectorServerP__1__processRequest];
enum /*Connector2ServerC.server*/ConnectorServerP__1____nesc_unnamed4515 {
#line 54
  ConnectorServerP__1__sendReply = 73U
};
#line 54
typedef int /*Connector2ServerC.server*/ConnectorServerP__1____nesc_sillytask_sendReply[/*Connector2ServerC.server*/ConnectorServerP__1__sendReply];
#line 46
message_t /*Connector2ServerC.server*/ConnectorServerP__1__pkt;


uint8_t /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_UNKNOWN;
bool /*Connector2ServerC.server*/ConnectorServerP__1__busy = FALSE;





static inline message_t */*Connector2ServerC.server*/ConnectorServerP__1__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);





static inline void /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__sendDone(message_t *msg, error_t error);









static inline void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extendDone(error_t error);







static inline void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retractDone(error_t error);








static inline void /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__runTask(void );
#line 104
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__send(message_t *msg, uint8_t len);







static inline void /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__sendDone(message_t *m, error_t err);







static inline void */*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__Read__read(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
enum /*XaxisServerC.server*/RpcRead16ServerP__0____nesc_unnamed4516 {
#line 50
  RpcRead16ServerP__0__processRequest = 74U
};
#line 50
typedef int /*XaxisServerC.server*/RpcRead16ServerP__0____nesc_sillytask_processRequest[/*XaxisServerC.server*/RpcRead16ServerP__0__processRequest];
enum /*XaxisServerC.server*/RpcRead16ServerP__0____nesc_unnamed4517 {
#line 51
  RpcRead16ServerP__0__sendReply = 75U
};
#line 51
typedef int /*XaxisServerC.server*/RpcRead16ServerP__0____nesc_sillytask_sendReply[/*XaxisServerC.server*/RpcRead16ServerP__0__sendReply];
#line 43
message_t /*XaxisServerC.server*/RpcRead16ServerP__0__pkt;
error_t /*XaxisServerC.server*/RpcRead16ServerP__0__result;
uint16_t /*XaxisServerC.server*/RpcRead16ServerP__0__value;
bool /*XaxisServerC.server*/RpcRead16ServerP__0__busy = FALSE;
bool /*XaxisServerC.server*/RpcRead16ServerP__0__readDonePending;





static inline message_t */*XaxisServerC.server*/RpcRead16ServerP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);




static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__sendDone(message_t *msg, error_t error);









static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__Read__readDone(error_t res, uint16_t val);










static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__runTask(void );




static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__send(message_t *msg, uint8_t len);







static inline void /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__sendDone(message_t *m, error_t err);







static inline void */*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__get(void );
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
static error_t HemisphereProximitySensorP__RxInterrupt__disable(void );
#line 43
static error_t HemisphereProximitySensorP__RxInterrupt__enableFallingEdge(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void HemisphereProximitySensorP__proximity__readDone(
# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
uint8_t arg_0x412a2010, 
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
error_t result, HemisphereProximitySensorP__proximity__val_t val);
# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static bool HemisphereProximitySensorP__SampleTimer__isRunning(void );
#line 62
static void HemisphereProximitySensorP__SampleTimer__startOneShot(uint32_t dt);
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
static void HemisphereProximitySensorP__InfraredChannel__enable(uint8_t val);
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
static void HemisphereProximitySensorP__powerPwm__start(uint16_t top, uint16_t steps_high);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t HemisphereProximitySensorP__lowerPwmHigh__postTask(void );
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t HemisphereProximitySensorP__Resource__release(void );
#line 78
static error_t HemisphereProximitySensorP__Resource__request(void );
#line 118
static bool HemisphereProximitySensorP__Resource__isOwner(void );
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
static void HemisphereProximitySensorP__proxPwm__start(uint16_t top, uint16_t steps_high);
#line 75
static void HemisphereProximitySensorP__proxPwm__stop(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t HemisphereProximitySensorP__signalReadDone__postTask(void );
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
enum HemisphereProximitySensorP____nesc_unnamed4518 {
#line 68
  HemisphereProximitySensorP__signalReadDone = 76U
};
#line 68
typedef int HemisphereProximitySensorP____nesc_sillytask_signalReadDone[HemisphereProximitySensorP__signalReadDone];




enum HemisphereProximitySensorP____nesc_unnamed4519 {
#line 73
  HemisphereProximitySensorP__lowerPwmHigh = 77U
};
#line 73
typedef int HemisphereProximitySensorP____nesc_sillytask_lowerPwmHigh[HemisphereProximitySensorP__lowerPwmHigh];
#line 63
bool HemisphereProximitySensorP__sensorBusy;
uint8_t HemisphereProximitySensorP__pwmHigh;
uint8_t HemisphereProximitySensorP__channelToSense;
uint8_t HemisphereProximitySensorP__ticks;

static inline void HemisphereProximitySensorP__signalReadDone__runTask(void );




static inline void HemisphereProximitySensorP__lowerPwmHigh__runTask(void );
#line 87
static inline error_t HemisphereProximitySensorP__proximity__read(uint8_t chan);










static inline void HemisphereProximitySensorP__ResourceConfigure__configure(void );




static void HemisphereProximitySensorP__ResourceConfigure__unconfigure(void );








static inline void HemisphereProximitySensorP__RxInterrupt__fired(void );
#line 126
static inline void HemisphereProximitySensorP__Resource__granted(void );









static inline void HemisphereProximitySensorP__SampleTimer__fired(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__read(
# 39 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
uint8_t arg_0x412cab60);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
enum /*ProximityServerC.server*/RpcRead8ServerProximityP__0____nesc_unnamed4520 {
#line 53
  RpcRead8ServerProximityP__0__processRequest = 78U
};
#line 53
typedef int /*ProximityServerC.server*/RpcRead8ServerProximityP__0____nesc_sillytask_processRequest[/*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest];
enum /*ProximityServerC.server*/RpcRead8ServerProximityP__0____nesc_unnamed4521 {
#line 54
  RpcRead8ServerProximityP__0__sendReply = 79U
};
#line 54
typedef int /*ProximityServerC.server*/RpcRead8ServerProximityP__0____nesc_sillytask_sendReply[/*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply];
#line 45
message_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__pkt;
error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__result;
uint8_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__value;
bool /*ProximityServerC.server*/RpcRead8ServerProximityP__0__busy = FALSE;
uint8_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__channel;
bool /*ProximityServerC.server*/RpcRead8ServerProximityP__0__readDonePending;





static inline message_t */*ProximityServerC.server*/RpcRead8ServerProximityP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);





static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__sendDone(message_t *msg, error_t error);









static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__readDone(uint8_t chan, error_t res, uint8_t val);










static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__runTask(void );




static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__send(message_t *msg, uint8_t len);







static inline void /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__sendDone(message_t *m, error_t err);







static inline void */*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InfraredChannelServerP__processRequest__postTask(void );
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
static void InfraredChannelServerP__InfraredChannel__setLowSensitivity(bool isLowSensitivity);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelServerP.nc"
enum InfraredChannelServerP____nesc_unnamed4522 {
#line 53
  InfraredChannelServerP__processRequest = 80U
};
#line 53
typedef int InfraredChannelServerP____nesc_sillytask_processRequest[InfraredChannelServerP__processRequest];
#line 48
message_t InfraredChannelServerP__pkt;
bool InfraredChannelServerP__lowSensitivity;
bool InfraredChannelServerP__busy = FALSE;





static inline message_t *InfraredChannelServerP__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);





static inline void InfraredChannelServerP__SendReply__sendDone(message_t *msg, error_t error);









static inline void InfraredChannelServerP__processRequest__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t DebugLedsServerP__processRequest__postTask(void );
# 102 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/DebugLeds.nc"
static void DebugLedsServerP__Leds__set(uint8_t val);
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/DebugLedsServerP.nc"
enum DebugLedsServerP____nesc_unnamed4523 {
#line 53
  DebugLedsServerP__processRequest = 81U
};
#line 53
typedef int DebugLedsServerP____nesc_sillytask_processRequest[DebugLedsServerP__processRequest];
enum DebugLedsServerP____nesc_unnamed4524 {
#line 54
  DebugLedsServerP__sendReply = 82U
};
#line 54
typedef int DebugLedsServerP____nesc_sillytask_sendReply[DebugLedsServerP__sendReply];
#line 49
uint8_t DebugLedsServerP__leds;






static inline message_t *DebugLedsServerP__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);





static inline void DebugLedsServerP__SendReply__sendDone(message_t *msg, error_t error);


static inline void DebugLedsServerP__processRequest__runTask(void );



static inline void DebugLedsServerP__sendReply__runTask(void );
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__get(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__read(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__getPayload(
#line 111
message_t * msg, 


uint8_t len);
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
enum /*ZaxisServerC.server*/RpcRead16ServerP__1____nesc_unnamed4525 {
#line 50
  RpcRead16ServerP__1__processRequest = 83U
};
#line 50
typedef int /*ZaxisServerC.server*/RpcRead16ServerP__1____nesc_sillytask_processRequest[/*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest];
enum /*ZaxisServerC.server*/RpcRead16ServerP__1____nesc_unnamed4526 {
#line 51
  RpcRead16ServerP__1__sendReply = 84U
};
#line 51
typedef int /*ZaxisServerC.server*/RpcRead16ServerP__1____nesc_sillytask_sendReply[/*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply];
#line 43
message_t /*ZaxisServerC.server*/RpcRead16ServerP__1__pkt;
error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__result;
uint16_t /*ZaxisServerC.server*/RpcRead16ServerP__1__value;
bool /*ZaxisServerC.server*/RpcRead16ServerP__1__busy = FALSE;
bool /*ZaxisServerC.server*/RpcRead16ServerP__1__readDonePending;





static inline message_t */*ZaxisServerC.server*/RpcRead16ServerP__1__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len);




static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__sendDone(message_t *msg, error_t error);









static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__readDone(error_t res, uint16_t val);










static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__runTask(void );




static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 114
static 
#line 112
void * 

/*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__getPayload(
#line 111
message_t * msg, 


uint8_t len);
#line 89
static void /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__send(message_t *msg, uint8_t len);







static inline void /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__sendDone(message_t *m, error_t err);







static inline void */*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__getPayload(message_t *m, uint8_t len);



static inline uint8_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__get(void );
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void RpcInfoInitP__Boot__booted(void );
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t RpcInfoInitP__signalBooted__postTask(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t RpcInfoInitP__initDegrees__read(void );
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void RpcInfoInitP__noResponseTimer__startOneShot(uint32_t dt);




static void RpcInfoInitP__noResponseTimer__stop(void );
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/RpcInfoInitP.nc"
enum RpcInfoInitP____nesc_unnamed4527 {
#line 56
  RpcInfoInitP__signalBooted = 85U
};
#line 56
typedef int RpcInfoInitP____nesc_sillytask_signalBooted[RpcInfoInitP__signalBooted];
#line 54
bool RpcInfoInitP__alreadyBooted = FALSE;

static inline void RpcInfoInitP__signalBooted__runTask(void );



static inline void RpcInfoInitP__SubBoot__booted(void );




static inline void RpcInfoInitP__noResponseTimer__fired(void );








static inline void RpcInfoInitP__initDegrees__readDone(error_t err, uint16_t val);
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
static void RandomInitP__Boot__booted(void );
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ParameterInit.nc"
static error_t RandomInitP__SeedInit__init(RandomInitP__SeedInit__parameter param);
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
static am_addr_t RandomInitP__ActiveMessageAddress__amAddress(void );
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t RandomInitP__readXacc__read(void );
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/RandomInitP.nc"
uint16_t RandomInitP__seed;

static inline void RandomInitP__SubBoot__booted(void );




static inline void RandomInitP__readXacc__readDone(error_t result, uint16_t val);
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
static uint8_t AtronTosApiC__InfraredPacket__getConnector(message_t *msg);








static void AtronTosApiC__InfraredPacket__setConnector(message_t *msg, uint8_t conn);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static AtronTosApiC__getModuleIdOnFlash__val_t AtronTosApiC__getModuleIdOnFlash__get(void );
# 118 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
static error_t AtronTosApiC__CentralJoint__rotateToDegrees(uint16_t degrees, uint8_t speed, bool dir);
#line 131
static error_t AtronTosApiC__CentralJoint__rotateToDegreesShortestPath(uint16_t degrees, uint8_t speed);
#line 51
static error_t AtronTosApiC__CentralJoint__readDegrees(void );
#line 83
static void AtronTosApiC__CentralJoint__stop(bool lock);




static void AtronTosApiC__CentralJoint__rotate(uint8_t speed, bool dir);
# 115 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
static 
#line 112
void * 


AtronTosApiC__Packet__getPayload(
#line 110
message_t * msg, 




uint8_t len);
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/LocalTime.nc"
static uint32_t AtronTosApiC__LocalTime__get(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t AtronTosApiC__Connector__extend(
# 53 "AtronTosApiC.nc"
uint8_t arg_0x41329948);
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
static error_t AtronTosApiC__Connector__retract(
# 53 "AtronTosApiC.nc"
uint8_t arg_0x41329948);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t AtronTosApiC__Send__send(
#line 56
message_t * msg, 







uint8_t len);
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static error_t AtronTosApiC__Battery__read(void );
# 205 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
static uint8_t AtronTosApiC__Leds__get(void );
#line 221
static void AtronTosApiC__Leds__set(uint8_t val);
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void AtronTosApiC__Timer__startPeriodic(uint32_t dt);
# 76 "AtronTosApiC.nc"
static int AtronTosApiC__connectorState[8];
static uint8_t AtronTosApiC__readDegreesDoneFlag = 1;
static uint16_t AtronTosApiC__atronApi_degrees;
static uint16_t AtronTosApiC__batteryLevel;
#line 95
static inline void AtronTosApiC__Battery__readDone(error_t error, uint16_t val);




void setStartState(module_state_t state)   ;






void callMe(void )   ;


void atronApi_setup(void )   ;



void atronApi_yield(void )   ;



int atronApi_getLeds(void )   ;



void atronApi_setLeds(int val)   ;



long atronApi_getMsTime(void )   ;



int atronApi_getBatteryLevel(void )   ;





float atronApi_getTime(void )   ;




static uint8_t AtronTosApiC__channel2bitpattern(uint8_t channel);
#line 153
static uint8_t AtronTosApiC__bitpattern2channel(uint8_t bitpattern);
#line 167
message_t AtronTosApiC__pkt;
bool AtronTosApiC__busy = FALSE;
static int AtronTosApiC__atronApi_sendMsg(char *message, char messageSize, char connector);
#line 189
int atronApi_sendMessage(char *message, char messageSize, char connector)   ;




int atronApi_sendMessageToAll(char *message, char messageSize)   ;



int atronApi_sendMessageToAllExcept(char *message, char messageSize, char except)   ;




int atronApi_isOtherConnectorNearby(int channel)   ;









void atronApi_ussrSetup(int portRC, int portEvent, char *host, void (*msgHandler)(char *arg_0x41386598, char arg_0x413866f0, char arg_0x41386848))   ;

char *atronApi_getName(char *returnString)   ;

long atronApi_getRandomSeed(void )   ;



uint8_t AtronTosApiC__isRotatingFlag = 0;
int atronApi_isRotating(void )   ;



int atronApi_getJointPosition(void )   ;
void atronApi_rotate(int dir)   ;



void atronApi_rotateDegrees(int degrees)   ;



static int AtronTosApiC__atronApi_getDistanceToFromDir(int to, int from, bool dir);
#line 253
void atronApi_rotateToDegreeInDegrees(int degrees)   ;
#line 273
void atronApi_rotateToViaInDegrees(int goalDegree, int viaDegree)   ;
#line 287
void atronApi_rotateDirToInDegrees(int to, int dir)   ;





void atronApi_rotateToDegree(float rad)   ;


float atronApi_getAngularPosition(void )   ;


void atronApi_home(void )   ;



static inline void AtronTosApiC__CentralJoint__rotationCompleted(error_t error, uint16_t degrees, bool dir);



int atronApi_getAngularPositionDegrees(void )   ;





static inline void AtronTosApiC__CentralJoint__readDegreesDone(error_t error, uint16_t deg);




void atronApi_rotateContinuous(float dir)   ;





void atronApi_centerBrake(void )   ;



void atronApi_centerStop(void )   ;





void atronApi_disconnectAll(void )   ;





void atronApi_connectAll(void )   ;





int atronApi_canConnect(int i)   ;



int atronApi_canDisconnect(int i)   ;



int atronApi_isMale(int i)   ;



void atronApi_connect(int i)   ;




void atronApi_disconnect(int i)   ;




int atronApi_isConnected(int i)   ;


int atronApi_isDisconnected(int i)   ;


int atronApi_getHardwareID(void )   ;




static inline void AtronTosApiC__Connector__extendDone(uint8_t connector, error_t error);




static inline void AtronTosApiC__Connector__retractDone(uint8_t connector, error_t error);







int atronApi_isObjectNearby(int connector)   ;
short atronApi_getTiltX(void )   ;
short atronApi_getTiltY(void )   ;
short atronApi_getTiltZ(void )   ;
void atronApi_delay(long ms)   ;

static inline message_t *AtronTosApiC__Receive__receive(message_t *msg, void *payload, uint8_t len);





static inline message_t *AtronTosApiC__SerialReceive__receive(message_t *msg, void *payload, uint8_t len);




static inline void AtronTosApiC__Send__sendDone(message_t *msg, error_t error);









static inline void AtronTosApiC__Timer__fired(void );
# 221 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
static void StartATRONC__Leds__set(uint8_t val);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t StartATRONC__ASEControl__postTask(void );
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void StartATRONC__Timer__startOneShot(uint32_t dt);
# 53 "StartATRONC.nc"
enum StartATRONC____nesc_unnamed4528 {
#line 53
  StartATRONC__ASEControl = 86U
};
#line 53
typedef int StartATRONC____nesc_sillytask_ASEControl[StartATRONC__ASEControl];
#line 53
static inline void StartATRONC__ASEControl__runTask(void );





bool StartATRONC__init;
static inline void StartATRONC__Boot__booted(void );






static void StartATRONC__startControl(void );









static inline void StartATRONC__Read__readDone(error_t err, module_state_t state);




static inline void StartATRONC__Timer__fired(void );
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/battery/BatteryVoltageP.nc"
static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getChannel(void );





static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getRefVoltage(void );





static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getPrescaler(void );
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void InitModuleStateP__readState__readDone(error_t result, InitModuleStateP__readState__val_t val);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InitModuleStateP__signalReadDone__postTask(void );
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitModuleStateP.nc"
enum InitModuleStateP____nesc_unnamed4529 {
#line 48
  InitModuleStateP__signalReadDone = 87U
};
#line 48
typedef int InitModuleStateP____nesc_sillytask_signalReadDone[InitModuleStateP__signalReadDone];
#line 45
module_state_t InitModuleStateP__state;
uint8_t InitModuleStateP__barrier;

static inline void InitModuleStateP__signalReadDone__runTask(void );









static inline void InitModuleStateP__readNorth__readDone(error_t err, north_hemi_state_t val);
#line 70
static inline void InitModuleStateP__readSouth__readDone(error_t err, south_hemi_state_t val);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void InitSouthStateP__readSouthHemiState__readDone(error_t result, InitSouthStateP__readSouthHemiState__val_t val);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t InitSouthStateP__signalReadDone__postTask(void );
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitSouthStateP.nc"
enum InitSouthStateP____nesc_unnamed4530 {
#line 48
  InitSouthStateP__signalReadDone = 88U
};
#line 48
typedef int InitSouthStateP____nesc_sillytask_signalReadDone[InitSouthStateP__signalReadDone];
#line 45
south_hemi_state_t InitSouthStateP__state;
uint8_t InitSouthStateP__barrier;

static inline void InitSouthStateP__signalReadDone__runTask(void );
#line 62
static inline void InitSouthStateP__readThisHemiConn1State__readDone(error_t err, uint8_t connState);






static inline void InitSouthStateP__readThisHemiConn2State__readDone(error_t err, uint8_t connState);
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
static void /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__readDone(error_t result, /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__val_t val);
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__send(
#line 56
message_t * msg, 







uint8_t len);
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__postTask(void );
#line 56
static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__postTask(void );
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcReadClientP.nc"
enum /*InitNorthStateClientC.client*/RpcReadClientP__0____nesc_unnamed4531 {
#line 58
  RpcReadClientP__0__sendRequest = 89U
};
#line 58
typedef int /*InitNorthStateClientC.client*/RpcReadClientP__0____nesc_sillytask_sendRequest[/*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest];
enum /*InitNorthStateClientC.client*/RpcReadClientP__0____nesc_unnamed4532 {
#line 59
  RpcReadClientP__0__signalReadDone = 90U
};
#line 59
typedef int /*InitNorthStateClientC.client*/RpcReadClientP__0____nesc_sillytask_signalReadDone[/*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone];
#line 47
message_t /*InitNorthStateClientC.client*/RpcReadClientP__0__pkt;
error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__result;
/*InitNorthStateClientC.client*/RpcReadClientP__0__type_t /*InitNorthStateClientC.client*/RpcReadClientP__0__value;
bool /*InitNorthStateClientC.client*/RpcReadClientP__0__busy = FALSE;




#line 52
typedef struct /*InitNorthStateClientC.client*/RpcReadClientP__0__RpcReplyRead {
  uint8_t result;
  /*InitNorthStateClientC.client*/RpcReadClientP__0__type_t value;
} /*InitNorthStateClientC.client*/RpcReadClientP__0__RpcReplyRead;
#line 67
static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__sendDone(message_t *msg, error_t error);









static inline message_t */*InitNorthStateClientC.client*/RpcReadClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len);








static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__runTask(void );
#line 98
static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__runTask(void );
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static error_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__send(
#line 56
message_t * msg, 







uint8_t len);
#line 89
static void /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__sendDone(
#line 85
message_t * msg, 



error_t error);
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__send(message_t *msg, uint8_t len);







static inline void /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__sendDone(message_t *m, error_t err);
#line 88
static inline uint8_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__get(void );
# 86 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/atm128hardware.h>
static __inline  void __nesc_disable_interrupt()
#line 86
{
   __asm volatile ("cli");}

#line 103
#line 102
__inline   __nesc_atomic_t 
__nesc_atomic_start(void )
{
  __nesc_atomic_t result = * (volatile uint8_t *)(0x3F + 0x20);

#line 106
  __nesc_disable_interrupt();
   __asm volatile ("" :  :  : "memory");
  return result;
}



#line 112
__inline   void 
__nesc_atomic_end(__nesc_atomic_t original_SREG)
{
   __asm volatile ("" :  :  : "memory");
  * (volatile uint8_t *)(0x3F + 0x20) = original_SREG;
}

# 240 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static inline void SchedulerBlockingP__Scheduler__init(void )
{
  /* atomic removed: atomic calls only */
  {

    uint8_t i;

#line 246
    for (i = 0; i < SchedulerBlockingP__NUM_BLOCKING_TASKS; i++) {
        SchedulerBlockingP__b_state[i].lc = (void *)0;
        SchedulerBlockingP__b_state[i].state = TASK_INITIALIZED;
      }
    memset((void *)SchedulerBlockingP__b_next, SchedulerBlockingP__NO_TASK, sizeof SchedulerBlockingP__b_next);
    SchedulerBlockingP__b_head = SchedulerBlockingP__NO_TASK;
    SchedulerBlockingP__b_tail = SchedulerBlockingP__NO_TASK;

    memset((void *)SchedulerBlockingP__m_next, SchedulerBlockingP__NO_TASK, sizeof SchedulerBlockingP__m_next);
    SchedulerBlockingP__m_head = SchedulerBlockingP__NO_TASK;
    SchedulerBlockingP__m_tail = SchedulerBlockingP__NO_TASK;
  }
}

# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/Scheduler.nc"
inline static void RealMainP__Scheduler__init(void ){
#line 46
  SchedulerBlockingP__Scheduler__init();
#line 46
}
#line 46
# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/types/TinyError.h>
static inline  error_t ecombine(error_t r1, error_t r2)




{
  return r1 == r2 ? r1 : FAIL;
}

# 102 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__TimerCtrl__setControl(Atm128TimerControl_t x)
#line 102
{
  * (volatile uint8_t *)(0x33 + 0x20) = x.flat;
}

#line 92
static inline Atm128TimerControl_t HplAtm128Timer0C__TimerCtrl__getControl(void )
#line 92
{
  return * (Atm128TimerControl_t *)& * (volatile uint8_t *)(0x33 + 0x20);
}

#line 85
static inline void HplAtm128Timer0C__Timer__setScale(uint8_t s)
#line 85
{
  Atm128TimerControl_t x = HplAtm128Timer0C__TimerCtrl__getControl();

#line 87
  x.bits.cs = s;
  HplAtm128Timer0C__TimerCtrl__setControl(x);
}

# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__setScale(uint8_t scale){
#line 95
  HplAtm128Timer0C__Timer__setScale(scale);
#line 95
}
#line 95
# 132 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Timer__start(void )
#line 132
{
#line 132
  * (volatile uint8_t *)(0x37 + 0x20) |= 1 << 0;
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__start(void ){
#line 69
  HplAtm128Timer0C__Timer__start();
#line 69
}
#line 69
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Timer__set(uint8_t t)
#line 76
{
#line 76
  * (volatile uint8_t *)(0x32 + 0x20) = t;
}

# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__set(/*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__timer_size t){
#line 58
  HplAtm128Timer0C__Timer__set(t);
#line 58
}
#line 58
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128TimerInitC.nc"
static inline error_t /*InitZeroP.InitZero*/Atm128TimerInitC__0__Init__init(void )
#line 42
{
  /* atomic removed: atomic calls only */
#line 43
  {
    /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__set(0);
    /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__start();
    /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__setScale(6);
  }
  return SUCCESS;
}

# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline uint16_t HplAtm128Timer1P__TimerCtrlCapture2int(Atm128TimerCtrlCapture_t x)
#line 81
{
#line 81
  union __nesc_unnamed4533 {
#line 81
    Atm128TimerCtrlCapture_t f;
#line 81
    uint16_t t;
  } 
#line 81
  c = { .f = x };

#line 81
  return c.t;
}





static inline void HplAtm128Timer1P__TimerCtrl__setCtrlCapture(Atm128_TCCR1B_t x)
#line 88
{
  * (volatile uint8_t *)(0x2E + 0x20) = HplAtm128Timer1P__TimerCtrlCapture2int(x);
}

#line 71
static inline Atm128TimerCtrlCapture_t HplAtm128Timer1P__TimerCtrl__getCtrlCapture(void )
#line 71
{
  return * (Atm128TimerCtrlCapture_t * )& * (volatile uint8_t *)(0x2E + 0x20);
}

#line 61
static inline void HplAtm128Timer1P__Timer__setScale(uint8_t s)
#line 61
{
  Atm128TimerCtrlCapture_t x = HplAtm128Timer1P__TimerCtrl__getCtrlCapture();

#line 63
  x.bits.cs = s;
  HplAtm128Timer1P__TimerCtrl__setCtrlCapture(x);
}

# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__setScale(uint8_t scale){
#line 95
  HplAtm128Timer1P__Timer__setScale(scale);
#line 95
}
#line 95
# 80 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline uint16_t HplAtm128Timer1P__TimerCtrlCompare2int(Atm128TimerCtrlCompare_t x)
#line 80
{
#line 80
  union __nesc_unnamed4534 {
#line 80
    Atm128TimerCtrlCompare_t f;
#line 80
    uint16_t t;
  } 
#line 80
  c = { .f = x };

#line 80
  return c.t;
}



static inline void HplAtm128Timer1P__TimerCtrl__setCtrlCompare(Atm128_TCCR1A_t x)
#line 85
{
  * (volatile uint8_t *)(0x2F + 0x20) = HplAtm128Timer1P__TimerCtrlCompare2int(x);
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
inline static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control){
#line 40
  HplAtm128Timer1P__TimerCtrl__setCtrlCompare(control);
#line 40
}
#line 40

inline static void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control){
#line 41
  HplAtm128Timer1P__TimerCtrl__setCtrlCapture(control);
#line 41
}
#line 41
# 68 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline Atm128TimerCtrlCompare_t HplAtm128Timer1P__TimerCtrl__getCtrlCompare(void )
#line 68
{
  return * (Atm128TimerCtrlCompare_t * )& * (volatile uint8_t *)(0x2F + 0x20);
}

# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
inline static Atm128TimerCtrlCompare_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCompare(void ){
#line 36
  union __nesc_unnamed4284 result;
#line 36

#line 36
  result = HplAtm128Timer1P__TimerCtrl__getCtrlCompare();
#line 36

#line 36
  return result;
#line 36
}
#line 36

inline static Atm128TimerCtrlCapture_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCapture(void ){
#line 37
  union __nesc_unnamed4287 result;
#line 37

#line 37
  result = HplAtm128Timer1P__TimerCtrl__getCtrlCapture();
#line 37

#line 37
  return result;
#line 37
}
#line 37
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline error_t /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Init__init(void )
#line 44
{
  /* atomic removed: atomic calls only */
#line 45
  {
    Atm128TimerCtrlCapture_t capture = /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCapture();
    Atm128TimerCtrlCompare_t compare = /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__getCtrlCompare();

#line 48
    capture.bits.wgm32 = (8 >> 2) & 0x3;
    compare.bits.wgm10 = 8 & 0x3;
    /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCapture(capture);
    /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__TimerCtrl__setCtrlCompare(compare);


    /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__setScale(1);
  }
  return SUCCESS;
}

# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline uint16_t HplAtm128Timer3P__TimerCtrlCapture2int(Atm128TimerCtrlCapture_t x)
#line 79
{
#line 79
  union __nesc_unnamed4535 {
#line 79
    Atm128TimerCtrlCapture_t f;
#line 79
    uint16_t t;
  } 
#line 79
  c = { .f = x };

#line 79
  return c.t;
}





static inline void HplAtm128Timer3P__TimerCtrl__setCtrlCapture(Atm128_TCCR3B_t x)
#line 86
{
  * (volatile uint8_t *)0x8A = HplAtm128Timer3P__TimerCtrlCapture2int(x);
}

#line 69
static inline Atm128TimerCtrlCapture_t HplAtm128Timer3P__TimerCtrl__getCtrlCapture(void )
#line 69
{
  return * (Atm128TimerCtrlCapture_t *)& * (volatile uint8_t *)0x8A;
}

#line 59
static inline void HplAtm128Timer3P__Timer__setScale(uint8_t s)
#line 59
{
  Atm128TimerCtrlCapture_t x = HplAtm128Timer3P__TimerCtrl__getCtrlCapture();

#line 61
  x.bits.cs = s;
  HplAtm128Timer3P__TimerCtrl__setCtrlCapture(x);
}

# 95 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__setScale(uint8_t scale){
#line 95
  HplAtm128Timer3P__Timer__setScale(scale);
#line 95
}
#line 95
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline uint16_t HplAtm128Timer3P__TimerCtrlCompare2int(Atm128TimerCtrlCompare_t x)
#line 78
{
#line 78
  union __nesc_unnamed4536 {
#line 78
    Atm128TimerCtrlCompare_t f;
#line 78
    uint16_t t;
  } 
#line 78
  c = { .f = x };

#line 78
  return c.t;
}



static inline void HplAtm128Timer3P__TimerCtrl__setCtrlCompare(Atm128_TCCR3A_t x)
#line 83
{
  * (volatile uint8_t *)0x8B = HplAtm128Timer3P__TimerCtrlCompare2int(x);
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
inline static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control){
#line 40
  HplAtm128Timer3P__TimerCtrl__setCtrlCompare(control);
#line 40
}
#line 40

inline static void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCapture(Atm128TimerCtrlCapture_t control){
#line 41
  HplAtm128Timer3P__TimerCtrl__setCtrlCapture(control);
#line 41
}
#line 41
# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline Atm128TimerCtrlCompare_t HplAtm128Timer3P__TimerCtrl__getCtrlCompare(void )
#line 66
{
  return * (Atm128TimerCtrlCompare_t *)& * (volatile uint8_t *)0x8B;
}

# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
inline static Atm128TimerCtrlCompare_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCompare(void ){
#line 36
  union __nesc_unnamed4284 result;
#line 36

#line 36
  result = HplAtm128Timer3P__TimerCtrl__getCtrlCompare();
#line 36

#line 36
  return result;
#line 36
}
#line 36

inline static Atm128TimerCtrlCapture_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCapture(void ){
#line 37
  union __nesc_unnamed4287 result;
#line 37

#line 37
  result = HplAtm128Timer3P__TimerCtrl__getCtrlCapture();
#line 37

#line 37
  return result;
#line 37
}
#line 37
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline error_t /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Init__init(void )
#line 44
{
  /* atomic removed: atomic calls only */
#line 45
  {
    Atm128TimerCtrlCapture_t capture = /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCapture();
    Atm128TimerCtrlCompare_t compare = /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__getCtrlCompare();

#line 48
    capture.bits.wgm32 = (4 >> 2) & 0x3;
    compare.bits.wgm10 = 4 & 0x3;
    /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCapture(capture);
    /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__TimerCtrl__setCtrlCompare(compare);


    /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__setScale(1);
  }
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline uint8_t HplAtm128AdcP__Adcsra2int(Atm128Adcsra_t x)
#line 51
{
#line 51
  union __nesc_unnamed4537 {
#line 51
    Atm128Adcsra_t f;
#line 51
    uint8_t t;
  } 
#line 51
  c = { .f = x };

#line 51
  return c.t;
}




static inline void HplAtm128AdcP__HplAtm128Adc__setAdcsra(Atm128Adcsra_t x)
#line 57
{
  * (volatile uint8_t *)(0x06 + 0x20) = HplAtm128AdcP__Adcsra2int(x);
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void Atm128AdcP__HplAtm128Adc__setAdcsra(Atm128Adcsra_t adcsra){
#line 60
  HplAtm128AdcP__HplAtm128Adc__setAdcsra(adcsra);
#line 60
}
#line 60
# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline error_t Atm128AdcP__Init__init(void )
#line 84
{
  /* atomic removed: atomic calls only */
  {
    Atm128Adcsra_t adcsr;

    adcsr.aden = ATM128_ADC_ENABLE_OFF;
    adcsr.adsc = ATM128_ADC_START_CONVERSION_OFF;
    adcsr.adfr = ATM128_ADC_FREE_RUNNING_OFF;
    adcsr.adif = ATM128_ADC_INT_FLAG_OFF;
    adcsr.adie = ATM128_ADC_INT_ENABLE_OFF;
    adcsr.adps = ATM128_ADC_PRESCALE_2;
    Atm128AdcP__HplAtm128Adc__setAdcsra(adcsr);
  }
  return SUCCESS;
}

# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__makeInput(void )
#line 50
{
#line 50
  * (volatile uint8_t * )58U &= ~(1 << 7);
}

# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch4Activity__makeInput(void ){
#line 33
  /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__makeInput();
#line 33
}
#line 33
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__makeInput(void )
#line 50
{
#line 50
  * (volatile uint8_t * )58U &= ~(1 << 6);
}

# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch3Activity__makeInput(void ){
#line 33
  /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__makeInput();
#line 33
}
#line 33
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__makeInput(void )
#line 50
{
#line 50
  * (volatile uint8_t * )58U &= ~(1 << 5);
}

# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch2Activity__makeInput(void ){
#line 33
  /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__makeInput();
#line 33
}
#line 33
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__makeInput(void )
#line 50
{
#line 50
  * (volatile uint8_t * )58U &= ~(1 << 4);
}

# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch1Activity__makeInput(void ){
#line 33
  /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__makeInput();
#line 33
}
#line 33
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
inline static void InfraredChannelP__powerPwm__start(uint16_t top, uint16_t steps_high){
#line 61
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(2, top, steps_high);
#line 61
}
#line 61
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )58U |= 1 << 3;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch4Enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )58U |= 1 << 2;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch3Enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )58U |= 1 << 1;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch2Enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )58U |= 1 << 0;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch1Enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__makeOutput();
#line 35
}
#line 35
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannelP.nc"
static inline error_t InfraredChannelP__Init__init(void )
#line 64
{


  InfraredChannelP__ch1Enable__makeOutput();
  InfraredChannelP__ch2Enable__makeOutput();
  InfraredChannelP__ch3Enable__makeOutput();
  InfraredChannelP__ch4Enable__makeOutput();





  InfraredChannelP__powerPwm__start(100, 70);


  InfraredChannelP__ch1Activity__makeInput();
  InfraredChannelP__ch2Activity__makeInput();
  InfraredChannelP__ch3Activity__makeInput();
  InfraredChannelP__ch4Activity__makeInput();

  InfraredChannelP__InfraredChannel__enable(0);



  return SUCCESS;
}

# 177 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__CompareA__set(uint16_t t)
#line 177
{
#line 177
  * (volatile uint16_t *)0x86 = t;
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void BitBangingImplP__Timer__set(BitBangingImplP__Timer__size_type t){
#line 45
  HplAtm128Timer3P__CompareA__set(t);
#line 45
}
#line 45
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )98U |= 1 << 6;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void BitBangingImplP__txPin__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__set();
#line 29
}
#line 29
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )98U |= 1 << 7;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void BitBangingImplP__rxPin__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__set();
#line 29
}
#line 29
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__makeInput(void )
#line 50
{
#line 50
  * (volatile uint8_t * )97U &= ~(1 << 7);
}

# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void BitBangingImplP__rxPin__makeInput(void ){
#line 33
  /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__makeInput();
#line 33
}
#line 33
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )97U |= 1 << 6;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void BitBangingImplP__txPin__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__makeOutput();
#line 35
}
#line 35
# 102 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static inline error_t BitBangingImplP__Init__init(void )
#line 102
{
  BitBangingImplP__txPin__makeOutput();
  BitBangingImplP__rxPin__makeInput();
  BitBangingImplP__rxPin__set();
  BitBangingImplP__txPin__set();
  BitBangingImplP__Timer__set(BITBANGING_TIMER_PERIOD);
  return SUCCESS;
}

# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/DisableJtagP.nc"
static inline error_t DisableJtagP__Init__init(void )
{
  /* atomic removed: atomic calls only */
#line 48
  {

    * (volatile uint8_t *)(0x34 + 0x20) |= 1 << 7;
    * (volatile uint8_t *)(0x34 + 0x20) |= 1 << 7;
  }
  return SUCCESS;
}

# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__clr(void )
#line 48
{
  /* atomic removed: atomic calls only */
#line 48
  * (volatile uint8_t * )101U &= ~(1 << 0);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led1__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__clr();
#line 30
}
#line 30
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__clr(void )
#line 48
{
  /* atomic removed: atomic calls only */
#line 48
  * (volatile uint8_t * )101U &= ~(1 << 1);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led0__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__clr();
#line 30
}
#line 30
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__makeOutput(void )
#line 53
{
  /* atomic removed: atomic calls only */
#line 53
  * (volatile uint8_t * )100U |= 1 << 0;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led1__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__makeOutput();
#line 35
}
#line 35
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__makeOutput(void )
#line 53
{
  /* atomic removed: atomic calls only */
#line 53
  * (volatile uint8_t * )100U |= 1 << 1;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led0__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/DebugLedsP.nc"
static inline error_t DebugLedsP__Init__init(void )
#line 52
{
  /* atomic removed: atomic calls only */
#line 53
  {
    DebugLedsP__Led0__makeOutput();
    DebugLedsP__Led1__makeOutput();
    DebugLedsP__Led0__clr();
    DebugLedsP__Led1__clr();
  }
  return SUCCESS;
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )56U |= 1 << 4;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__set();
#line 29
}
#line 29
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )55U |= 1 << 4;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )55U |= 1 << 3;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__makeOutput();
#line 35
}
#line 35
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Init__init(void )
#line 64
{
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__makeOutput();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__makeOutput();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__set();
  return SUCCESS;
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )35U |= 1 << 3;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__set();
#line 29
}
#line 29
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )34U |= 1 << 3;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__makeOutput();
#line 35
}
#line 35
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__makeOutput(void )
#line 53
{
  /* atomic removed: atomic calls only */
#line 53
  * (volatile uint8_t * )100U |= 1 << 4;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__makeOutput();
#line 35
}
#line 35
# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Init__init(void )
#line 64
{
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__makeOutput();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__makeOutput();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__set();
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
inline static error_t SubPlatformP__SubInit__init(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Init__init();
#line 51
  result = ecombine(result, /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Init__init());
#line 51
  result = ecombine(result, DebugLedsP__Init__init());
#line 51
  result = ecombine(result, DisableJtagP__Init__init());
#line 51
  result = ecombine(result, BitBangingImplP__Init__init());
#line 51
  result = ecombine(result, InfraredChannelP__Init__init());
#line 51
  result = ecombine(result, Atm128AdcP__Init__init());
#line 51
  result = ecombine(result, /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Init__init());
#line 51
  result = ecombine(result, /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Init__init());
#line 51
  result = ecombine(result, /*InitZeroP.InitZero*/Atm128TimerInitC__0__Init__init());
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/SubPlatformP.nc"
static inline error_t SubPlatformP__PlatformInit__init(void )
#line 54
{



  return SubPlatformP__SubInit__init();
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
inline static error_t PlatformP__SubInit__init(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = SubPlatformP__PlatformInit__init();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/PlatformP.nc"
static inline error_t PlatformP__Init__init(void )
{







  return PlatformP__SubInit__init();
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
inline static error_t RealMainP__PlatformInit__init(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = PlatformP__Init__init();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 36 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128TimerCtrl16.nc"
inline static Atm128TimerCtrlCompare_t /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__getCtrlCompare(void ){
#line 36
  union __nesc_unnamed4284 result;
#line 36

#line 36
  result = HplAtm128Timer1P__TimerCtrl__getCtrlCompare();
#line 36

#line 36
  return result;
#line 36
}
#line 36




inline static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__setCtrlCompare(Atm128TimerCtrlCompare_t control){
#line 40
  HplAtm128Timer1P__TimerCtrl__setCtrlCompare(control);
#line 40
}
#line 40
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )55U |= 1 << 7;
}

#line 52
static __inline void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )55U |= 1 << 6;
}

# 103 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__makeOutput(uint8_t id)
#line 103
{
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__makeOutput(channel_id_t arg_0x4088bd08){
#line 35
  switch (arg_0x4088bd08) {
#line 35
    case 1:
#line 35
      /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__makeOutput();
#line 35
      break;
#line 35
    case 2:
#line 35
      /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__makeOutput();
#line 35
      break;
#line 35
    default:
#line 35
      /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__makeOutput(arg_0x4088bd08);
#line 35
      break;
#line 35
    }
#line 35
}
#line 35
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )56U &= ~(1 << 7);
}

#line 47
static __inline void /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )56U &= ~(1 << 6);
}

# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__clr(uint8_t id)
#line 104
{
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__clr(channel_id_t arg_0x4088bd08){
#line 30
  switch (arg_0x4088bd08) {
#line 30
    case 1:
#line 30
      /*HplAtm128GeneralIOC.PortB.Bit6*/HplAtm128GeneralIOPinP__14__IO__clr();
#line 30
      break;
#line 30
    case 2:
#line 30
      /*HplAtm128GeneralIOC.PortB.Bit7*/HplAtm128GeneralIOPinP__15__IO__clr();
#line 30
      break;
#line 30
    default:
#line 30
      /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__default__clr(arg_0x4088bd08);
#line 30
      break;
#line 30
    }
#line 30
}
#line 30
# 191 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline void HplAtm128Timer1P__Capture__set(uint16_t t)
#line 191
{
#line 191
  * (volatile uint16_t *)(0x26 + 0x20) = t;
}

# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
inline static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__set(/*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__size_type t){
#line 44
  HplAtm128Timer1P__Capture__set(t);
#line 44
}
#line 44
# 185 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline void HplAtm128Timer1P__CompareC__set(uint16_t t)
#line 185
{
#line 185
  * (volatile uint16_t *)0x78 = t;
}

#line 184
static inline void HplAtm128Timer1P__CompareB__set(uint16_t t)
#line 184
{
#line 184
  * (volatile uint16_t *)(0x28 + 0x20) = t;
}

# 101 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__default__set(uint8_t id, uint16_t t)
#line 101
{
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__set(uint8_t arg_0x40885010, /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__size_type t){
#line 45
  switch (arg_0x40885010) {
#line 45
    case 1:
#line 45
      HplAtm128Timer1P__CompareB__set(t);
#line 45
      break;
#line 45
    case 2:
#line 45
      HplAtm128Timer1P__CompareC__set(t);
#line 45
      break;
#line 45
    default:
#line 45
      /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__default__set(arg_0x40885010, t);
#line 45
      break;
#line 45
    }
#line 45
}
#line 45
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__setHigh(channel_id_t channel, uint16_t steps_high)
{
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__set(channel, steps_high);
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )59U |= 1 << 0;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch1Enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__set();
#line 29
}
#line 29
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )59U &= ~(1 << 0);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch1Enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortA.Bit0*/HplAtm128GeneralIOPinP__0__IO__clr();
#line 30
}
#line 30
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )59U |= 1 << 1;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch2Enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__set();
#line 29
}
#line 29
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )59U &= ~(1 << 1);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch2Enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortA.Bit1*/HplAtm128GeneralIOPinP__1__IO__clr();
#line 30
}
#line 30
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )59U |= 1 << 2;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch3Enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__set();
#line 29
}
#line 29
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )59U &= ~(1 << 2);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch3Enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortA.Bit2*/HplAtm128GeneralIOPinP__2__IO__clr();
#line 30
}
#line 30
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )59U |= 1 << 3;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch4Enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__set();
#line 29
}
#line 29
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )59U &= ~(1 << 3);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void InfraredChannelP__ch4Enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortA.Bit3*/HplAtm128GeneralIOPinP__3__IO__clr();
#line 30
}
#line 30
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/Scheduler.nc"
inline static bool RealMainP__Scheduler__runNextTask(void ){
#line 54
  unsigned char result;
#line 54

#line 54
  result = SchedulerBlockingP__Scheduler__runNextTask();
#line 54

#line 54
  return result;
#line 54
}
#line 54
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*InitNorthStateClientC.rpcClient.sender*/RpcRequestSenderC__10__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 86 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcReadClientP.nc"
static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__runTask(void )
#line 86
{
  if (!/*InitNorthStateClientC.client*/RpcReadClientP__0__busy) {
      if (/*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__send(&/*InitNorthStateClientC.client*/RpcReadClientP__0__pkt, sizeof(RpcRequestRead )) == SUCCESS) {
        /*InitNorthStateClientC.client*/RpcReadClientP__0__busy = TRUE;
        }
      else {
#line 91
        /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__postTask();
        }
    }
  else {
    /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__postTask();
    }
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(/*RpcMessageC.RequestSender*/RS485DispatcherSenderC__0__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t RpcMessageP__RequestSubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 240 "/usr/lib/ncc/nesc_nx.h>
static __inline  uint8_t __nesc_hton_uint8(void * target, uint8_t value)
#line 240
{
  uint8_t *base = target;

#line 242
  base[0] = value;
  return value;
}

# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacketC.nc"
static inline rpc_header_t *RpcPacketC__getHeader(message_t *msg)
#line 44
{
  return (rpc_header_t *)(msg->data - sizeof(rpc_header_t ));
}






static inline void RpcPacketC__RpcPacket__setId(message_t *msg, rpc_id_t id)
#line 53
{
  rpc_header_t *header = RpcPacketC__getHeader(msg);

#line 55
  __nesc_hton_uint8(header->type.data, id);
}

# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacket.nc"
inline static void RpcMessageP__RpcPacket__setId(message_t *msg, rpc_id_t id){
#line 56
  RpcPacketC__RpcPacket__setId(msg, id);
#line 56
}
#line 56
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline error_t RpcMessageP__SendRequest__send(rpc_id_t id, message_t *msg, uint8_t len)
#line 74
{
  RpcMessageP__RpcPacket__setId(msg, id);
  return RpcMessageP__RequestSubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__send(uint8_t arg_0x40dafa70, message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = RpcMessageP__SendRequest__send(arg_0x40dafa70, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
inline static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__send(uint8_t arg_0x40c92c88, message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = RS485SerialDispatcherP__Send__send(arg_0x40c92c88, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485MessageP.nc"
static inline uint8_t SerialPacketInfoRS485MessageP__Info__offset(void )
#line 69
{
  return (uint8_t )(sizeof(message_header_t ) - sizeof(rs485_header_t ));
}

# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SerialPacketInfoInfraredMessageP.nc"
static inline uint8_t SerialPacketInfoInfraredMessageP__Info__offset(void )
#line 69
{
  return (uint8_t )(sizeof(message_header_t ) - sizeof(infrared_header_t ));
}

# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/SerialPacketInfoRpcMessageP.nc"
static inline uint8_t SerialPacketInfoRpcMessageP__Info__offset(void )
#line 69
{
  return (uint8_t )(sizeof(message_header_t ) - sizeof(rpc_header_t ));
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfoActiveMessageP.nc"
static inline uint8_t SerialPacketInfoActiveMessageP__Info__offset(void )
#line 40
{
  return (uint8_t )(sizeof(message_header_t ) - sizeof(serial_header_t ));
}

# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485AckP.nc"
static inline uint8_t SerialPacketInfoRS485AckP__Info__offset(void )
#line 69
{
  return (uint8_t )(sizeof(message_header_t ) - sizeof(rs485_ack_header_t ));
}

#line 72
static inline uint8_t SerialPacketInfoRS485AckP__Info__dataLinkLength(message_t *msg, uint8_t upperLen)
#line 72
{
  return upperLen + sizeof(rs485_ack_header_t );
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfoActiveMessageP.nc"
static inline uint8_t SerialPacketInfoActiveMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen)
#line 43
{
  return upperLen + sizeof(serial_header_t );
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/SerialPacketInfoRpcMessageP.nc"
static inline uint8_t SerialPacketInfoRpcMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen)
#line 72
{
  return upperLen + sizeof(rpc_header_t );
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SerialPacketInfoInfraredMessageP.nc"
static inline uint8_t SerialPacketInfoInfraredMessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen)
#line 72
{
  return upperLen + sizeof(infrared_header_t );
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485MessageP.nc"
static inline uint8_t SerialPacketInfoRS485MessageP__Info__dataLinkLength(message_t *msg, uint8_t upperLen)
#line 72
{
  return upperLen + sizeof(rs485_header_t );
}

# 431 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline uint8_t RS485SerialDispatcherP__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen)
#line 432
{
  return 0;
}

# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t RS485SerialDispatcherP__PacketInfo__dataLinkLength(uart_id_t arg_0x405eb160, message_t *msg, uint8_t upperLen){
#line 23
  unsigned char result;
#line 23

#line 23
  switch (arg_0x405eb160) {
#line 23
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 23
      result = SerialPacketInfoActiveMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RS485_ID:
#line 23
      result = SerialPacketInfoRS485MessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REPLY_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RS485_ACK_ID:
#line 23
      result = SerialPacketInfoRS485AckP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    default:
#line 23
      result = RS485SerialDispatcherP__PacketInfo__default__dataLinkLength(arg_0x405eb160, msg, upperLen);
#line 23
      break;
#line 23
    }
#line 23

#line 23
  return result;
#line 23
}
#line 23
# 122 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static inline bool SchedulerBlockingP__isWaiting(uint8_t id)
{
  return SchedulerBlockingP__m_next[id] != SchedulerBlockingP__NO_TASK || SchedulerBlockingP__m_tail == id;
}

static inline bool SchedulerBlockingP__pushTask(uint8_t id)
{
  if (!SchedulerBlockingP__isWaiting(id)) 
    {
      if (SchedulerBlockingP__m_head == SchedulerBlockingP__NO_TASK) 
        {
          SchedulerBlockingP__m_head = id;
          SchedulerBlockingP__m_tail = id;
        }
      else 
        {
          SchedulerBlockingP__m_next[SchedulerBlockingP__m_tail] = id;
          SchedulerBlockingP__m_tail = id;
        }
      return TRUE;
    }
  else 
    {
      return FALSE;
    }
}

# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline uint8_t /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__get(void )
#line 89
{
  return 7;
}

#line 89
static inline uint8_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__get(void )
#line 89
{
  return 8;
}

#line 89
static inline uint8_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__get(void )
#line 89
{
  return 5;
}

#line 89
static inline uint8_t /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__get(void )
#line 89
{
  return 6;
}

# 233 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline uint8_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__default__get(uint8_t client)
#line 233
{
  return 0;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
inline static /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__val_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__get(uint8_t arg_0x40c91898){
#line 55
  unsigned char result;
#line 55

#line 55
  switch (arg_0x40c91898) {
#line 55
    case /*RpcMessageC.RequestSender*/RS485DispatcherSenderC__0__CLIENT_ID:
#line 55
      result = /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__DispatcherId__get();
#line 55
      break;
#line 55
    case /*RpcMessageC.ReplySender*/RS485DispatcherSenderC__1__CLIENT_ID:
#line 55
      result = /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__DispatcherId__get();
#line 55
      break;
#line 55
    case /*InfraredClientC.SendFromOtherHemisphereC*/RS485DispatcherSenderC__2__CLIENT_ID:
#line 55
      result = /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__DispatcherId__get();
#line 55
      break;
#line 55
    case /*InfraredMessageC.ForwardToOtherHemisphereC*/RS485DispatcherSenderC__3__CLIENT_ID:
#line 55
      result = /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__DispatcherId__get();
#line 55
      break;
#line 55
    default:
#line 55
      result = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__default__get(arg_0x40c91898);
#line 55
      break;
#line 55
    }
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 88 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline uint8_t /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__get(void )
#line 88
{
  return 11;
}

#line 88
static inline uint8_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__get(void )
#line 88
{
  return 13;
}

#line 88
static inline uint8_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__get(void )
#line 88
{
  return 8;
}

#line 88
static inline uint8_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__get(void )
#line 88
{
  return 7;
}

#line 88
static inline uint8_t /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__get(void )
#line 88
{
  return 16;
}

#line 88
static inline uint8_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__get(void )
#line 88
{
  return 9;
}

#line 88
static inline uint8_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__get(void )
#line 88
{
  return 6;
}

#line 88
static inline uint8_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__get(void )
#line 88
{
  return 3;
}

#line 88
static inline uint8_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__get(void )
#line 88
{
  return 2;
}

#line 88
static inline uint8_t /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__get(void )
#line 88
{
  return 15;
}

#line 88
static inline uint8_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__get(void )
#line 88
{
  return 1;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InitModuleStateP__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InitModuleStateP__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitModuleStateP.nc"
static inline void InitModuleStateP__readNorth__readDone(error_t err, north_hemi_state_t val)
#line 58
{
  InitModuleStateP__state.connector[0] = val.connector[0];
  InitModuleStateP__state.connector[1] = val.connector[1];
  InitModuleStateP__state.connector[2] = val.connector[2];
  InitModuleStateP__state.connector[3] = val.connector[3];
  InitModuleStateP__state.degrees = val.degrees;

  InitModuleStateP__barrier++;
  if (InitModuleStateP__barrier == 2) {
    InitModuleStateP__signalReadDone__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__readDone(error_t result, /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__val_t val){
#line 63
  InitModuleStateP__readNorth__readDone(result, val);
#line 63
}
#line 63
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcReadClientP.nc"
static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__runTask(void )
#line 98
{
  /*InitNorthStateClientC.client*/RpcReadClientP__0__Read__readDone(/*InitNorthStateClientC.client*/RpcReadClientP__0__result, /*InitNorthStateClientC.client*/RpcReadClientP__0__value);
}

# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitModuleStateP.nc"
static inline void InitModuleStateP__readSouth__readDone(error_t err, south_hemi_state_t val)
#line 70
{
  InitModuleStateP__state.connector[4] = val.connector[0];
  InitModuleStateP__state.connector[5] = val.connector[1];
  InitModuleStateP__state.connector[6] = val.connector[2];
  InitModuleStateP__state.connector[7] = val.connector[3];

  InitModuleStateP__barrier++;
  if (InitModuleStateP__barrier == 2) {
    InitModuleStateP__signalReadDone__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void InitSouthStateP__readSouthHemiState__readDone(error_t result, InitSouthStateP__readSouthHemiState__val_t val){
#line 63
  InitModuleStateP__readSouth__readDone(result, val);
#line 63
}
#line 63
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitSouthStateP.nc"
static inline void InitSouthStateP__signalReadDone__runTask(void )
#line 48
{
  InitSouthStateP__readSouthHemiState__readDone(SUCCESS, InitSouthStateP__state);
}

# 77 "StartATRONC.nc"
static inline void StartATRONC__Read__readDone(error_t err, module_state_t state)
#line 77
{
  setStartState(state);
  StartATRONC__startControl();
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void InitModuleStateP__readState__readDone(error_t result, InitModuleStateP__readState__val_t val){
#line 63
  StartATRONC__Read__readDone(result, val);
#line 63
}
#line 63
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitModuleStateP.nc"
static inline void InitModuleStateP__signalReadDone__runTask(void )
#line 48
{
  InitModuleStateP__readState__readDone(SUCCESS, InitModuleStateP__state);
}

# 158 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static inline /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getNow(void )
{
  return /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get();
}

# 98 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getNow(void ){
#line 98
  unsigned long result;
#line 98

#line 98
  result = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getNow();
#line 98

#line 98
  return result;
#line 98
}
#line 98
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
static inline uint32_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__getNow(void )
{
#line 86
  return /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getNow();
}

# 125 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static uint32_t /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow(void ){
#line 125
  unsigned long result;
#line 125

#line 125
  result = /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__getNow();
#line 125

#line 125
  return result;
#line 125
}
#line 125
# 143 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(uint8_t num, uint32_t dt)
{
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__startTimer(num, /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow(), dt, FALSE);
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void AtronTosApiC__Timer__startPeriodic(uint32_t dt){
#line 53
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(28U, dt);
#line 53
}
#line 53
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline uint8_t HplAtm128Timer0C__Timer__get(void )
#line 73
{
#line 73
  return * (volatile uint8_t *)(0x32 + 0x20);
}

# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__get(void ){
#line 52
  unsigned char result;
#line 52

#line 52
  result = HplAtm128Timer0C__Timer__get();
#line 52

#line 52
  return result;
#line 52
}
#line 52
# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128CounterC.nc"
static inline /*CounterZero8C.NCounter*/Atm128CounterC__0__timer_size /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__get(void )
{
  return /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__get();
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
inline static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__get(void ){
#line 53
  unsigned char result;
#line 53

#line 53
  result = /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__get();
#line 53

#line 53
  return result;
#line 53
}
#line 53
# 119 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline Atm128_TIFR_t HplAtm128Timer0C__TimerCtrl__getInterruptFlag(void )
#line 119
{
  return * (Atm128_TIFR_t *)& * (volatile uint8_t *)(0x36 + 0x20);
}

#line 134
static inline bool HplAtm128Timer0C__Timer__test(void )
#line 134
{
  return HplAtm128Timer0C__TimerCtrl__getInterruptFlag().bits.tov0;
}

# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static bool /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__test(void ){
#line 78
  unsigned char result;
#line 78

#line 78
  result = HplAtm128Timer0C__Timer__test();
#line 78

#line 78
  return result;
#line 78
}
#line 78
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128CounterC.nc"
static inline bool /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__isOverflowPending(void )
{
  return /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__test();
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
inline static bool /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__isOverflowPending(void ){
#line 60
  unsigned char result;
#line 60

#line 60
  result = /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__isOverflowPending();
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t StartATRONC__ASEControl__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(StartATRONC__ASEControl);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void StartATRONC__Timer__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(29U, dt);
#line 62
}
#line 62
# 53 "StartATRONC.nc"
static inline void StartATRONC__ASEControl__runTask(void )
#line 53
{
  ase_act();
  printfflush();

  StartATRONC__Timer__startOneShot(10);
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/QueueC.nc"
static inline bool /*PrintfC.QueueC*/QueueC__0__Queue__empty(void )
#line 53
{
  return /*PrintfC.QueueC*/QueueC__0__size == 0;
}

# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
inline static bool PrintfP__Queue__empty(void ){
#line 50
  unsigned char result;
#line 50

#line 50
  result = /*PrintfC.QueueC*/QueueC__0__Queue__empty();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 115 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static void * PrintfP__Packet__getPayload(message_t * msg, uint8_t len){
#line 115
  void *result;
#line 115

#line 115
  result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__getPayload(msg, len);
#line 115

#line 115
  return result;
#line 115
}
#line 115
# 115 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__maxPayloadLength(void )
#line 115
{
  return 28;
}

# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/QueueC.nc"
static inline uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__size(void )
#line 57
{
  return /*PrintfC.QueueC*/QueueC__0__size;
}

# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
inline static uint8_t PrintfP__Queue__size(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*PrintfC.QueueC*/QueueC__0__Queue__size();
#line 58

#line 58
  return result;
#line 58
}
#line 58
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/QueueC.nc"
static inline void /*PrintfC.QueueC*/QueueC__0__printQueue(void )
#line 69
{
}

#line 65
static inline /*PrintfC.QueueC*/QueueC__0__queue_t /*PrintfC.QueueC*/QueueC__0__Queue__head(void )
#line 65
{
  return /*PrintfC.QueueC*/QueueC__0__queue[/*PrintfC.QueueC*/QueueC__0__head];
}

#line 85
static inline /*PrintfC.QueueC*/QueueC__0__queue_t /*PrintfC.QueueC*/QueueC__0__Queue__dequeue(void )
#line 85
{
  /*PrintfC.QueueC*/QueueC__0__queue_t t = /*PrintfC.QueueC*/QueueC__0__Queue__head();

#line 87
  ;
  if (!/*PrintfC.QueueC*/QueueC__0__Queue__empty()) {
      /*PrintfC.QueueC*/QueueC__0__head++;
      if (/*PrintfC.QueueC*/QueueC__0__head == 250) {
#line 90
        /*PrintfC.QueueC*/QueueC__0__head = 0;
        }
#line 91
      /*PrintfC.QueueC*/QueueC__0__size--;
      /*PrintfC.QueueC*/QueueC__0__printQueue();
    }
  return t;
}

# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
inline static PrintfP__Queue__t  PrintfP__Queue__dequeue(void ){
#line 81
  unsigned char result;
#line 81

#line 81
  result = /*PrintfC.QueueC*/QueueC__0__Queue__dequeue();
#line 81

#line 81
  return result;
#line 81
}
#line 81
# 269 "/usr/lib/ncc/nesc_nx.h>
static __inline  uint16_t __nesc_hton_uint16(void * target, uint16_t value)
#line 269
{
  uint8_t *base = target;

#line 271
  base[1] = value;
  base[0] = value >> 8;
  return value;
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline serial_header_t * /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(message_t * msg)
#line 49
{
  return (serial_header_t * )((uint8_t *)msg + (unsigned short )& ((message_t *)0)->data - sizeof(serial_header_t ));
}

#line 142
static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setDestination(message_t *amsg, am_addr_t addr)
#line 142
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(amsg);

#line 144
  __nesc_hton_uint16(header->dest.data, addr);
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setDestination(message_t * amsg, am_addr_t addr){
#line 92
  /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setDestination(amsg, addr);
#line 92
}
#line 92
# 161 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setType(message_t *amsg, am_id_t type)
#line 161
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(amsg);

#line 163
  __nesc_hton_uint8(header->type.data, type);
}

# 151 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setType(message_t * amsg, am_id_t t){
#line 151
  /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__setType(amsg, t);
#line 151
}
#line 151
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__send(am_id_t arg_0x40cee908, am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__send(arg_0x40cee908, addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static am_addr_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__destination(message_t * amsg){
#line 67
  unsigned short result;
#line 67

#line 67
  result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__destination(amsg);
#line 67

#line 67
  return result;
#line 67
}
#line 67
#line 136
inline static am_id_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__type(message_t * amsg){
#line 136
  unsigned char result;
#line 136

#line 136
  result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(amsg);
#line 136

#line 136
  return result;
#line 136
}
#line 136
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__setPayloadLength(message_t *msg, uint8_t len)
#line 111
{
  __nesc_hton_uint8(/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(msg)->length.data, len);
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__setPayloadLength(message_t * msg, uint8_t len){
#line 83
  /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__setPayloadLength(msg, len);
#line 83
}
#line 83
# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 83
{
  if (clientId >= 1) {
      return FAIL;
    }
  if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[clientId].msg = msg;
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__setPayloadLength(msg, len);

  if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current >= 1) {
      error_t err;
      am_id_t amId = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__type(msg);
      am_addr_t dest = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__destination(msg);

      ;
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = clientId;

      err = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__send(amId, dest, msg, len);
      if (err != SUCCESS) {
          ;
          /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = 1;
          /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[clientId].msg = (void *)0;
        }

      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__send(0U, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline uint8_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__get(void )
#line 89
{
  return 0;
}

# 233 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline uint8_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__default__get(uint8_t client)
#line 233
{
  return 0;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
inline static /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__val_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__get(uint8_t arg_0x40c91898){
#line 55
  unsigned char result;
#line 55

#line 55
  switch (arg_0x40c91898) {
#line 55
    case /*SerialActiveMessageC.sender*/SerialDispatcherSenderC__0__CLIENT_ID:
#line 55
      result = /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__DispatcherId__get();
#line 55
      break;
#line 55
    default:
#line 55
      result = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__default__get(arg_0x40c91898);
#line 55
      break;
#line 55
    }
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__send(uint8_t arg_0x40c92c88, message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__send(arg_0x40c92c88, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 111 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 112
{
  if (clientId >= 1) {
      return FAIL;
    }
  if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[clientId].msg = msg;
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[clientId].len = len;

  if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current >= 1) {
      error_t err;

#line 126
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = clientId;

      err = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__send(/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__get(clientId), msg, len);
      if (err != SUCCESS) {
          ;
          /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = 1;
          /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[clientId].msg = (void *)0;
        }
      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__send(/*SerialActiveMessageC.sender*/SerialDispatcherSenderC__0__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 361 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen)
#line 362
{
  return 0;
}

# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__dataLinkLength(uart_id_t arg_0x40b75e88, message_t *msg, uint8_t upperLen){
#line 23
  unsigned char result;
#line 23

#line 23
  switch (arg_0x40b75e88) {
#line 23
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 23
      result = SerialPacketInfoActiveMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RS485_ID:
#line 23
      result = SerialPacketInfoRS485MessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REPLY_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    default:
#line 23
      result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__dataLinkLength(arg_0x40b75e88, msg, upperLen);
#line 23
      break;
#line 23
    }
#line 23

#line 23
  return result;
#line 23
}
#line 23
# 523 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline error_t SerialP__SendBytePacket__startSend(uint8_t b)
#line 523
{
  bool not_busy = FALSE;

#line 525
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 525
    {
      if (SerialP__txBuf[SerialP__TX_DATA_INDEX].state == SerialP__BUFFER_AVAILABLE) {
          SerialP__txBuf[SerialP__TX_DATA_INDEX].state = SerialP__BUFFER_FILLING;
          SerialP__txBuf[SerialP__TX_DATA_INDEX].buf = b;
          not_busy = TRUE;
        }
    }
#line 531
    __nesc_atomic_end(__nesc_atomic); }
  if (not_busy) {
      SerialP__MaybeScheduleTx();
      return SUCCESS;
    }
  return EBUSY;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
inline static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__startSend(uint8_t first_byte){
#line 51
  unsigned char result;
#line 51

#line 51
  result = SerialP__SendBytePacket__startSend(first_byte);
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t SerialP__RunTx__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(SerialP__RunTx);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static inline error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(uint8_t client)
#line 31
{
  return /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__request(client);
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t RandomInitP__readXacc__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*XaxisRandomC.adcClient*/AdcReadClientC__4__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 107 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
static inline am_addr_t ActiveMessageAddressC__ActiveMessageAddress__amAddress(void )
#line 107
{
  return ActiveMessageAddressC__amAddress();
}

# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
inline static am_addr_t RandomInitP__ActiveMessageAddress__amAddress(void ){
#line 50
  unsigned short result;
#line 50

#line 50
  result = ActiveMessageAddressC__ActiveMessageAddress__amAddress();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/RandomInitP.nc"
static inline void RandomInitP__SubBoot__booted(void )
#line 52
{
  RandomInitP__seed = RandomInitP__ActiveMessageAddress__amAddress();
  RandomInitP__readXacc__read();
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void RpcInfoInitP__Boot__booted(void ){
#line 49
  RandomInitP__SubBoot__booted();
#line 49
}
#line 49
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/RpcInfoInitP.nc"
static inline void RpcInfoInitP__signalBooted__runTask(void )
#line 56
{
  RpcInfoInitP__Boot__booted();
}

# 200 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__default__requested(uint8_t id)
#line 200
{
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__requested(uint8_t arg_0x40a45da8){
#line 43
    /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__default__requested(arg_0x40a45da8);
#line 43
}
#line 43
# 87 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__enqueue(resource_client_id_t id)
#line 87
{
  /* atomic removed: atomic calls only */
#line 88
  {
    if (!/*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEnqueued(id)) {
        /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ[id / 8] |= 1 << id % 8;
        {
          unsigned char __nesc_temp = 
#line 91
          SUCCESS;

#line 91
          return __nesc_temp;
        }
      }
#line 93
    {
      unsigned char __nesc_temp = 
#line 93
      EBUSY;

#line 93
      return __nesc_temp;
    }
  }
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__enqueue(resource_client_id_t id){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__enqueue(id);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 129 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__release(void )
#line 129
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 130
    {
      if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId == /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__default_owner_id) {
          if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state == /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_GRANTING) {
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__postTask();
              {
                unsigned char __nesc_temp = 
#line 134
                SUCCESS;

                {
#line 134
                  __nesc_atomic_end(__nesc_atomic); 
#line 134
                  return __nesc_temp;
                }
              }
            }
          else {
#line 136
            if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state == /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_IMM_GRANTING) {
                /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__reqResId;
                /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_BUSY;
                {
                  unsigned char __nesc_temp = 
#line 139
                  SUCCESS;

                  {
#line 139
                    __nesc_atomic_end(__nesc_atomic); 
#line 139
                    return __nesc_temp;
                  }
                }
              }
            }
        }
    }
#line 145
    __nesc_atomic_end(__nesc_atomic); }
#line 143
  return FAIL;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__release(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__release();
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 144 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/McuSleepC.nc"
static inline void McuSleepC__McuPowerState__update(void )
#line 144
{
}

# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerState.nc"
inline static void HplAtm128AdcP__McuPowerState__update(void ){
#line 44
  McuSleepC__McuPowerState__update();
#line 44
}
#line 44
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline void HplAtm128AdcP__HplAtm128Adc__enableAdc(void )
#line 69
{
  * (volatile uint8_t *)(0x06 + 0x20) |= 1 << 7;
  HplAtm128AdcP__McuPowerState__update();
}

# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void Atm128AdcP__HplAtm128Adc__enableAdc(void ){
#line 73
  HplAtm128AdcP__HplAtm128Adc__enableAdc();
#line 73
}
#line 73
# 104 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline error_t Atm128AdcP__AsyncStdControl__start(void )
#line 104
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 105
    Atm128AdcP__HplAtm128Adc__enableAdc();
#line 105
    __nesc_atomic_end(__nesc_atomic); }
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AsyncStdControl.nc"
inline static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = Atm128AdcP__AsyncStdControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/AsyncPowerManagerP.nc"
static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__requested(void )
#line 59
{
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__start();
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__release();
}

# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__requested(void ){
#line 73
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__requested();
#line 73
}
#line 73
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*ZaxisC.adcClient*/AdcReadClientC__3__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 79 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__runTask(void )
#line 79
{
  if (/*ZaxisServerC.server*/RpcRead16ServerP__1__Read__read() == SUCCESS) {
    /*ZaxisServerC.server*/RpcRead16ServerP__1__readDonePending = TRUE;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*ZaxisServerC.rpcServer.sender*/RpcReplySenderC__7__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline uint8_t RpcMessageP__maxPayloadLength(void )
#line 61
{
  return 28;
}

static inline void *RpcMessageP__getPayload(message_t *msg, uint8_t len)
#line 65
{
  if (len > RpcMessageP__maxPayloadLength()) {
    return (void *)0;
    }
  else {
#line 69
    return msg->data;
    }
}

#line 106
static inline void *RpcMessageP__SendReply__getPayload(rpc_id_t id, message_t *msg, uint8_t len)
#line 106
{
  return RpcMessageP__getPayload(msg, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__getPayload(uint8_t arg_0x40dafa70, message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = RpcMessageP__SendReply__getPayload(arg_0x40dafa70, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 220 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void */*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(uint8_t id, message_t *m, uint8_t len)
#line 220
{
  return /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__getPayload(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__get(id), m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*ZaxisServerC.rpcServer.sender*/RpcReplySenderC__7__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__runTask(void )
#line 84
{
  if (!/*ZaxisServerC.server*/RpcRead16ServerP__1__busy) {
      RpcReplyRead16 *payload = /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__getPayload(&/*ZaxisServerC.server*/RpcRead16ServerP__1__pkt, sizeof(RpcReplyRead16 ));

#line 87
      __nesc_hton_uint8(payload->result.data, /*ZaxisServerC.server*/RpcRead16ServerP__1__result);
      __nesc_hton_uint16(payload->value.data, /*ZaxisServerC.server*/RpcRead16ServerP__1__value);
      if (/*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__send(&/*ZaxisServerC.server*/RpcRead16ServerP__1__pkt, sizeof(RpcReplyRead16 )) == SUCCESS) {
        /*ZaxisServerC.server*/RpcRead16ServerP__1__busy = TRUE;
        }
      else {
#line 92
        /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask();
        }
    }
  else {
    /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask();
    }
}

# 88 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline uint8_t /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__get(void )
#line 88
{
  return 8;
}

#line 88
static inline uint8_t /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__get(void )
#line 88
{
  return 14;
}

#line 88
static inline uint8_t /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__get(void )
#line 88
{
  return 13;
}

#line 88
static inline uint8_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__get(void )
#line 88
{
  return 10;
}

#line 88
static inline uint8_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__get(void )
#line 88
{
  return 7;
}

#line 88
static inline uint8_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__get(void )
#line 88
{
  return 3;
}

#line 88
static inline uint8_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__get(void )
#line 88
{
  return 2;
}

#line 88
static inline uint8_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__get(void )
#line 88
{
  return 15;
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__send(uint8_t arg_0x40dafa70, message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = RpcMessageP__SendReply__send(arg_0x40dafa70, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
inline static error_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(/*RpcMessageC.ReplySender*/RS485DispatcherSenderC__1__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t RpcMessageP__ReplySubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/DebugLedsServerP.nc"
static inline void DebugLedsServerP__sendReply__runTask(void )
#line 69
{
}

# 78 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/DebugLedsP.nc"
static inline void DebugLedsP__Leds__led1Off(void )
#line 78
{
  DebugLedsP__Led1__clr();
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__set(void )
#line 47
{
  /* atomic removed: atomic calls only */
#line 47
  * (volatile uint8_t * )101U |= 1 << 0;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led1__set(void ){
#line 29
  /*HplAtm128GeneralIOC.G0*/HplAtm128GeneralIOSlowPinP__8__IO__set();
#line 29
}
#line 29
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/DebugLedsP.nc"
static inline void DebugLedsP__Leds__led1On(void )
#line 74
{
  DebugLedsP__Led1__set();
}

#line 66
static inline void DebugLedsP__Leds__led0Off(void )
#line 66
{
  DebugLedsP__Led0__clr();
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__set(void )
#line 47
{
  /* atomic removed: atomic calls only */
#line 47
  * (volatile uint8_t * )101U |= 1 << 1;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void DebugLedsP__Led0__set(void ){
#line 29
  /*HplAtm128GeneralIOC.G1*/HplAtm128GeneralIOSlowPinP__9__IO__set();
#line 29
}
#line 29
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/DebugLedsP.nc"
static inline void DebugLedsP__Leds__led0On(void )
#line 62
{
  DebugLedsP__Led0__set();
}

#line 100
static inline void DebugLedsP__Leds__set(uint8_t val)
#line 100
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 101
    {
      if (val & LEDS_LED0) {
          DebugLedsP__Leds__led0On();
        }
      else {
          DebugLedsP__Leds__led0Off();
        }
      if (val & LEDS_LED1) {
          DebugLedsP__Leds__led1On();
        }
      else {
          DebugLedsP__Leds__led1Off();
        }
    }
#line 114
    __nesc_atomic_end(__nesc_atomic); }
}

# 102 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/DebugLeds.nc"
inline static void DebugLedsServerP__Leds__set(uint8_t val){
#line 102
  DebugLedsP__Leds__set(val);
#line 102
}
#line 102
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/DebugLedsServerP.nc"
static inline void DebugLedsServerP__processRequest__runTask(void )
#line 65
{
  DebugLedsServerP__Leds__set(DebugLedsServerP__leds);
}

# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannelP.nc"
static inline void InfraredChannelP__InfraredChannel__setLowSensitivity(bool isLowSensitivity)
#line 110
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 111
    InfraredChannelP__lowSensitivity = isLowSensitivity;
#line 111
    __nesc_atomic_end(__nesc_atomic); }
}

# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
inline static void InfraredChannelServerP__InfraredChannel__setLowSensitivity(bool isLowSensitivity){
#line 48
  InfraredChannelP__InfraredChannel__setLowSensitivity(isLowSensitivity);
#line 48
}
#line 48
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelServerP.nc"
static inline void InfraredChannelServerP__processRequest__runTask(void )
#line 72
{
  InfraredChannelServerP__InfraredChannel__setLowSensitivity(InfraredChannelServerP__lowSensitivity);
}

# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static error_t HemisphereProximitySensorP__Resource__request(void ){
#line 78
  unsigned char result;
#line 78

#line 78
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__request(HemisphereProximitySensorC__CLIENT_ID);
#line 78

#line 78
  return result;
#line 78
}
#line 78
# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline error_t HemisphereProximitySensorP__proximity__read(uint8_t chan)
#line 87
{
  if (HemisphereProximitySensorP__sensorBusy) {
    return EBUSY;
    }
#line 90
  HemisphereProximitySensorP__channelToSense = chan;
  if (HemisphereProximitySensorP__Resource__request() != SUCCESS) {
    return EBUSY;
    }
#line 93
  HemisphereProximitySensorP__sensorBusy = TRUE;
  return SUCCESS;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__read(uint8_t arg_0x412cab60){
#line 55
  unsigned char result;
#line 55

#line 55
  result = HemisphereProximitySensorP__proximity__read(arg_0x412cab60);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 83 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__runTask(void )
#line 83
{
  if (/*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__read(/*ProximityServerC.server*/RpcRead8ServerProximityP__0__channel) == SUCCESS) {
    /*ProximityServerC.server*/RpcRead8ServerProximityP__0__readDonePending = TRUE;
    }
}

# 200 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__default__requested(uint8_t id)
#line 200
{
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceRequested.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__requested(uint8_t arg_0x40a45da8){
#line 43
    /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__default__requested(arg_0x40a45da8);
#line 43
}
#line 43
# 87 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__enqueue(resource_client_id_t id)
#line 87
{
  /* atomic removed: atomic calls only */
#line 88
  {
    if (!/*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEnqueued(id)) {
        /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ[id / 8] |= 1 << id % 8;
        {
          unsigned char __nesc_temp = 
#line 91
          SUCCESS;

#line 91
          return __nesc_temp;
        }
      }
#line 93
    {
      unsigned char __nesc_temp = 
#line 93
      EBUSY;

#line 93
      return __nesc_temp;
    }
  }
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__enqueue(resource_client_id_t id){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__enqueue(id);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static error_t InfraredSerialP__ResourceDefaultOwner__release(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__release();
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 858 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__ResourceDefaultOwner__requested(void )
#line 858
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 859
    {
      if (InfraredSerialP__rxState == InfraredSerialP__RXSTATE_NOSYNC) {
          InfraredSerialP__ResourceDefaultOwner__release();
        }
      else {
        InfraredSerialP__resourceRequested = TRUE;
        }
    }
#line 866
    __nesc_atomic_end(__nesc_atomic); }
}

# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__requested(void ){
#line 73
  InfraredSerialP__ResourceDefaultOwner__requested();
#line 73
}
#line 73
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
inline static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*ProximityServerC.rpcServer.sender*/RpcReplySenderC__4__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*ProximityServerC.rpcServer.sender*/RpcReplySenderC__4__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 88 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__runTask(void )
#line 88
{
  if (!/*ProximityServerC.server*/RpcRead8ServerProximityP__0__busy) {
      RpcReplyRead8 *payload = /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__getPayload(&/*ProximityServerC.server*/RpcRead8ServerProximityP__0__pkt, sizeof(RpcReplyRead8 ));

#line 91
      __nesc_hton_uint8(payload->result.data, /*ProximityServerC.server*/RpcRead8ServerProximityP__0__result);
      __nesc_hton_uint8(payload->value.data, /*ProximityServerC.server*/RpcRead8ServerProximityP__0__value);
      if (/*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__send(&/*ProximityServerC.server*/RpcRead8ServerProximityP__0__pkt, sizeof(RpcReplyRead8 )) == SUCCESS) {
        /*ProximityServerC.server*/RpcRead8ServerProximityP__0__busy = TRUE;
        }
      else {
#line 96
        /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask();
        }
    }
  else {
    /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask();
    }
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/Atm128GpioInterruptC.nc"
static inline error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__enableFallingEdge(void )
#line 29
{
  return /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__enable(FALSE);
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
inline static error_t HemisphereProximitySensorP__RxInterrupt__enableFallingEdge(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__enableFallingEdge();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void HemisphereProximitySensorP__SampleTimer__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(26U, dt);
#line 62
}
#line 62
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
inline static void HemisphereProximitySensorP__proxPwm__start(uint16_t top, uint16_t steps_high){
#line 61
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(1, top, steps_high);
#line 61
}
#line 61
#line 75
inline static void HemisphereProximitySensorP__proxPwm__stop(void ){
#line 75
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__stop(1);
#line 75
}
#line 75
# 158 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline bool /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__isRunning(uint8_t num)
{
  return /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[num].isrunning;
}

# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static bool HemisphereProximitySensorP__SampleTimer__isRunning(void ){
#line 81
  unsigned char result;
#line 81

#line 81
  result = /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__isRunning(26U);
#line 81

#line 81
  return result;
#line 81
}
#line 81
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__lowerPwmHigh__runTask(void )
#line 73
{

  if (HemisphereProximitySensorP__SampleTimer__isRunning()) {
      if (HemisphereProximitySensorP__pwmHigh > 0) {
          HemisphereProximitySensorP__pwmHigh--;
          HemisphereProximitySensorP__ticks = 0;
          HemisphereProximitySensorP__proxPwm__stop();
          HemisphereProximitySensorP__proxPwm__start(800, HemisphereProximitySensorP__pwmHigh);
          HemisphereProximitySensorP__SampleTimer__startOneShot(8);
          HemisphereProximitySensorP__RxInterrupt__enableFallingEdge();
        }
    }
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__clear(void )
#line 41
{
#line 41
  * (volatile uint8_t *)(0x38 + 0x20) = 1 << 0;
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__clear(void ){
#line 45
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__clear();
#line 45
}
#line 45
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__edge(bool low_to_high)
#line 47
{
  * (volatile uint8_t * )106U |= 1 << 1;

  if (low_to_high) {
    * (volatile uint8_t * )106U |= 1 << 0;
    }
  else {
#line 53
    * (volatile uint8_t * )106U &= ~(1 << 0);
    }
}

# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__edge(bool low_to_high){
#line 59
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__edge(low_to_high);
#line 59
}
#line 59
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__enable(void )
#line 42
{
#line 42
  * (volatile uint8_t *)(0x39 + 0x20) |= 1 << 0;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__enable(void ){
#line 35
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__enable();
#line 35
}
#line 35
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__readDone(uint8_t chan, error_t res, uint8_t val)
#line 72
{

  if (/*ProximityServerC.server*/RpcRead8ServerProximityP__0__readDonePending) {
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__readDonePending = FALSE;
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__result = res;
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__value = val;
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void HemisphereProximitySensorP__proximity__readDone(uint8_t arg_0x412a2010, error_t result, HemisphereProximitySensorP__proximity__val_t val){
#line 63
  /*ProximityServerC.server*/RpcRead8ServerProximityP__0__Read__readDone(arg_0x412a2010, result, val);
#line 63
}
#line 63
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__signalReadDone__runTask(void )
#line 68
{
  HemisphereProximitySensorP__sensorBusy = FALSE;
  HemisphereProximitySensorP__proximity__readDone(HemisphereProximitySensorP__channelToSense, SUCCESS, HemisphereProximitySensorP__pwmHigh);
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__Read__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*XaxisC.adcClient*/AdcReadClientC__2__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 79 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__runTask(void )
#line 79
{
  if (/*XaxisServerC.server*/RpcRead16ServerP__0__Read__read() == SUCCESS) {
    /*XaxisServerC.server*/RpcRead16ServerP__0__readDonePending = TRUE;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*XaxisServerC.server*/RpcRead16ServerP__0__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*XaxisServerC.rpcServer.sender*/RpcReplySenderC__3__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*XaxisServerC.rpcServer.sender*/RpcReplySenderC__3__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__runTask(void )
#line 84
{
  if (!/*XaxisServerC.server*/RpcRead16ServerP__0__busy) {
      RpcReplyRead16 *payload = /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__getPayload(&/*XaxisServerC.server*/RpcRead16ServerP__0__pkt, sizeof(RpcReplyRead16 ));

#line 87
      __nesc_hton_uint8(payload->result.data, /*XaxisServerC.server*/RpcRead16ServerP__0__result);
      __nesc_hton_uint16(payload->value.data, /*XaxisServerC.server*/RpcRead16ServerP__0__value);
      if (/*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__send(&/*XaxisServerC.server*/RpcRead16ServerP__0__pkt, sizeof(RpcReplyRead16 )) == SUCCESS) {
        /*XaxisServerC.server*/RpcRead16ServerP__0__busy = TRUE;
        }
      else {
#line 92
        /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask();
        }
    }
  else {
    /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector2ServerC.server*/ConnectorServerP__1__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
#line 49
inline static error_t /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__runTask(void )
#line 89
{
  if (/*Connector2ServerC.server*/ConnectorServerP__1__connector == MALE_CONNECTOR_EXTENDING) {
      if (/*Connector2ServerC.server*/ConnectorServerP__1__Connector__extend() == EALREADY) {
          /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_EXTENDED;
          /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
        }
    }
  if (/*Connector2ServerC.server*/ConnectorServerP__1__connector == MALE_CONNECTOR_RETRACTING) {
      if (/*Connector2ServerC.server*/ConnectorServerP__1__Connector__retract() == EALREADY) {
          /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_RETRACTED;
          /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
        }
    }
}

# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__clr(void )
#line 48
{
#line 48
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 48
    * (volatile uint8_t * )101U &= ~(1 << 4);
#line 48
    __nesc_atomic_end(__nesc_atomic); }
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__clr();
#line 30
}
#line 30
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )35U &= ~(1 << 3);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortE.Bit3*/HplAtm128GeneralIOPinP__35__IO__clr();
#line 30
}
#line 30
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOSlowPinP.nc"
static __inline void /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__set(void )
#line 47
{
#line 47
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 47
    * (volatile uint8_t * )101U |= 1 << 4;
#line 47
    __nesc_atomic_end(__nesc_atomic); }
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__set(void ){
#line 29
  /*HplAtm128GeneralIOC.G4*/HplAtm128GeneralIOSlowPinP__12__IO__set();
#line 29
}
#line 29
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*Connector2ServerC.rpcServer.sender*/RpcReplySenderC__2__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*Connector2ServerC.rpcServer.sender*/RpcReplySenderC__2__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__runTask(void )
#line 104
{
  if (!/*Connector2ServerC.server*/ConnectorServerP__1__busy) {
      RpcReplyConnector *payload = /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__getPayload(&/*Connector2ServerC.server*/ConnectorServerP__1__pkt, sizeof(RpcReplyConnector ));

#line 107
      __nesc_hton_uint8(payload->connector.data, /*Connector2ServerC.server*/ConnectorServerP__1__connector);
      if (/*Connector2ServerC.server*/ConnectorServerP__1__SendReply__send(&/*Connector2ServerC.server*/ConnectorServerP__1__pkt, sizeof(RpcReplyConnector )) == SUCCESS) {
        /*Connector2ServerC.server*/ConnectorServerP__1__busy = TRUE;
        }
      else {
#line 111
        /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
        }
    }
  else {
    /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector1ServerC.server*/ConnectorServerP__0__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
#line 49
inline static error_t /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__runTask(void )
#line 89
{
  if (/*Connector1ServerC.server*/ConnectorServerP__0__connector == MALE_CONNECTOR_EXTENDING) {
      if (/*Connector1ServerC.server*/ConnectorServerP__0__Connector__extend() == EALREADY) {
          /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_EXTENDED;
          /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
        }
    }
  if (/*Connector1ServerC.server*/ConnectorServerP__0__connector == MALE_CONNECTOR_RETRACTING) {
      if (/*Connector1ServerC.server*/ConnectorServerP__0__Connector__retract() == EALREADY) {
          /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_RETRACTED;
          /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
        }
    }
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )56U &= ~(1 << 3);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__clr();
#line 30
}
#line 30
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )56U &= ~(1 << 4);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortB.Bit4*/HplAtm128GeneralIOPinP__12__IO__clr();
#line 30
}
#line 30
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )56U |= 1 << 3;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortB.Bit3*/HplAtm128GeneralIOPinP__11__IO__set();
#line 29
}
#line 29
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*Connector1ServerC.rpcServer.sender*/RpcReplySenderC__1__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*Connector1ServerC.rpcServer.sender*/RpcReplySenderC__1__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__runTask(void )
#line 104
{
  if (!/*Connector1ServerC.server*/ConnectorServerP__0__busy) {
      RpcReplyConnector *payload = /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__getPayload(&/*Connector1ServerC.server*/ConnectorServerP__0__pkt, sizeof(RpcReplyConnector ));

#line 107
      __nesc_hton_uint8(payload->connector.data, /*Connector1ServerC.server*/ConnectorServerP__0__connector);
      if (/*Connector1ServerC.server*/ConnectorServerP__0__SendReply__send(&/*Connector1ServerC.server*/ConnectorServerP__0__pkt, sizeof(RpcReplyConnector )) == SUCCESS) {
        /*Connector1ServerC.server*/ConnectorServerP__0__busy = TRUE;
        }
      else {
#line 111
        /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
        }
    }
  else {
    /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredChannelClientP__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredChannelClientP__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*OtherHemiInfraredChannelC.rpcClient.sender*/RpcRequestSenderC__9__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredChannelClientP__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__getPayload(uint8_t arg_0x40dafa70, message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = RpcMessageP__SendRequest__getPayload(arg_0x40dafa70, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 220 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void */*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(uint8_t id, message_t *m, uint8_t len)
#line 220
{
  return /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__getPayload(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__get(id), m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(/*OtherHemiInfraredChannelC.rpcClient.sender*/RpcRequestSenderC__9__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * InfraredChannelClientP__SendRequest__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 85 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelClientP.nc"
static inline void InfraredChannelClientP__sendRequest__runTask(void )
#line 85
{
  if (!InfraredChannelClientP__busy) {
      RpcRequestInfraredChannel *payload = InfraredChannelClientP__SendRequest__getPayload(&InfraredChannelClientP__pkt, sizeof(RpcRequestInfraredChannel ));

#line 88
      __nesc_hton_uint8(payload->isLowSensitivity.data, InfraredChannelClientP__lowSensitivity);
      if (InfraredChannelClientP__SendRequest__send(&InfraredChannelClientP__pkt, sizeof(RpcRequestInfraredChannel )) == SUCCESS) {
        InfraredChannelClientP__busy = TRUE;
        }
      else {
#line 92
        InfraredChannelClientP__sendRequest__postTask();
        }
    }
  else {
    InfraredChannelClientP__sendRequest__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*YaxisC.client*/RpcRead16ClientP__2__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*YaxisC.rpcClient.sender*/RpcRequestSenderC__8__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__runTask(void )
#line 77
{
  if (!/*YaxisC.client*/RpcRead16ClientP__2__busy) {
      if (/*YaxisC.client*/RpcRead16ClientP__2__SendRequest__send(&/*YaxisC.client*/RpcRead16ClientP__2__pkt, sizeof(RpcRequestRead )) == SUCCESS) {
        /*YaxisC.client*/RpcRead16ClientP__2__busy = TRUE;
        }
      else {
#line 82
        /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__postTask();
        }
    }
  else {
    /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__postTask();
    }
}





static inline void /*YaxisC.client*/RpcRead16ClientP__2__Read__default__readDone(error_t res, uint16_t val)
#line 94
{
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*YaxisC.client*/RpcRead16ClientP__2__Read__readDone(error_t result, /*YaxisC.client*/RpcRead16ClientP__2__Read__val_t val){
#line 63
  /*YaxisC.client*/RpcRead16ClientP__2__Read__default__readDone(result, val);
#line 63
}
#line 63
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__runTask(void )
#line 89
{
  /*YaxisC.client*/RpcRead16ClientP__2__Read__readDone(/*YaxisC.client*/RpcRead16ClientP__2__result, /*YaxisC.client*/RpcRead16ClientP__2__value);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*OtherXaxisC.rpcClient.sender*/RpcRequestSenderC__7__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__runTask(void )
#line 77
{
  if (!/*OtherXaxisC.client*/RpcRead16ClientP__1__busy) {
      if (/*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__send(&/*OtherXaxisC.client*/RpcRead16ClientP__1__pkt, sizeof(RpcRequestRead )) == SUCCESS) {
        /*OtherXaxisC.client*/RpcRead16ClientP__1__busy = TRUE;
        }
      else {
#line 82
        /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__postTask();
        }
    }
  else {
    /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__postTask();
    }
}





static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__default__readDone(error_t res, uint16_t val)
#line 94
{
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__readDone(error_t result, /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__val_t val){
#line 63
  /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__default__readDone(result, val);
#line 63
}
#line 63
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__runTask(void )
#line 89
{
  /*OtherXaxisC.client*/RpcRead16ClientP__1__Read__readDone(/*OtherXaxisC.client*/RpcRead16ClientP__1__result, /*OtherXaxisC.client*/RpcRead16ClientP__1__value);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*DegreesClientC.degreesRpcClient.sender*/RpcRequestSenderC__5__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__runTask(void )
#line 77
{
  if (!/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__busy) {
      if (/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__send(&/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__pkt, sizeof(RpcRequestRead )) == SUCCESS) {
        /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__busy = TRUE;
        }
      else {
#line 82
        /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask();
        }
    }
  else {
    /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask();
    }
}

# 313 "AtronTosApiC.nc"
static inline void AtronTosApiC__CentralJoint__readDegreesDone(error_t error, uint16_t deg)
#line 313
{
  AtronTosApiC__readDegreesDoneFlag = 1;
  AtronTosApiC__atronApi_degrees = (int )(0.8333f * deg);
}

# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
inline static void CentralJointClientP__joint__readDegreesDone(error_t result, uint16_t val){
#line 59
  AtronTosApiC__CentralJoint__readDegreesDone(result, val);
#line 59
}
#line 59
# 216 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__ReadDegrees__readDone(error_t err, uint16_t val)
#line 216
{
  if (err == SUCCESS) {
    CentralJointClientP__actualDegrees = val;
    }
#line 219
  if (CentralJointClientP__readDegreesDonePending) {
      CentralJointClientP__readDegreesDonePending = FALSE;
      CentralJointClientP__joint__readDegreesDone(err, val);
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RpcInfoInitP__signalBooted__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RpcInfoInitP__signalBooted);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 153 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(uint8_t num)
{
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[num].isrunning = FALSE;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RpcInfoInitP__noResponseTimer__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(27U);
#line 67
}
#line 67
# 74 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/RpcInfoInitP.nc"
static inline void RpcInfoInitP__initDegrees__readDone(error_t err, uint16_t val)
#line 74
{
  if (!RpcInfoInitP__alreadyBooted) {
      RpcInfoInitP__alreadyBooted = TRUE;
      RpcInfoInitP__noResponseTimer__stop();
      RpcInfoInitP__signalBooted__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__readDone(error_t result, /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__val_t val){
#line 63
  RpcInfoInitP__initDegrees__readDone(result, val);
#line 63
  CentralJointClientP__ReadDegrees__readDone(result, val);
#line 63
}
#line 63
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__runTask(void )
#line 89
{
  /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__readDone(/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__result, /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__value);
}

# 303 "AtronTosApiC.nc"
static inline void AtronTosApiC__CentralJoint__rotationCompleted(error_t error, uint16_t degrees, bool dir)
#line 303
{
  AtronTosApiC__isRotatingFlag = 0;
}

# 139 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
inline static void CentralJointClientP__joint__rotationCompleted(error_t error, uint16_t degrees, bool dir){
#line 139
  AtronTosApiC__CentralJoint__rotationCompleted(error, degrees, dir);
#line 139
}
#line 139
# 212 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__signalRotationCompleted__runTask(void )
#line 212
{
  CentralJointClientP__joint__rotationCompleted(CentralJointClientP__actualError, CentralJointClientP__signalDegrees, CentralJointClientP__signalDirection);
}

# 257 "/usr/lib/ncc/nesc_nx.h>
static __inline  int8_t __nesc_hton_int8(void * target, int8_t value)
#line 257
{
#line 257
  __nesc_hton_uint8(target, value);
#line 257
  return value;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t CentralJointClientP__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(CentralJointClientP__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*CentralJointClientC.rpcClient.sender*/RpcRequestSenderC__4__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t CentralJointClientP__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(/*CentralJointClientC.rpcClient.sender*/RpcRequestSenderC__4__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * CentralJointClientP__SendRequest__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 194 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__sendRequest__runTask(void )
#line 194
{
  if (!CentralJointClientP__busy) {
      RpcRequestCentralJoint *payload = CentralJointClientP__SendRequest__getPayload(&CentralJointClientP__pkt, sizeof(RpcRequestCentralJoint ));

#line 197
      __nesc_hton_uint8(payload->opcode.data, CentralJointClientP__setOpcode);
      __nesc_hton_uint16(payload->degrees.data, CentralJointClientP__setDegrees);
      __nesc_hton_uint8(payload->speed.data, CentralJointClientP__setSpeed);
      __nesc_hton_int8(payload->direction.data, CentralJointClientP__setDirection);
      __nesc_hton_int8(payload->locked.data, CentralJointClientP__setLocked);
      if (CentralJointClientP__SendRequest__send(&CentralJointClientP__pkt, sizeof(RpcRequestCentralJoint )) == SUCCESS) {
        CentralJointClientP__busy = TRUE;
        }
      else {
#line 205
        CentralJointClientP__sendRequest__postTask();
        }
    }
  else {
    CentralJointClientP__sendRequest__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector2ClientC.client*/ConnectorClientP__1__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*Connector2ClientC.rpcClient.sender*/RpcRequestSenderC__3__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(/*Connector2ClientC.rpcClient.sender*/RpcRequestSenderC__3__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 96 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline void /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__runTask(void )
#line 96
{
  if (!/*Connector2ClientC.client*/ConnectorClientP__1__busy) {
      RpcRequestConnector *payload = /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__getPayload(&/*Connector2ClientC.client*/ConnectorClientP__1__pkt, sizeof(RpcRequestConnector ));

#line 99
      __nesc_hton_uint8(payload->connector.data, /*Connector2ClientC.client*/ConnectorClientP__1__connector);
      if (/*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__send(&/*Connector2ClientC.client*/ConnectorClientP__1__pkt, sizeof(RpcRequestConnector )) == SUCCESS) {
        /*Connector2ClientC.client*/ConnectorClientP__1__busy = TRUE;
        }
      else {
#line 103
        /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask();
        }
    }
  else {
    /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector1ClientC.client*/ConnectorClientP__0__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*Connector1ClientC.rpcClient.sender*/RpcRequestSenderC__2__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(/*Connector1ClientC.rpcClient.sender*/RpcRequestSenderC__2__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 96 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline void /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__runTask(void )
#line 96
{
  if (!/*Connector1ClientC.client*/ConnectorClientP__0__busy) {
      RpcRequestConnector *payload = /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__getPayload(&/*Connector1ClientC.client*/ConnectorClientP__0__pkt, sizeof(RpcRequestConnector ));

#line 99
      __nesc_hton_uint8(payload->connector.data, /*Connector1ClientC.client*/ConnectorClientP__0__connector);
      if (/*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__send(&/*Connector1ClientC.client*/ConnectorClientP__0__pkt, sizeof(RpcRequestConnector )) == SUCCESS) {
        /*Connector1ClientC.client*/ConnectorClientP__0__busy = TRUE;
        }
      else {
#line 103
        /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask();
        }
    }
  else {
    /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InitSouthStateP__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InitSouthStateP__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitSouthStateP.nc"
static inline void InitSouthStateP__readThisHemiConn2State__readDone(error_t err, uint8_t connState)
#line 69
{
  InitSouthStateP__state.connector[0] = connState;
  InitSouthStateP__barrier++;
  if (InitSouthStateP__barrier == 2) {
    InitSouthStateP__signalReadDone__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__readDone(error_t result, /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__val_t val){
#line 63
  InitSouthStateP__readThisHemiConn2State__readDone(result, val);
#line 63
}
#line 63
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__runTask(void )
#line 59
{
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Read__readDone(SUCCESS, /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 384 "AtronTosApiC.nc"
static inline void AtronTosApiC__Connector__retractDone(uint8_t connector, error_t error)
#line 384
{
  int i = AtronTosApiC__bitpattern2channel(connector);

#line 386
  AtronTosApiC__connectorState[i] = 3;
}

# 132 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static inline void NeighborTableP__Connector__retractDone(uint8_t connector, error_t error)
#line 132
{
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void ConnectorsImplP__Connector__retractDone(connector_t arg_0x41089ae8, error_t error){
#line 72
  NeighborTableP__Connector__retractDone(arg_0x41089ae8, error);
#line 72
  AtronTosApiC__Connector__retractDone(arg_0x41089ae8, error);
#line 72
}
#line 72
# 117 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector6__retractDone(error_t error)
#line 117
{
  ConnectorsImplP__Connector__retractDone(CONNECTOR_6, error);
}

# 80 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retractDone(error_t error)
#line 80
{
  if (error == SUCCESS) {
    /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_RETRACTED;
    }
  else {
#line 84
    /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_UNKNOWN;
    }
#line 85
  /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retractDone(error_t error){
#line 72
  /*Connector1ServerC.server*/ConnectorServerP__0__Connector__retractDone(error);
#line 72
  ConnectorsImplP__Connector6__retractDone(error);
#line 72
}
#line 72
# 379 "AtronTosApiC.nc"
static inline void AtronTosApiC__Connector__extendDone(uint8_t connector, error_t error)
#line 379
{
  int i = AtronTosApiC__bitpattern2channel(connector);

#line 381
  AtronTosApiC__connectorState[i] = 1;
}

# 130 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static inline void NeighborTableP__Connector__extendDone(uint8_t connector, error_t error)
#line 130
{
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void ConnectorsImplP__Connector__extendDone(connector_t arg_0x41089ae8, error_t error){
#line 65
  NeighborTableP__Connector__extendDone(arg_0x41089ae8, error);
#line 65
  AtronTosApiC__Connector__extendDone(arg_0x41089ae8, error);
#line 65
}
#line 65
# 113 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector6__extendDone(error_t error)
#line 113
{
  ConnectorsImplP__Connector__extendDone(CONNECTOR_6, error);
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extendDone(error_t error)
#line 72
{
  if (error == SUCCESS) {
    /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_EXTENDED;
    }
  else {
#line 76
    /*Connector1ServerC.server*/ConnectorServerP__0__connector = MALE_CONNECTOR_UNKNOWN;
    }
#line 77
  /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extendDone(error_t error){
#line 65
  /*Connector1ServerC.server*/ConnectorServerP__0__Connector__extendDone(error);
#line 65
  ConnectorsImplP__Connector6__extendDone(error);
#line 65
}
#line 65
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(22U);
#line 67
}
#line 67
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__readDone(error_t result, uint16_t current)
#line 98
{
  if (current > CONNECTOR_CURRENT_THRESHOLD) {
    /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__overcurrentCounts++;
    }
#line 101
  if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__overcurrentCounts > MAX_OVERCURRENT_COUNTS) {
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__stop();
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__set();

      if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState == MALE_CONNECTOR_EXTENDING) {
          /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_EXTENDED;
          if (!/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__internalTest) {
            /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extendDone(SUCCESS);
            }
          else 
#line 109
            {
              /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__internalTest = FALSE;
              /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__postTask();
            }
        }
      else {
#line 114
        if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState == MALE_CONNECTOR_RETRACTING) {
            /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_RETRACTED;
            if (!/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__internalTest) {
              /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retractDone(SUCCESS);
              }
            else 
#line 118
              {
                /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__internalTest = FALSE;
                /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__postTask();
              }
          }
        else {
          /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_UNKNOWN;
          }
        }
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 109 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector4__retractDone(error_t error)
#line 109
{
  ConnectorsImplP__Connector__retractDone(CONNECTOR_4, error);
}

# 80 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retractDone(error_t error)
#line 80
{
  if (error == SUCCESS) {
    /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_RETRACTED;
    }
  else {
#line 84
    /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_UNKNOWN;
    }
#line 85
  /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retractDone(error_t error){
#line 72
  /*Connector2ServerC.server*/ConnectorServerP__1__Connector__retractDone(error);
#line 72
  ConnectorsImplP__Connector4__retractDone(error);
#line 72
}
#line 72
# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector4__extendDone(error_t error)
#line 105
{
  ConnectorsImplP__Connector__extendDone(CONNECTOR_4, error);
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extendDone(error_t error)
#line 72
{
  if (error == SUCCESS) {
    /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_EXTENDED;
    }
  else {
#line 76
    /*Connector2ServerC.server*/ConnectorServerP__1__connector = MALE_CONNECTOR_UNKNOWN;
    }
#line 77
  /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extendDone(error_t error){
#line 65
  /*Connector2ServerC.server*/ConnectorServerP__1__Connector__extendDone(error);
#line 65
  ConnectorsImplP__Connector4__extendDone(error);
#line 65
}
#line 65
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(24U);
#line 67
}
#line 67
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__readDone(error_t result, uint16_t current)
#line 98
{
  if (current > CONNECTOR_CURRENT_THRESHOLD) {
    /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__overcurrentCounts++;
    }
#line 101
  if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__overcurrentCounts > MAX_OVERCURRENT_COUNTS) {
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__stop();
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__set();

      if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState == MALE_CONNECTOR_EXTENDING) {
          /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_EXTENDED;
          if (!/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__internalTest) {
            /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extendDone(SUCCESS);
            }
          else 
#line 109
            {
              /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__internalTest = FALSE;
              /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__postTask();
            }
        }
      else {
#line 114
        if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState == MALE_CONNECTOR_RETRACTING) {
            /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_RETRACTED;
            if (!/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__internalTest) {
              /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retractDone(SUCCESS);
              }
            else 
#line 118
              {
                /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__internalTest = FALSE;
                /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__postTask();
              }
          }
        else {
          /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_UNKNOWN;
          }
        }
    }
}

# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__Read__readDone(error_t res, uint16_t val)
#line 68
{

  if (/*XaxisServerC.server*/RpcRead16ServerP__0__readDonePending) {
      /*XaxisServerC.server*/RpcRead16ServerP__0__readDonePending = FALSE;
      /*XaxisServerC.server*/RpcRead16ServerP__0__result = res;
      /*XaxisServerC.server*/RpcRead16ServerP__0__value = val;
      /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask();
    }
}

#line 68
static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__readDone(error_t res, uint16_t val)
#line 68
{

  if (/*ZaxisServerC.server*/RpcRead16ServerP__1__readDonePending) {
      /*ZaxisServerC.server*/RpcRead16ServerP__1__readDonePending = FALSE;
      /*ZaxisServerC.server*/RpcRead16ServerP__1__result = res;
      /*ZaxisServerC.server*/RpcRead16ServerP__1__value = val;
      /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t LedsClientP__sendRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(LedsClientP__sendRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 235 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
static inline void LedsClientP__Leds__set(uint8_t val)
#line 235
{
  if (val != LedsClientP__leds) {
      LedsClientP__leds = val;
      LedsClientP__sendRequest__postTask();
    }
}

# 221 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
inline static void StartATRONC__Leds__set(uint8_t val){
#line 221
  LedsClientP__Leds__set(val);
#line 221
}
#line 221
# 60 "StartATRONC.nc"
static inline void StartATRONC__Boot__booted(void )
#line 60
{
  StartATRONC__init = TRUE;
  StartATRONC__Leds__set(255);

  StartATRONC__Timer__startOneShot(100);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t AvrDirectStorageP__checkReady__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(AvrDirectStorageP__checkReady);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 111 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
static inline void StateImplP__State__forceState(uint8_t id, uint8_t reqState)
#line 111
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 112
    StateImplP__state[id] = reqState;
#line 112
    __nesc_atomic_end(__nesc_atomic); }
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
inline static void AvrDirectStorageP__State__forceState(uint8_t reqState){
#line 51
  StateImplP__State__forceState(0U, reqState);
#line 51
}
#line 51
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
static inline void AvrDirectStorageP__Boot__booted(void )
#line 71
{
  AvrDirectStorageP__State__forceState(AvrDirectStorageP__S_BUSY);
  AvrDirectStorageP__checkReady__postTask();
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static inline void NeighborTableP__Boot__booted(void )
#line 72
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void RandomInitP__Boot__booted(void ){
#line 49
  NeighborTableP__Boot__booted();
#line 49
  AvrDirectStorageP__Boot__booted();
#line 49
  StartATRONC__Boot__booted();
#line 49
}
#line 49
# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RandomMlcgC.nc"
static inline error_t RandomMlcgC__SeedInit__init(uint16_t s)
#line 51
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 52
    RandomMlcgC__seed = (uint32_t )(s + 1);
#line 52
    __nesc_atomic_end(__nesc_atomic); }

  return SUCCESS;
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ParameterInit.nc"
inline static error_t RandomInitP__SeedInit__init(RandomInitP__SeedInit__parameter param){
#line 53
  unsigned char result;
#line 53

#line 53
  result = RandomMlcgC__SeedInit__init(param);
#line 53

#line 53
  return result;
#line 53
}
#line 53
# 57 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/RandomInitP.nc"
static inline void RandomInitP__readXacc__readDone(error_t result, uint16_t val)
#line 57
{
  RandomInitP__seed += val;
  RandomInitP__SeedInit__init(RandomInitP__seed);
  RandomInitP__Boot__booted();
}

# 95 "AtronTosApiC.nc"
static inline void AtronTosApiC__Battery__readDone(error_t error, uint16_t val)
#line 95
{
  AtronTosApiC__batteryLevel = val;
}

# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__default__readDone(uint8_t client, error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t data)
#line 48
{
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__readDone(uint8_t arg_0x411580e8, error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__val_t val){
#line 63
  switch (arg_0x411580e8) {
#line 63
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 63
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__readDone(result, val);
#line 63
      break;
#line 63
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 63
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__readDone(result, val);
#line 63
      break;
#line 63
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 63
      /*XaxisServerC.server*/RpcRead16ServerP__0__Read__readDone(result, val);
#line 63
      break;
#line 63
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 63
      /*ZaxisServerC.server*/RpcRead16ServerP__1__Read__readDone(result, val);
#line 63
      break;
#line 63
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 63
      RandomInitP__readXacc__readDone(result, val);
#line 63
      break;
#line 63
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 63
      AtronTosApiC__Battery__readDone(result, val);
#line 63
      break;
#line 63
    default:
#line 63
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__default__readDone(arg_0x411580e8, result, val);
#line 63
      break;
#line 63
    }
#line 63
}
#line 63
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static inline error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__release(uint8_t client)
#line 47
{
#line 47
  return FAIL;
}

# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__release(uint8_t arg_0x41155010){
#line 110
  unsigned char result;
#line 110

#line 110
  switch (arg_0x41155010) {
#line 110
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__HAL_ID);
#line 110
      break;
#line 110
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__HAL_ID);
#line 110
      break;
#line 110
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*XaxisC.adcClient*/AdcReadClientC__2__HAL_ID);
#line 110
      break;
#line 110
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*ZaxisC.adcClient*/AdcReadClientC__3__HAL_ID);
#line 110
      break;
#line 110
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*XaxisRandomC.adcClient*/AdcReadClientC__4__HAL_ID);
#line 110
      break;
#line 110
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 110
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(/*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__HAL_ID);
#line 110
      break;
#line 110
    default:
#line 110
      result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__release(arg_0x41155010);
#line 110
      break;
#line 110
    }
#line 110

#line 110
  return result;
#line 110
}
#line 110
# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__readDone(uint8_t client, error_t result, /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__width_t data)
#line 39
{
  /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__release(client);
  /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__readDone(client, result, data);
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void AdcP__Read__readDone(uint8_t arg_0x41170130, error_t result, AdcP__Read__val_t val){
#line 63
  /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__readDone(arg_0x41170130, result, val);
#line 63
}
#line 63
# 103 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline void AdcP__acquiredData__runTask(void )
#line 103
{
  AdcP__state = AdcP__IDLE;
  AdcP__Read__readDone(AdcP__client, SUCCESS, AdcP__val);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEmpty(void )
#line 56
{
  int i;

  /* atomic removed: atomic calls only */
#line 58
  {
    for (i = 0; i < sizeof /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ; i++) 
      if (/*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ[i] > 0) {
          unsigned char __nesc_temp = 
#line 60
          FALSE;

#line 60
          return __nesc_temp;
        }
#line 61
    {
      unsigned char __nesc_temp = 
#line 61
      TRUE;

#line 61
      return __nesc_temp;
    }
  }
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static bool /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__isEmpty(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEmpty();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline void /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__clearEntry(uint8_t id)
#line 47
{
  /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ[id / 8] &= ~(1 << id % 8);
}

#line 69
static inline resource_client_id_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__dequeue(void )
#line 69
{
  int i;

  /* atomic removed: atomic calls only */
#line 71
  {
    for (i = /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__last + 1; ; i++) {
        if (i == 6U) {
          i = 0;
          }
#line 75
        if (/*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEnqueued(i)) {
            /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__clearEntry(i);
            /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__last = i;
            {
              unsigned char __nesc_temp = 
#line 78
              i;

#line 78
              return __nesc_temp;
            }
          }
#line 80
        if (i == /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__last) {
          break;
          }
      }
#line 83
    {
      unsigned char __nesc_temp = 
#line 83
      /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__NO_ENTRY;

#line 83
      return __nesc_temp;
    }
  }
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static resource_client_id_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__dequeue(void ){
#line 60
  unsigned char result;
#line 60

#line 60
  result = /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__dequeue();
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 214 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__unconfigure(uint8_t id)
#line 214
{
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__unconfigure(uint8_t arg_0x40a431b8){
#line 55
    /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__unconfigure(arg_0x40a431b8);
#line 55
}
#line 55
# 73 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline void HplAtm128AdcP__HplAtm128Adc__disableAdc(void )
#line 73
{
  * (volatile uint8_t *)(0x06 + 0x20) &= ~(1 << 7);
  HplAtm128AdcP__McuPowerState__update();
}

# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void Atm128AdcP__HplAtm128Adc__disableAdc(void ){
#line 77
  HplAtm128AdcP__HplAtm128Adc__disableAdc();
#line 77
}
#line 77
# 109 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline error_t Atm128AdcP__AsyncStdControl__stop(void )
#line 109
{
  /* atomic removed: atomic calls only */
#line 110
  Atm128AdcP__HplAtm128Adc__disableAdc();

  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AsyncStdControl.nc"
inline static error_t /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = Atm128AdcP__AsyncStdControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/AsyncPowerManagerP.nc"
static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__default__cleanup(void )
#line 74
{
}

# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/PowerDownCleanup.nc"
inline static void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__cleanup(void ){
#line 52
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__default__cleanup();
#line 52
}
#line 52
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/power/AsyncPowerManagerP.nc"
static inline void /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__granted(void )
#line 69
{
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__PowerDownCleanup__cleanup();
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__AsyncStdControl__stop();
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__granted(void ){
#line 46
  /*Atm128AdcC.PM.PowerManager*/AsyncPowerManagerP__0__ResourceDefaultOwner__granted();
#line 46
}
#line 46
# 86 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline error_t AdcP__startGet(uint8_t newState, uint8_t newClient)
#line 86
{

  AdcP__state = newState;
  AdcP__client = newClient;
  AdcP__sample();

  return SUCCESS;
}

static inline error_t AdcP__Read__read(uint8_t c)
#line 95
{
  return AdcP__startGet(AdcP__ACQUIRE_DATA, c);
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__read(uint8_t arg_0x41156130){
#line 55
  unsigned char result;
#line 55

#line 55
  result = AdcP__Read__read(arg_0x41156130);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static inline void /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(uint8_t client)
#line 35
{
  /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Service__read(client);
}

# 198 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__default__granted(uint8_t id)
#line 198
{
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__granted(uint8_t arg_0x40a45380){
#line 92
  switch (arg_0x40a45380) {
#line 92
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID);
#line 92
      break;
#line 92
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID);
#line 92
      break;
#line 92
    case /*XaxisC.adcClient*/AdcReadClientC__2__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*XaxisC.adcClient*/AdcReadClientC__2__ID);
#line 92
      break;
#line 92
    case /*ZaxisC.adcClient*/AdcReadClientC__3__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*ZaxisC.adcClient*/AdcReadClientC__3__ID);
#line 92
      break;
#line 92
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*XaxisRandomC.adcClient*/AdcReadClientC__4__ID);
#line 92
      break;
#line 92
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__HAL_ID:
#line 92
      /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__granted(/*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID);
#line 92
      break;
#line 92
    default:
#line 92
      /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__default__granted(arg_0x40a45380);
#line 92
      break;
#line 92
    }
#line 92
}
#line 92
# 212 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__configure(uint8_t id)
#line 212
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
inline static void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__configure(uint8_t arg_0x40a431b8){
#line 49
    /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__default__configure(arg_0x40a431b8);
#line 49
}
#line 49
# 186 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__runTask(void )
#line 186
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 187
    {
      /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__reqResId;
      /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_BUSY;
    }
#line 190
    __nesc_atomic_end(__nesc_atomic); }
  /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__configure(/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId);
  /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__granted(/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId);
}

# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/MeasureClockC.nc"
static inline uint8_t MeasureClockC__Atm128Calibrate__adcPrescaler(void )
#line 87
{

  if (MeasureClockC__MAGIC >= 390) {
    return ATM128_ADC_PRESCALE_128;
    }
#line 91
  if (MeasureClockC__MAGIC >= 195) {
    return ATM128_ADC_PRESCALE_64;
    }
#line 93
  if (MeasureClockC__MAGIC >= 97) {
    return ATM128_ADC_PRESCALE_32;
    }
#line 95
  if (MeasureClockC__MAGIC >= 48) {
    return ATM128_ADC_PRESCALE_16;
    }
#line 97
  if (MeasureClockC__MAGIC >= 24) {
    return ATM128_ADC_PRESCALE_8;
    }
#line 99
  if (MeasureClockC__MAGIC >= 12) {
    return ATM128_ADC_PRESCALE_4;
    }
#line 101
  return ATM128_ADC_PRESCALE_2;
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Calibrate.nc"
inline static uint8_t Atm128AdcP__Atm128Calibrate__adcPrescaler(void ){
#line 53
  unsigned char result;
#line 53

#line 53
  result = MeasureClockC__Atm128Calibrate__adcPrescaler();
#line 53

#line 53
  return result;
#line 53
}
#line 53
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline uint8_t HplAtm128AdcP__Admux2int(Atm128Admux_t x)
#line 50
{
#line 50
  union __nesc_unnamed4538 {
#line 50
    Atm128Admux_t f;
#line 50
    uint8_t t;
  } 
#line 50
  c = { .f = x };

#line 50
  return c.t;
}


static inline void HplAtm128AdcP__HplAtm128Adc__setAdmux(Atm128Admux_t x)
#line 54
{
  * (volatile uint8_t *)(0x07 + 0x20) = HplAtm128AdcP__Admux2int(x);
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void Atm128AdcP__HplAtm128Adc__setAdmux(Atm128Admux_t admux){
#line 49
  HplAtm128AdcP__HplAtm128Adc__setAdmux(admux);
#line 49
}
#line 49
# 119 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static __inline bool Atm128AdcP__isPrecise(Atm128Admux_t admux, uint8_t channel, uint8_t refVoltage)
#line 119
{
  return refVoltage == admux.refs && ((
  channel <= ATM128_ADC_SNGL_ADC7 || channel >= ATM128_ADC_SNGL_1_23) || channel == admux.mux);
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline Atm128Admux_t HplAtm128AdcP__HplAtm128Adc__getAdmux(void )
#line 40
{
  return * (Atm128Admux_t *)& * (volatile uint8_t *)(0x07 + 0x20);
}

# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static Atm128Admux_t Atm128AdcP__HplAtm128Adc__getAdmux(void ){
#line 44
  struct __nesc_unnamed4252 result;
#line 44

#line 44
  result = HplAtm128AdcP__HplAtm128Adc__getAdmux();
#line 44

#line 44
  return result;
#line 44
}
#line 44
# 184 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline void Atm128AdcP__getData(uint8_t channel, uint8_t refVoltage, bool leftJustify, uint8_t prescaler)
#line 184
{
  Atm128Admux_t admux;
  Atm128Adcsra_t adcsr;

  admux = Atm128AdcP__HplAtm128Adc__getAdmux();
  Atm128AdcP__f.precise = Atm128AdcP__isPrecise(admux, channel, refVoltage);
  Atm128AdcP__f.channel = channel;

  admux.refs = refVoltage;
  admux.adlar = leftJustify;
  admux.mux = channel;
  Atm128AdcP__HplAtm128Adc__setAdmux(admux);

  adcsr.aden = ATM128_ADC_ENABLE_ON;
  adcsr.adsc = ATM128_ADC_START_CONVERSION_ON;
  adcsr.adfr = Atm128AdcP__f.multiple;
  adcsr.adif = ATM128_ADC_INT_FLAG_ON;
  adcsr.adie = ATM128_ADC_INT_ENABLE_ON;
  if (prescaler == ATM128_ADC_PRESCALE) {
    prescaler = Atm128AdcP__Atm128Calibrate__adcPrescaler();
    }
#line 204
  adcsr.adps = prescaler;
  Atm128AdcP__HplAtm128Adc__setAdcsra(adcsr);
}

static inline bool Atm128AdcP__Atm128AdcSingle__getData(uint8_t channel, uint8_t refVoltage, 
bool leftJustify, uint8_t prescaler)
#line 209
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      Atm128AdcP__f.multiple = FALSE;
      Atm128AdcP__getData(channel, refVoltage, leftJustify, prescaler);

      {
        unsigned char __nesc_temp = 
#line 215
        Atm128AdcP__f.precise;

        {
#line 215
          __nesc_atomic_end(__nesc_atomic); 
#line 215
          return __nesc_temp;
        }
      }
    }
#line 218
    __nesc_atomic_end(__nesc_atomic); }
}

# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
inline static bool AdcP__Atm128AdcSingle__getData(uint8_t channel, uint8_t refVoltage, bool leftJustify, uint8_t prescaler){
#line 61
  unsigned char result;
#line 61

#line 61
  result = Atm128AdcP__Atm128AdcSingle__getData(channel, refVoltage, leftJustify, prescaler);
#line 61

#line 61
  return result;
#line 61
}
#line 61
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense1P.nc"
static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getChannel(void )
{
  return ATM128_ADC_SNGL_ADC2;
}

# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense2P.nc"
static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getChannel(void )
{
  return ATM128_ADC_SNGL_ADC3;
}

# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/XaxisP.nc"
static inline uint8_t XaxisP__Atm128AdcConfig__getChannel(void )
{

  return ATM128_ADC_SNGL_ADC4;
}

# 40 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/ZaxisP.nc"
static inline uint8_t ZaxisP__Atm128AdcConfig__getChannel(void )
{

  return ATM128_ADC_SNGL_ADC1;
}

# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/battery/BatteryVoltageP.nc"
static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getChannel(void )
{

  return ATM128_ADC_SNGL_ADC0;
}

# 137 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__Atm128AdcConfig__default__getChannel(uint8_t c)
#line 137
{
  return ATM128_ADC_SNGL_GND;
}

# 25 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
inline static uint8_t AdcP__Atm128AdcConfig__getChannel(uint8_t arg_0x4116e600){
#line 25
  unsigned char result;
#line 25

#line 25
  switch (arg_0x4116e600) {
#line 25
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 25
      result = ConnectorCurrentSense1P__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 25
      result = ConnectorCurrentSense2P__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 25
      result = XaxisP__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 25
      result = ZaxisP__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 25
      result = XaxisP__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 25
      result = BatteryVoltageP__Atm128AdcConfig__getChannel();
#line 25
      break;
#line 25
    default:
#line 25
      result = AdcP__Atm128AdcConfig__default__getChannel(arg_0x4116e600);
#line 25
      break;
#line 25
    }
#line 25

#line 25
  return result;
#line 25
}
#line 25
# 70 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__channel(void )
#line 70
{
  return AdcP__Atm128AdcConfig__getChannel(AdcP__client);
}

# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense1P.nc"
static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getRefVoltage(void )
{
  return ATM128_ADC_VREF_AVCC;
}

# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense2P.nc"
static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getRefVoltage(void )
{
  return ATM128_ADC_VREF_AVCC;
}

# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/XaxisP.nc"
static inline uint8_t XaxisP__Atm128AdcConfig__getRefVoltage(void )
{

  return ATM128_ADC_VREF_AVCC;
}

# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/ZaxisP.nc"
static inline uint8_t ZaxisP__Atm128AdcConfig__getRefVoltage(void )
{

  return ATM128_ADC_VREF_AVCC;
}

# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/battery/BatteryVoltageP.nc"
static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getRefVoltage(void )
{

  return ATM128_ADC_VREF_AVCC;
}

# 141 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__Atm128AdcConfig__default__getRefVoltage(uint8_t c)
#line 141
{
  return ATM128_ADC_VREF_OFF;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
inline static uint8_t AdcP__Atm128AdcConfig__getRefVoltage(uint8_t arg_0x4116e600){
#line 32
  unsigned char result;
#line 32

#line 32
  switch (arg_0x4116e600) {
#line 32
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 32
      result = ConnectorCurrentSense1P__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 32
      result = ConnectorCurrentSense2P__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 32
      result = XaxisP__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 32
      result = ZaxisP__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 32
      result = XaxisP__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 32
      result = BatteryVoltageP__Atm128AdcConfig__getRefVoltage();
#line 32
      break;
#line 32
    default:
#line 32
      result = AdcP__Atm128AdcConfig__default__getRefVoltage(arg_0x4116e600);
#line 32
      break;
#line 32
    }
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__refVoltage(void )
#line 74
{
  return AdcP__Atm128AdcConfig__getRefVoltage(AdcP__client);
}

# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense1P.nc"
static inline uint8_t ConnectorCurrentSense1P__Atm128AdcConfig__getPrescaler(void )
{
  return ATM128_ADC_PRESCALE;
}

# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorCurrentSense2P.nc"
static inline uint8_t ConnectorCurrentSense2P__Atm128AdcConfig__getPrescaler(void )
{
  return ATM128_ADC_PRESCALE;
}

# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/XaxisP.nc"
static inline uint8_t XaxisP__Atm128AdcConfig__getPrescaler(void )
{
  return ATM128_ADC_PRESCALE;
}

# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/accelerometer/ZaxisP.nc"
static inline uint8_t ZaxisP__Atm128AdcConfig__getPrescaler(void )
{
  return ATM128_ADC_PRESCALE;
}

# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/battery/BatteryVoltageP.nc"
static inline uint8_t BatteryVoltageP__Atm128AdcConfig__getPrescaler(void )
{
  return ATM128_ADC_PRESCALE;
}

# 145 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__Atm128AdcConfig__default__getPrescaler(uint8_t c)
#line 145
{
  return ATM128_ADC_PRESCALE_2;
}

# 39 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcConfig.nc"
inline static uint8_t AdcP__Atm128AdcConfig__getPrescaler(uint8_t arg_0x4116e600){
#line 39
  unsigned char result;
#line 39

#line 39
  switch (arg_0x4116e600) {
#line 39
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 39
      result = ConnectorCurrentSense1P__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 39
      result = ConnectorCurrentSense2P__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 39
      result = XaxisP__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 39
      result = ZaxisP__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 39
      result = XaxisP__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 39
      result = BatteryVoltageP__Atm128AdcConfig__getPrescaler();
#line 39
      break;
#line 39
    default:
#line 39
      result = AdcP__Atm128AdcConfig__default__getPrescaler(arg_0x4116e600);
#line 39
      break;
#line 39
    }
#line 39

#line 39
  return result;
#line 39
}
#line 39
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline uint8_t AdcP__prescaler(void )
#line 78
{
  return AdcP__Atm128AdcConfig__getPrescaler(AdcP__client);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/InitSouthStateP.nc"
static inline void InitSouthStateP__readThisHemiConn1State__readDone(error_t err, uint8_t connState)
#line 62
{
  InitSouthStateP__state.connector[2] = connState;
  InitSouthStateP__barrier++;
  if (InitSouthStateP__barrier == 2) {
    InitSouthStateP__signalReadDone__postTask();
    }
}

# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__readDone(error_t result, /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__val_t val){
#line 63
  InitSouthStateP__readThisHemiConn1State__readDone(result, val);
#line 63
}
#line 63
# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__runTask(void )
#line 59
{
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Read__readDone(SUCCESS, /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__startDone(error_t error)
#line 62
{
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__startDone(error_t error){
#line 92
  /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__startDone(error);
#line 92
}
#line 92
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone__runTask(void )
#line 44
{
  /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__startDone(SUCCESS);
}

#line 64
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__stopDone(error_t error)
#line 64
{
}

# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__stopDone(error_t error){
#line 117
  /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__default__stopDone(error);
#line 117
}
#line 117
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
static inline void /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone__runTask(void )
#line 48
{
  /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__SplitControl__stopDone(SUCCESS);
}











static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__startDone(error_t error)
#line 62
{
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__startDone(error_t error){
#line 92
  /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__startDone(error);
#line 92
}
#line 92
# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone__runTask(void )
#line 44
{
  /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__startDone(SUCCESS);
}

#line 64
static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__stopDone(error_t error)
#line 64
{
}

# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__stopDone(error_t error){
#line 117
  /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__default__stopDone(error);
#line 117
}
#line 117
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../system/NoSplitControlC.nc"
static inline void /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone__runTask(void )
#line 48
{
  /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__SplitControl__stopDone(SUCCESS);
}

# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__AMSend__sendDone(message_t *msg, error_t error)
#line 89
{
  if (&IsAliveP__pkt == msg) {
      IsAliveP__busy = FALSE;
    }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__sendDone(message_t * msg, error_t error){
#line 99
  IsAliveP__AMSend__sendDone(msg, error);
#line 99
}
#line 99
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__sendDone(message_t *m, error_t err)
#line 57
{
  /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__sendDone(m, err);
}

# 409 "AtronTosApiC.nc"
static inline void AtronTosApiC__Send__sendDone(message_t *msg, error_t error)
#line 409
{
  if (&AtronTosApiC__pkt == msg) {
      AtronTosApiC__busy = FALSE;
    }
  if (error != SUCCESS) {
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void SimpleInfraredActiveMessageP__Send__sendDone(message_t * msg, error_t error){
#line 89
  AtronTosApiC__Send__sendDone(msg, error);
#line 89
}
#line 89
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SimpleInfraredActiveMessageP.nc"
static inline void SimpleInfraredActiveMessageP__AMSend__sendDone(message_t *msg, error_t error)
#line 70
{
  SimpleInfraredActiveMessageP__Send__sendDone(msg, error);
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__sendDone(message_t * msg, error_t error){
#line 99
  SimpleInfraredActiveMessageP__AMSend__sendDone(msg, error);
#line 99
}
#line 99
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__sendDone(message_t *m, error_t err)
#line 57
{
  /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__sendDone(m, err);
}

# 134 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline void InfraredInterceptorP__AckSend__sendDone(message_t *msg, error_t error)
#line 134
{
  if (msg == &InfraredInterceptorP__ackPkt) {
    InfraredInterceptorP__ackBusy = FALSE;
    }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__sendDone(message_t * msg, error_t error){
#line 99
  InfraredInterceptorP__AckSend__sendDone(msg, error);
#line 99
}
#line 99
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__sendDone(message_t *m, error_t err)
#line 57
{
  /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__sendDone(m, err);
}

# 207 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 207
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__sendDone(uint8_t arg_0x40cf1e78, message_t * msg, error_t error){
#line 89
  switch (arg_0x40cf1e78) {
#line 89
    case 0U:
#line 89
      /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__sendDone(msg, error);
#line 89
      break;
#line 89
    case 1U:
#line 89
      /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__sendDone(msg, error);
#line 89
      break;
#line 89
    case 2U:
#line 89
      /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__default__sendDone(arg_0x40cf1e78, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask__runTask(void )
#line 118
{
  uint8_t i;
#line 119
  uint8_t j;
#line 119
  uint8_t mask;
#line 119
  uint8_t last;
  message_t *msg;

#line 121
  for (i = 0; i < 3 / 8 + 1; i++) {
      if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[last].msg;
                  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[last].msg = (void *)0;
                  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__cancelMask[i] &= ~mask;
                  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

#line 161
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__runTask(void )
#line 161
{
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__sendDone(/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current, /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current].msg, FAIL);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__send(am_id_t arg_0x40cee908, am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = InfraredActiveMessageP__AMSend__send(arg_0x40cee908, addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 235 "/usr/lib/ncc/nesc_nx.h>
static __inline  uint8_t __nesc_ntoh_uint8(const void * source)
#line 235
{
  const uint8_t *base = source;

#line 237
  return base[0];
}

# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline infrared_header_t *InfraredPacketC__InfraredPacketBody__getHeader(message_t *msg)
#line 105
{
  return (infrared_header_t *)(msg->data - sizeof(infrared_header_t ));
}











static inline uint8_t InfraredPacketC__Packet__payloadLength(message_t *msg)
#line 119
{
  return __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->length.data);
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static uint8_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__payloadLength(message_t * msg){
#line 67
  unsigned char result;
#line 67

#line 67
  result = InfraredPacketC__Packet__payloadLength(msg);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static am_addr_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__destination(message_t * amsg){
#line 67
  unsigned short result;
#line 67

#line 67
  result = InfraredActiveMessageP__AMPacket__destination(amsg);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketBody.nc"
inline static infrared_header_t *InfraredActiveMessageP__InfraredPacketBody__getHeader(message_t *msg){
#line 72
  nx_struct infrared_header *result;
#line 72

#line 72
  result = InfraredPacketC__InfraredPacketBody__getHeader(msg);
#line 72

#line 72
  return result;
#line 72
}
#line 72
# 120 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline am_id_t InfraredActiveMessageP__AMPacket__type(message_t *amsg)
#line 120
{
  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(amsg);

#line 122
  return __nesc_ntoh_uint8(header->type.data);
}

# 136 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static am_id_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__type(message_t * amsg){
#line 136
  unsigned char result;
#line 136

#line 136
  result = InfraredActiveMessageP__AMPacket__type(amsg);
#line 136

#line 136
  return result;
#line 136
}
#line 136
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__nextPacket(void )
#line 57
{
  uint8_t i;

#line 59
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current + 1) % 3;
  for (i = 0; i < 3; i++) {
      if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current].msg == (void *)0 || 
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__cancelMask[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current / 8] & (1 << /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current % 8)) 
        {
          /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current + 1) % 3;
        }
      else {
          break;
        }
    }
  if (i >= 3) {
#line 70
    /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = 3;
    }
}

#line 166
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__tryToSend(void )
#line 166
{
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__nextPacket();
  if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current < 3) {
      error_t nextErr;
      message_t *nextMsg = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current].msg;
      am_id_t nextId = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__type(nextMsg);
      am_addr_t nextDest = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__destination(nextMsg);
      uint8_t len = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__payloadLength(nextMsg);

#line 174
      nextErr = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__send(nextId, nextDest, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__postTask();
        }
    }
}

# 128 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
static inline am_group_t ActiveMessageAddressC__ActiveMessageAddress__amGroup(void )
#line 128
{
  am_group_t myGroup;

#line 130
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 130
    myGroup = ActiveMessageAddressC__group;
#line 130
    __nesc_atomic_end(__nesc_atomic); }
  return myGroup;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
inline static am_group_t InfraredActiveMessageP__ActiveMessageAddress__amGroup(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = ActiveMessageAddressC__ActiveMessageAddress__amGroup();
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__send(/*InfraredMessageC.SendFromThisHemisphereC*/InfraredDispatcherSenderC__1__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredMessageP__SendFromThisHemisphere__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 292 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline uint8_t InfraredPacketC__InfraredPacket__getThisHemisphereConnector(message_t *msg)
#line 292
{




  return InfraredPacketC__InfraredPacket__getSouthConnector(msg);
}

# 151 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t InfraredMessageP__InfraredPacket__getThisHemisphereConnector(message_t *msg){
#line 151
  unsigned char result;
#line 151

#line 151
  result = InfraredPacketC__InfraredPacket__getThisHemisphereConnector(msg);
#line 151

#line 151
  return result;
#line 151
}
#line 151
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(/*InfraredClientC.SendFromOtherHemisphereC*/RS485DispatcherSenderC__2__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredClientP__ForwardToOtherHemisphere__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
static inline error_t InfraredClientP__SendFromOtherHemisphere__send(message_t *msg, uint8_t len)
#line 56
{
  if (!InfraredClientP__busy) {
      if (InfraredClientP__ForwardToOtherHemisphere__send(msg, len) != SUCCESS) {
        return FAIL;
        }
      else 
#line 60
        {
          InfraredClientP__busy = TRUE;
          InfraredClientP__pendingMsg = msg;
          return SUCCESS;
        }
    }
  else {
    return EBUSY;
    }
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredMessageP__SendFromOtherHemisphere__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = InfraredClientP__SendFromOtherHemisphere__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 200 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline uint8_t InfraredPacketC__InfraredPacket__getNorthConnector(message_t *msg)
#line 200
{
  uint8_t northConnector = 0;
  uint8_t connector = __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data);

  if (connector & CONNECTOR_1) {
    northConnector |= HEMISPHERE_CONNECTOR_1;
    }
  else {
#line 207
    northConnector &= ~HEMISPHERE_CONNECTOR_1;
    }
  if (connector & CONNECTOR_2) {
    northConnector |= HEMISPHERE_CONNECTOR_2;
    }
  else {
#line 212
    northConnector &= ~HEMISPHERE_CONNECTOR_2;
    }
  if (connector & CONNECTOR_3) {
    northConnector |= HEMISPHERE_CONNECTOR_3;
    }
  else {
#line 217
    northConnector &= ~HEMISPHERE_CONNECTOR_3;
    }
  if (connector & CONNECTOR_0) {
    northConnector |= HEMISPHERE_CONNECTOR_4;
    }
  else {
#line 222
    northConnector &= ~HEMISPHERE_CONNECTOR_4;
    }
  return northConnector;
}

#line 311
static inline uint8_t InfraredPacketC__InfraredPacket__getOtherHemisphereConnector(message_t *msg)
#line 311
{




  return InfraredPacketC__InfraredPacket__getNorthConnector(msg);
}

# 170 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t InfraredMessageP__InfraredPacket__getOtherHemisphereConnector(message_t *msg){
#line 170
  unsigned char result;
#line 170

#line 170
  result = InfraredPacketC__InfraredPacket__getOtherHemisphereConnector(msg);
#line 170

#line 170
  return result;
#line 170
}
#line 170
# 81 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline error_t InfraredMessageP__Send__send(message_t *msg, uint8_t len)
#line 81
{

  if (!InfraredMessageP__busy) {

      InfraredMessageP__SendDoneFromOtherHemiPending = FALSE;
      InfraredMessageP__SendDoneFromThisHemiPending = FALSE;
      InfraredMessageP__SendDoneFromOtherHemiError = SUCCESS;
      InfraredMessageP__SendDoneFromThisHemiError = SUCCESS;


      if (InfraredMessageP__InfraredPacket__getOtherHemisphereConnector(msg) != 0) {
          if (InfraredMessageP__SendFromOtherHemisphere__send(msg, len) != SUCCESS) {
            return FAIL;
            }
          else {
#line 95
            InfraredMessageP__SendDoneFromOtherHemiPending = TRUE;
            }
        }
#line 97
      if (InfraredMessageP__InfraredPacket__getThisHemisphereConnector(msg) != 0) {
          if (InfraredMessageP__SendFromThisHemisphere__send(msg, len) != SUCCESS) {
            return FAIL;
            }
          else {
#line 101
            InfraredMessageP__SendDoneFromThisHemiPending = TRUE;
            }
        }
      if (!InfraredMessageP__SendDoneFromOtherHemiPending && !InfraredMessageP__SendDoneFromThisHemiPending) {
        return EINVAL;
        }
#line 106
      InfraredMessageP__busy = TRUE;
      InfraredMessageP__pendingMsg = msg;
      return SUCCESS;
    }
  else {

    return EBUSY;
    }
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredInterceptorP__InfraredSubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = InfraredMessageP__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 109 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline infrared_metadata_t *InfraredPacketC__InfraredPacketBody__getMetadata(message_t *msg)
#line 109
{
  return (infrared_metadata_t *)msg->metadata;
}

#line 158
static inline void InfraredPacketC__InfraredPacket__setWasAcked(message_t *msg, bool val)
#line 158
{
  __nesc_hton_int8(InfraredPacketC__InfraredPacketBody__getMetadata(msg)->wasAcked.data, val);
  return;
}

# 91 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static void InfraredInterceptorP__InfraredPacket__setWasAcked(message_t *msg, bool val){
#line 91
  InfraredPacketC__InfraredPacket__setWasAcked(msg, val);
#line 91
}
#line 91
#line 76
inline static void InfraredInterceptorP__InfraredPacket__setSeqNo(message_t *msg, uint8_t seqNo){
#line 76
  InfraredPacketC__InfraredPacket__setSeqNo(msg, seqNo);
#line 76
}
#line 76







inline static bool InfraredInterceptorP__InfraredPacket__requestsAck(message_t *msg){
#line 83
  unsigned char result;
#line 83

#line 83
  result = InfraredPacketC__InfraredPacket__requestsAck(msg);
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline error_t InfraredInterceptorP__InfraredSend__send(message_t *msg, uint8_t len)
#line 98
{
  if (InfraredInterceptorP__InfraredPacket__requestsAck(msg)) {
      InfraredInterceptorP__InfraredPacket__setSeqNo(msg, ++InfraredInterceptorP__seqNo);

      InfraredInterceptorP__InfraredPacket__setWasAcked(msg, FALSE);
      InfraredInterceptorP__waitingForAckSeqNo = InfraredInterceptorP__seqNo;
      InfraredInterceptorP__waitingForAckPtr = msg;
    }
  return InfraredInterceptorP__InfraredSubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredActiveMessageP__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = InfraredInterceptorP__InfraredSend__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 387 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline uint8_t InfraredSerialDispatcherP__PacketInfo__default__dataLinkLength(uart_id_t id, message_t *msg, 
uint8_t upperLen)
#line 388
{
  return 0;
}

# 23 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t InfraredSerialDispatcherP__PacketInfo__dataLinkLength(uart_id_t arg_0x4097bc80, message_t *msg, uint8_t upperLen){
#line 23
  unsigned char result;
#line 23

#line 23
  switch (arg_0x4097bc80) {
#line 23
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 23
      result = SerialPacketInfoActiveMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RS485_ID:
#line 23
      result = SerialPacketInfoRS485MessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 23
      result = SerialPacketInfoInfraredMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    case TOS_SERIAL_RPC_REPLY_ID:
#line 23
      result = SerialPacketInfoRpcMessageP__Info__dataLinkLength(msg, upperLen);
#line 23
      break;
#line 23
    default:
#line 23
      result = InfraredSerialDispatcherP__PacketInfo__default__dataLinkLength(arg_0x4097bc80, msg, upperLen);
#line 23
      break;
#line 23
    }
#line 23

#line 23
  return result;
#line 23
}
#line 23
# 151 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t InfraredSerialDispatcherP__InfraredPacket__getThisHemisphereConnector(message_t *msg){
#line 151
  unsigned char result;
#line 151

#line 151
  result = InfraredPacketC__InfraredPacket__getThisHemisphereConnector(msg);
#line 151

#line 151
  return result;
#line 151
}
#line 151
# 620 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline error_t InfraredSerialP__SendBytePacket__startSend(uint8_t b, uint8_t chan)
#line 620
{
  bool not_busy = FALSE;

#line 622
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 622
    {
      if (InfraredSerialP__txBuf[InfraredSerialP__TX_DATA_INDEX].state == InfraredSerialP__BUFFER_AVAILABLE) {
          InfraredSerialP__txBuf[InfraredSerialP__TX_DATA_INDEX].state = InfraredSerialP__BUFFER_FILLING;
          InfraredSerialP__txBuf[InfraredSerialP__TX_DATA_INDEX].buf = b;
          InfraredSerialP__txChannel = chan;
          not_busy = TRUE;
        }
    }
#line 629
    __nesc_atomic_end(__nesc_atomic); }
  if (not_busy) {
      InfraredSerialP__MaybeScheduleTx();
      return SUCCESS;
    }
  return EBUSY;
}

# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
inline static error_t InfraredSerialDispatcherP__SendBytePacket__startSend(uint8_t first_byte, uint8_t channel){
#line 52
  unsigned char result;
#line 52

#line 52
  result = InfraredSerialP__SendBytePacket__startSend(first_byte, channel);
#line 52

#line 52
  return result;
#line 52
}
#line 52
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__RunTx__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__RunTx);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__ExpireTimer__default__startOneShot(uint8_t connector, uint32_t dt)
#line 110
{
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void IsAliveP__ExpireTimer__startOneShot(uint8_t arg_0x40fc3350, uint32_t dt){
#line 62
  switch (arg_0x40fc3350) {
#line 62
    case CONNECTOR_0:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(14U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_1:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(15U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_2:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(16U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_3:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(17U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_4:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(18U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_5:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(19U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_6:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(20U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_7:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(21U, dt);
#line 62
      break;
#line 62
    default:
#line 62
      IsAliveP__ExpireTimer__default__startOneShot(arg_0x40fc3350, dt);
#line 62
      break;
#line 62
    }
#line 62
}
#line 62
# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__updateHiTrafficConnectors__runTask(void )
#line 55
{


  uint8_t i;

#line 59
  for (i = 0; i < 8; i++) {
      if ((IsAliveP__justSentOverThisConn >> i) & 0x1) {
          IsAliveP__hiTrafficConnectors |= 0x1 << i;
          IsAliveP__ExpireTimer__startOneShot(0x1 << i, IS_ALIVE_EXPIRE_TIME);
        }
    }
  IsAliveP__justSentOverThisConn = 0;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredInterceptorP__sendAck__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredInterceptorP__sendAck);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(2U, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 151 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setType(message_t * amsg, am_id_t t){
#line 151
  InfraredActiveMessageP__AMPacket__setType(amsg, t);
#line 151
}
#line 151
#line 92
inline static void /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setDestination(message_t * amsg, am_addr_t addr){
#line 92
  InfraredActiveMessageP__AMPacket__setDestination(amsg, addr);
#line 92
}
#line 92
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len)
#line 47
{
  /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setDestination(msg, dest);
  /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMPacket__setType(msg, 129);
  return /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__Send__send(msg, len);
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t InfraredInterceptorP__AckSend__send(am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*InfraredInterceptorC.AckSender.AMQueueEntryP*/AMQueueEntryP__3__AMSend__send(addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 108 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static void InfraredInterceptorP__InfraredPacket__setConnector(message_t *msg, uint8_t conn){
#line 108
  InfraredPacketC__InfraredPacket__setConnector(msg, conn);
#line 108
}
#line 108
# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline void InfraredInterceptorP__sendAck__runTask(void )
#line 71
{
  if (!InfraredInterceptorP__ackBusy) {
      InfraredInterceptorP__InfraredPacket__setConnector(&InfraredInterceptorP__ackPkt, InfraredInterceptorP__connToAck);
      InfraredInterceptorP__InfraredPacket__setSeqNo(&InfraredInterceptorP__ackPkt, InfraredInterceptorP__seqNoToAck);
      if (InfraredInterceptorP__AckSend__send(AM_BROADCAST_ADDR, &InfraredInterceptorP__ackPkt, 0) == SUCCESS) {
        InfraredInterceptorP__ackBusy = TRUE;
        }
    }
  else {
#line 79
    InfraredInterceptorP__sendAck__postTask();
    }
}

# 123 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline void InfraredPacketC__Packet__setPayloadLength(message_t *msg, uint8_t len)
#line 123
{
  __nesc_hton_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->length.data, len);
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__setPayloadLength(message_t * msg, uint8_t len){
#line 83
  InfraredPacketC__Packet__setPayloadLength(msg, len);
#line 83
}
#line 83
# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t NeighborTableP__Connector__extend(uint8_t arg_0x40f88378){
#line 49
  unsigned char result;
#line 49

#line 49
  result = ConnectorsImplP__Connector__extend(arg_0x40f88378);
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 63 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static __inline uint8_t NeighborTableP__connNumberFromBitmask(uint8_t mask)
#line 63
{
  uint8_t i;

#line 65
  for (i = 0; i < 8; i++) {
      if ((mask >> i) & 0x1) {
        return i + 1;
        }
    }
#line 69
  return 0;
}











static inline void NeighborTableP__NeighborTable__present(uint8_t connector, am_addr_t moduleId)
#line 82
{
  uint8_t connNumber = NeighborTableP__connNumberFromBitmask(connector);


  if (NeighborTableP__table.populatedConnBitmask & connector) {
      NeighborTableP__ExpireTimer__startOneShot(connector, NEIGHBOR_EXPIRE_TIME);
    }
  else {
    if (++NeighborTableP__connectionPings[connNumber] == 4) {

        NeighborTableP__table.populatedConnBitmask |= connector;

        NeighborTableP__table.neighbor[connNumber] = moduleId;

        NeighborTableP__ExpireTimer__startOneShot(connector, NEIGHBOR_EXPIRE_TIME);

        if (NeighborTableP__assemblyMode) {
          NeighborTableP__Connector__extend(connector);
          }
      }
    }
}

# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTable.nc"
inline static void InfraredInterceptorP__NeighborTable__present(uint8_t connector, am_addr_t moduleId){
#line 43
  NeighborTableP__NeighborTable__present(connector, moduleId);
#line 43
}
#line 43
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline void InfraredInterceptorP__updateTable__runTask(void )
#line 67
{
  InfraredInterceptorP__NeighborTable__present(InfraredInterceptorP__connectorToUpdate, InfraredInterceptorP__addressToAdd);
}

# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extend(void )
#line 54
{
  if (/*Connector2ClientC.client*/ConnectorClientP__1__connector == MALE_CONNECTOR_EXTENDED) {
    return EALREADY;
    }
#line 57
  /*Connector2ClientC.client*/ConnectorClientP__1__connector = MALE_CONNECTOR_EXTENDING;
  /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask();
  return SUCCESS;
}

# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t ConnectorsImplP__Connector0__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 54 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extend(void )
#line 54
{
  if (/*Connector1ClientC.client*/ConnectorClientP__0__connector == MALE_CONNECTOR_EXTENDED) {
    return EALREADY;
    }
#line 57
  /*Connector1ClientC.client*/ConnectorClientP__0__connector = MALE_CONNECTOR_EXTENDING;
  /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask();
  return SUCCESS;
}

# 49 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t ConnectorsImplP__Connector2__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
inline static error_t ConnectorsImplP__Connector4__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
inline static error_t ConnectorsImplP__Connector6__extend(void ){
#line 49
  unsigned char result;
#line 49

#line 49
  result = /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extend();
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredMessageP__signalSendDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredMessageP__signalSendDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 138 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline void InfraredMessageP__SendFromOtherHemisphere__sendDone(message_t *msg, error_t result)
#line 138
{


  if (!InfraredMessageP__busy) {
    return;
    }
#line 143
  InfraredMessageP__SendDoneFromOtherHemiPending = FALSE;
  InfraredMessageP__SendDoneFromOtherHemiError = result;
  if (!InfraredMessageP__SendDoneFromThisHemiPending) {
    InfraredMessageP__signalSendDone__postTask();
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void InfraredClientP__SendFromOtherHemisphere__sendDone(message_t * msg, error_t error){
#line 89
  InfraredMessageP__SendFromOtherHemisphere__sendDone(msg, error);
#line 89
}
#line 89
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
static inline void InfraredClientP__signalSendDone__runTask(void )
#line 51
{
  InfraredClientP__busy = FALSE;
  InfraredClientP__SendFromOtherHemisphere__sendDone(InfraredClientP__pendingMsg, InfraredClientP__sendDoneError);
}

# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask__runTask(void )
#line 137
{
  uint8_t i;
#line 138
  uint8_t j;
#line 138
  uint8_t mask;
#line 138
  uint8_t last;
  message_t *msg;

#line 140
  for (i = 0; i < 8 / 8 + 1; i++) {
      if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[last].msg;
                  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[last].msg = (void *)0;
                  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__cancelMask[i] &= ~mask;
                  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__sendDone(message_t *msg, error_t error)
#line 58
{

  if (msg == &/*ZaxisServerC.server*/RpcRead16ServerP__1__pkt) {
      /*ZaxisServerC.server*/RpcRead16ServerP__1__busy = FALSE;
      if (error != SUCCESS) {
        /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*ZaxisServerC.server*/RpcRead16ServerP__1__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__Send__sendDone(m, err);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/DebugLedsServerP.nc"
static inline void DebugLedsServerP__SendReply__sendDone(message_t *msg, error_t error)
#line 62
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__Send__sendDone(message_t * msg, error_t error){
#line 89
  DebugLedsServerP__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__Send__sendDone(m, err);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelServerP.nc"
static inline void InfraredChannelServerP__SendReply__sendDone(message_t *msg, error_t error)
#line 62
{

  if (msg == &InfraredChannelServerP__pkt) {
      InfraredChannelServerP__busy = FALSE;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredChannelServerP__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__Send__sendDone(m, err);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
static inline void /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__sendDone(message_t *msg, error_t error)
#line 62
{

  if (msg == &/*ProximityServerC.server*/RpcRead8ServerProximityP__0__pkt) {
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*ProximityServerC.server*/RpcRead8ServerProximityP__0__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__Send__sendDone(m, err);
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline void /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__sendDone(message_t *msg, error_t error)
#line 58
{

  if (msg == &/*XaxisServerC.server*/RpcRead16ServerP__0__pkt) {
      /*XaxisServerC.server*/RpcRead16ServerP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*XaxisServerC.server*/RpcRead16ServerP__0__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__Send__sendDone(m, err);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__sendDone(message_t *msg, error_t error)
#line 62
{

  if (msg == &/*Connector2ServerC.server*/ConnectorServerP__1__pkt) {
      /*Connector2ServerC.server*/ConnectorServerP__1__busy = FALSE;
      if (error != SUCCESS) {
        /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*Connector2ServerC.server*/ConnectorServerP__1__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__Send__sendDone(m, err);
}

# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline void /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__sendDone(message_t *msg, error_t error)
#line 62
{

  if (msg == &/*Connector1ServerC.server*/ConnectorServerP__0__pkt) {
      /*Connector1ServerC.server*/ConnectorServerP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*Connector1ServerC.server*/ConnectorServerP__0__SendReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__Send__sendDone(m, err);
}

# 88 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredServerP.nc"
static inline void InfraredServerP__SendForwardReply__sendDone(message_t *msg, error_t result)
#line 88
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredServerP__SendForwardReply__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__sendDone(m, err);
}

# 173 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__sendDone(uint8_t last, message_t *msg, error_t err)
#line 173
{
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[last].msg = (void *)0;
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__tryToSend();
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__sendDone(last, msg, err);
}

static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__runTask(void )
#line 179
{
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__sendDone(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current, /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current].msg, FAIL);
}

#line 81
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__nextPacket(void )
#line 81
{
  uint8_t i;

#line 83
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current + 1) % 8;
  for (i = 0; i < 8; i++) {
      if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current].msg == (void *)0 || 
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__cancelMask[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current / 8] & (1 << /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current % 8)) 
        {
          /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current + 1) % 8;
        }
      else {
          break;
        }
    }
  if (i >= 8) {
#line 94
    /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = 8;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
inline static error_t InfraredServerP__sendReply__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredServerP__sendReply);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 82 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredServerP.nc"
static inline void InfraredServerP__InfraredSend__sendDone(message_t *msg, error_t result)
#line 82
{
  InfraredServerP__busy = FALSE;
  InfraredServerP__replyError = result;
  InfraredServerP__sendReply__postTask();
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredServerP__InfraredSend__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__sendDone(msg, error);
}

# 131 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline void InfraredMessageP__SendFromThisHemisphere__sendDone(message_t *msg, error_t result)
#line 131
{
  InfraredMessageP__SendDoneFromThisHemiPending = FALSE;
  InfraredMessageP__SendDoneFromThisHemiError = result;
  if (!InfraredMessageP__SendDoneFromOtherHemiPending) {
    InfraredMessageP__signalSendDone__postTask();
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredMessageP__SendFromThisHemisphere__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__Send__sendDone(msg, error);
}

# 229 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 229
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__sendDone(uint8_t arg_0x40c921e0, message_t * msg, error_t error){
#line 89
  switch (arg_0x40c921e0) {
#line 89
    case /*InfraredServerC.SendOnBehalfOfTheOtherC*/InfraredDispatcherSenderC__0__CLIENT_ID:
#line 89
      /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InfraredMessageC.SendFromThisHemisphereC*/InfraredDispatcherSenderC__1__CLIENT_ID:
#line 89
      /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__default__sendDone(arg_0x40c921e0, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 142 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask__runTask(void )
#line 142
{
  uint8_t i;
#line 143
  uint8_t j;
#line 143
  uint8_t mask;
#line 143
  uint8_t last;
  message_t *msg;

#line 145
  for (i = 0; i < 2 / 8 + 1; i++) {
      if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[last].msg;
                  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[last].msg = (void *)0;
                  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__cancelMask[i] &= ~mask;
                  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

#line 184
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__runTask(void )
#line 184
{
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__sendDone(/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current, /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current].msg, FAIL);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__send(uint8_t arg_0x40c92c88, message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = InfraredSerialDispatcherP__Send__send(arg_0x40c92c88, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline uint8_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__get(void )
#line 89
{
  return 5;
}

#line 89
static inline uint8_t /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__get(void )
#line 89
{
  return 5;
}

# 233 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline uint8_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__default__get(uint8_t client)
#line 233
{
  return 0;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
inline static /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__val_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__get(uint8_t arg_0x40c91898){
#line 55
  unsigned char result;
#line 55

#line 55
  switch (arg_0x40c91898) {
#line 55
    case /*InfraredServerC.SendOnBehalfOfTheOtherC*/InfraredDispatcherSenderC__0__CLIENT_ID:
#line 55
      result = /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__DispatcherId__get();
#line 55
      break;
#line 55
    case /*InfraredMessageC.SendFromThisHemisphereC*/InfraredDispatcherSenderC__1__CLIENT_ID:
#line 55
      result = /*InfraredMessageC.SendFromThisHemisphereC.queueEntry*/DispatcherQueueEntryP__5__DispatcherId__get();
#line 55
      break;
#line 55
    default:
#line 55
      result = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__default__get(arg_0x40c91898);
#line 55
      break;
#line 55
    }
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 86 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__nextPacket(void )
#line 86
{
  uint8_t i;

#line 88
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current + 1) % 2;
  for (i = 0; i < 2; i++) {
      if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current].msg == (void *)0 || 
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__cancelMask[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current / 8] & (1 << /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current % 8)) 
        {
          /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current + 1) % 2;
        }
      else {
          break;
        }
    }
  if (i >= 2) {
#line 99
    /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = 2;
    }
}

#line 189
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__tryToSend(void )
#line 189
{
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__nextPacket();
  if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current < 2) {
      error_t nextErr;
      message_t *nextMsg = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current].msg;
      uint8_t len = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current].len;
      uint8_t dispatcherId = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__get(/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current);

#line 196
      nextErr = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__send(dispatcherId, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__postTask();
        }
    }
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(/*InfraredServerC.rpcServer.sender*/RpcReplySenderC__0__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredServerP__SendForwardReply__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__getPayload(/*InfraredServerC.rpcServer.sender*/RpcReplySenderC__0__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * InfraredServerP__SendForwardReply__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredServerP.nc"
static inline void InfraredServerP__sendReply__runTask(void )
#line 55
{
  RpcReplyOtherHemiIR *payload = InfraredServerP__SendForwardReply__getPayload(&InfraredServerP__replyPkt, sizeof(RpcReplyOtherHemiIR ));

#line 57
  __nesc_hton_uint8(payload->error.data, InfraredServerP__replyError);
  if (InfraredServerP__SendForwardReply__send(&InfraredServerP__replyPkt, sizeof(RpcReplyOtherHemiIR )) != SUCCESS) {
    InfraredServerP__sendReply__postTask();
    }
}

# 181 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__sendDone(am_id_t id, message_t *msg, error_t err)
#line 181
{





  if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current >= 3) {
      return;
    }
  if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current].msg == msg) {
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__sendDone(/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current, msg, err);
    }
  else {
      ;
    }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void InfraredActiveMessageP__AMSend__sendDone(am_id_t arg_0x40fd0d90, message_t * msg, error_t error){
#line 99
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__sendDone(arg_0x40fd0d90, msg, error);
#line 99
}
#line 99
# 176 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline void InfraredActiveMessageP__SubSend__sendDone(message_t *msg, error_t result)
#line 176
{
  InfraredActiveMessageP__AMSend__sendDone(InfraredActiveMessageP__AMPacket__type(msg), msg, result);
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void InfraredInterceptorP__InfraredSend__sendDone(message_t * msg, error_t error){
#line 89
  InfraredActiveMessageP__SubSend__sendDone(msg, error);
#line 89
}
#line 89
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t InfraredInterceptorP__InfraredPacket__getConnector(message_t *msg){
#line 99
  unsigned char result;
#line 99

#line 99
  result = InfraredPacketC__InfraredPacket__getConnector(msg);
#line 99

#line 99
  return result;
#line 99
}
#line 99
# 79 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__IsAlive__msgSent(uint8_t connector)
#line 79
{






  return;
}

# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.nc"
inline static void InfraredInterceptorP__IsAlive__msgSent(uint8_t connector){
#line 52
  IsAliveP__IsAlive__msgSent(connector);
#line 52
}
#line 52
# 122 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline void InfraredInterceptorP__InfraredSubSend__sendDone(message_t *msg, error_t error)
#line 122
{


  if (error == SUCCESS) {
    InfraredInterceptorP__IsAlive__msgSent(InfraredInterceptorP__InfraredPacket__getConnector(msg));
    }
#line 127
  InfraredInterceptorP__InfraredSend__sendDone(msg, error);
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void InfraredMessageP__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredInterceptorP__InfraredSubSend__sendDone(msg, error);
#line 89
}
#line 89
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline void InfraredMessageP__signalSendDone__runTask(void )
#line 75
{
  InfraredMessageP__busy = FALSE;
  InfraredMessageP__Send__sendDone(InfraredMessageP__pendingMsg, ecombine(InfraredMessageP__SendDoneFromThisHemiError, InfraredMessageP__SendDoneFromOtherHemiError));
}

# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
static inline void StateImplP__State__toIdle(uint8_t id)
#line 118
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 119
    StateImplP__state[id] = StateImplP__S_IDLE;
#line 119
    __nesc_atomic_end(__nesc_atomic); }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
inline static void AvrDirectStorageP__State__toIdle(void ){
#line 56
  StateImplP__State__toIdle(0U);
#line 56
}
#line 56
# 289 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
static inline void AvrDirectStorageP__checkReady__runTask(void )
#line 289
{
  while (! !(* (volatile uint8_t *)(uint16_t )& * (volatile uint8_t *)(0x1C + 0x20) & (1 << 1))) ;
  AvrDirectStorageP__State__toIdle();
}

# 142 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask__runTask(void )
#line 142
{
  uint8_t i;
#line 143
  uint8_t j;
#line 143
  uint8_t mask;
#line 143
  uint8_t last;
  message_t *msg;

#line 145
  for (i = 0; i < 4 / 8 + 1; i++) {
      if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[last].msg;
                  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[last].msg = (void *)0;
                  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__cancelMask[i] &= ~mask;
                  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

# 64 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredForwarderP.nc"
static inline void InfraredForwarderP__HemisphereForward__sendDone(message_t *msg, error_t error)
#line 64
{
  InfraredForwarderP__HemisphereForwardBusy = FALSE;
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredForwarderP__HemisphereForward__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__Send__sendDone(msg, error);
}

# 83 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
static inline void InfraredClientP__ForwardToOtherHemisphere__sendDone(message_t *msg, error_t result)
#line 83
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredClientP__ForwardToOtherHemisphere__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__Send__sendDone(msg, error);
}

# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacket.nc"
inline static rpc_id_t RpcMessageP__RpcPacket__getId(message_t *msg){
#line 48
  unsigned char result;
#line 48

#line 48
  result = RpcPacketC__RpcPacket__getId(msg);
#line 48

#line 48
  return result;
#line 48
}
#line 48
# 198 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__sendDone(uint8_t rpc, message_t *msg, error_t err)
#line 198
{





  if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current >= 8) {
      return;
    }
  if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current].msg == msg) {
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__sendDone(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current, msg, err);
    }
  else {
      ;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void RpcMessageP__SendReply__sendDone(rpc_id_t arg_0x40de4958, message_t * msg, error_t error){
#line 89
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__sendDone(arg_0x40de4958, msg, error);
#line 89
}
#line 89
# 116 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline void RpcMessageP__ReplySubSend__sendDone(message_t *msg, error_t error)
#line 116
{
  RpcMessageP__SendReply__sendDone(RpcMessageP__RpcPacket__getId(msg), msg, error);
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__sendDone(message_t * msg, error_t error){
#line 89
  RpcMessageP__ReplySubSend__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__Send__sendDone(msg, error);
}

# 173 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__sendDone(uint8_t last, message_t *msg, error_t err)
#line 173
{
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[last].msg = (void *)0;
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__tryToSend();
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__sendDone(last, msg, err);
}

#line 198
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__sendDone(uint8_t rpc, message_t *msg, error_t err)
#line 198
{





  if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current >= 11) {
      return;
    }
  if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current].msg == msg) {
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__sendDone(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current, msg, err);
    }
  else {
      ;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void RpcMessageP__SendRequest__sendDone(rpc_id_t arg_0x40de7ec0, message_t * msg, error_t error){
#line 89
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__sendDone(arg_0x40de7ec0, msg, error);
#line 89
}
#line 89
# 112 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline void RpcMessageP__RequestSubSend__sendDone(message_t *msg, error_t error)
#line 112
{
  RpcMessageP__SendRequest__sendDone(RpcMessageP__RpcPacket__getId(msg), msg, error);
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__sendDone(message_t * msg, error_t error){
#line 89
  RpcMessageP__RequestSubSend__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__Send__sendDone(msg, error);
}

# 81 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__nextPacket(void )
#line 81
{
  uint8_t i;

#line 83
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current + 1) % 11;
  for (i = 0; i < 11; i++) {
      if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current].msg == (void *)0 || 
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__cancelMask[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current / 8] & (1 << /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current % 8)) 
        {
          /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current + 1) % 11;
        }
      else {
          break;
        }
    }
  if (i >= 11) {
#line 94
    /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = 11;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcReadClientP.nc"
static inline void /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__sendDone(message_t *msg, error_t error)
#line 67
{

  if (msg == &/*InitNorthStateClientC.client*/RpcReadClientP__0__pkt) {
      /*InitNorthStateClientC.client*/RpcReadClientP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*InitNorthStateClientC.client*/RpcReadClientP__0__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__Send__sendDone(m, err);
}

# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelClientP.nc"
static inline void InfraredChannelClientP__SendRequest__sendDone(message_t *msg, error_t error)
#line 69
{

  if (msg == &InfraredChannelClientP__pkt) {
      InfraredChannelClientP__busy = FALSE;
      if (error != SUCCESS) {
        InfraredChannelClientP__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredChannelClientP__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__Send__sendDone(m, err);
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__sendDone(message_t *msg, error_t error)
#line 58
{

  if (msg == &/*YaxisC.client*/RpcRead16ClientP__2__pkt) {
      /*YaxisC.client*/RpcRead16ClientP__2__busy = FALSE;
      if (error != SUCCESS) {
        /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*YaxisC.client*/RpcRead16ClientP__2__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__Send__sendDone(m, err);
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__sendDone(message_t *msg, error_t error)
#line 58
{

  if (msg == &/*OtherXaxisC.client*/RpcRead16ClientP__1__pkt) {
      /*OtherXaxisC.client*/RpcRead16ClientP__1__busy = FALSE;
      if (error != SUCCESS) {
        /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*OtherXaxisC.client*/RpcRead16ClientP__1__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__Send__sendDone(m, err);
}

# 164 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__SendRequestDegreesUpdate__sendDone(message_t *msg, error_t error)
#line 164
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__Send__sendDone(message_t * msg, error_t error){
#line 89
  CentralJointClientP__SendRequestDegreesUpdate__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__Send__sendDone(m, err);
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline void /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__sendDone(message_t *msg, error_t error)
#line 58
{

  if (msg == &/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__pkt) {
      /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__Send__sendDone(m, err);
}

# 154 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__SendRequest__sendDone(message_t *msg, error_t error)
#line 154
{

  if (msg == &CentralJointClientP__pkt) {
      CentralJointClientP__busy = FALSE;
      if (error != SUCCESS) {
        CentralJointClientP__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__sendDone(message_t * msg, error_t error){
#line 89
  CentralJointClientP__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__Send__sendDone(m, err);
}

# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline void /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__sendDone(message_t *msg, error_t error)
#line 75
{

  if (msg == &/*Connector2ClientC.client*/ConnectorClientP__1__pkt) {
      /*Connector2ClientC.client*/ConnectorClientP__1__busy = FALSE;
      if (error != SUCCESS) {
        /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*Connector2ClientC.client*/ConnectorClientP__1__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__Send__sendDone(m, err);
}

# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline void /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__sendDone(message_t *msg, error_t error)
#line 75
{

  if (msg == &/*Connector1ClientC.client*/ConnectorClientP__0__pkt) {
      /*Connector1ClientC.client*/ConnectorClientP__0__busy = FALSE;
      if (error != SUCCESS) {
        /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*Connector1ClientC.client*/ConnectorClientP__0__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__Send__sendDone(m, err);
}

# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
static inline void InfraredClientP__SendRequest__sendDone(message_t *msg, error_t result)
#line 98
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__Send__sendDone(message_t * msg, error_t error){
#line 89
  InfraredClientP__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__Send__sendDone(m, err);
}

# 243 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
static inline void LedsClientP__SendRequest__sendDone(message_t *msg, error_t error)
#line 243
{

  if (msg == &LedsClientP__pkt) {
      LedsClientP__busy = FALSE;
      if (error != SUCCESS) {

        LedsClientP__sendRequest__postTask();
        }
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__sendDone(message_t * msg, error_t error){
#line 89
  LedsClientP__SendRequest__sendDone(msg, error);
#line 89
}
#line 89
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__sendDone(message_t *m, error_t err)
#line 76
{
  /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__sendDone(m, err);
}

# 178 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__sendDone(uint8_t last, message_t *msg, error_t err)
#line 178
{
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[last].msg = (void *)0;
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__tryToSend();
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__sendDone(last, msg, err);
}

static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__runTask(void )
#line 184
{
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__sendDone(/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current, /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current].msg, FAIL);
}

#line 86
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__nextPacket(void )
#line 86
{
  uint8_t i;

#line 88
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current + 1) % 4;
  for (i = 0; i < 4; i++) {
      if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current].msg == (void *)0 || 
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__cancelMask[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current / 8] & (1 << /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current % 8)) 
        {
          /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current + 1) % 4;
        }
      else {
          break;
        }
    }
  if (i >= 4) {
#line 99
    /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = 4;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask__runTask(void )
#line 137
{
  uint8_t i;
#line 138
  uint8_t j;
#line 138
  uint8_t mask;
#line 138
  uint8_t last;
  message_t *msg;

#line 140
  for (i = 0; i < 11 / 8 + 1; i++) {
      if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[last].msg;
                  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[last].msg = (void *)0;
                  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__cancelMask[i] &= ~mask;
                  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

#line 179
static inline void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__runTask(void )
#line 179
{
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__sendDone(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current, /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current].msg, FAIL);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(/*LedsClientC.rpcClient.sender*/RpcRequestSenderC__0__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline error_t /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__send(message_t *msg, uint8_t len)
#line 68
{
  return /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t LedsClientP__SendRequest__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
#line 114
inline static void * /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__getPayload(/*LedsClientC.rpcClient.sender*/RpcRequestSenderC__0__CLIENT_ID, msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 84 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueEntryP.nc"
static inline void */*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__getPayload(message_t *m, uint8_t len)
#line 84
{
  return /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__getPayload(m, len);
}

# 114 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void * LedsClientP__SendRequest__getPayload(message_t * msg, uint8_t len){
#line 114
  void *result;
#line 114

#line 114
  result = /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__Send__getPayload(msg, len);
#line 114

#line 114
  return result;
#line 114
}
#line 114
# 259 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
static inline void LedsClientP__sendRequest__runTask(void )
#line 259
{
  if (!LedsClientP__busy) {
      RpcRequestLeds *payload = LedsClientP__SendRequest__getPayload(&LedsClientP__pkt, sizeof(RpcRequestLeds ));

#line 262
      __nesc_hton_uint8(payload->leds.data, LedsClientP__leds);
      if (LedsClientP__SendRequest__send(&LedsClientP__pkt, sizeof(RpcRequestLeds )) == SUCCESS) {
        LedsClientP__busy = TRUE;
        }
      else {
        LedsClientP__sendRequest__postTask();
        }
    }
  else {
    LedsClientP__sendRequest__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t PrintfP__retrySend__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(PrintfP__retrySend);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t PrintfP__AMSend__send(am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__send(addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 127 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static inline void PrintfP__retrySend__runTask(void )
#line 127
{
  if (PrintfP__AMSend__send(AM_BROADCAST_ADDR, &PrintfP__printfMsg, sizeof(printf_msg_t )) != SUCCESS) {
    PrintfP__retrySend__postTask();
    }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__sendDone(message_t * msg, error_t error){
#line 99
  PrintfP__AMSend__sendDone(msg, error);
#line 99
}
#line 99
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline void /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__sendDone(message_t *m, error_t err)
#line 57
{
  /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__sendDone(m, err);
}

# 207 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 207
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__sendDone(uint8_t arg_0x40cf1e78, message_t * msg, error_t error){
#line 89
  switch (arg_0x40cf1e78) {
#line 89
    case 0U:
#line 89
      /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__default__sendDone(arg_0x40cf1e78, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask__runTask(void )
#line 118
{
  uint8_t i;
#line 119
  uint8_t j;
#line 119
  uint8_t mask;
#line 119
  uint8_t last;
  message_t *msg;

#line 121
  for (i = 0; i < 1 / 8 + 1; i++) {
      if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[last].msg;
                  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[last].msg = (void *)0;
                  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__cancelMask[i] &= ~mask;
                  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

#line 161
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__runTask(void )
#line 161
{
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__sendDone(/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current, /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current].msg, FAIL);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 106 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline uint8_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__payloadLength(message_t *msg)
#line 106
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(msg);

#line 108
  return __nesc_ntoh_uint8(header->length.data);
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static uint8_t /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__payloadLength(message_t * msg){
#line 67
  unsigned char result;
#line 67

#line 67
  result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__payloadLength(msg);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__nextPacket(void )
#line 57
{
  uint8_t i;

#line 59
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current + 1) % 1;
  for (i = 0; i < 1; i++) {
      if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current].msg == (void *)0 || 
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__cancelMask[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current / 8] & (1 << /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current % 8)) 
        {
          /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current + 1) % 1;
        }
      else {
          break;
        }
    }
  if (i >= 1) {
#line 70
    /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current = 1;
    }
}

#line 166
static inline void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__tryToSend(void )
#line 166
{
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__nextPacket();
  if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current < 1) {
      error_t nextErr;
      message_t *nextMsg = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current].msg;
      am_id_t nextId = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__type(nextMsg);
      am_addr_t nextDest = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMPacket__destination(nextMsg);
      uint8_t len = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Packet__payloadLength(nextMsg);

#line 174
      nextErr = /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__send(nextId, nextDest, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__postTask();
        }
    }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__sendDone(am_id_t arg_0x40ae7010, message_t * msg, error_t error){
#line 99
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__sendDone(arg_0x40ae7010, msg, error);
#line 99
}
#line 99
# 85 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline void /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__sendDone(message_t *msg, error_t result)
#line 85
{
  /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__sendDone(/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(msg), msg, result);
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__sendDone(message_t * msg, error_t error){
#line 89
  /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__sendDone(msg, error);
#line 89
}
#line 89
# 73 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline void /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__sendDone(message_t *msg, error_t error)
#line 73
{
  /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__Send__sendDone(msg, error);
}

# 229 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 229
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__sendDone(uint8_t arg_0x40c921e0, message_t * msg, error_t error){
#line 89
  switch (arg_0x40c921e0) {
#line 89
    case /*SerialActiveMessageC.sender*/SerialDispatcherSenderC__0__CLIENT_ID:
#line 89
      /*SerialActiveMessageC.sender.queueEntry*/DispatcherQueueEntryP__0__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__default__sendDone(arg_0x40c921e0, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 142 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask__runTask(void )
#line 142
{
  uint8_t i;
#line 143
  uint8_t j;
#line 143
  uint8_t mask;
#line 143
  uint8_t last;
  message_t *msg;

#line 145
  for (i = 0; i < 1 / 8 + 1; i++) {
      if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__cancelMask[i]) {
          for (mask = 1, j = 0; j < 8; j++) {
              if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__cancelMask[i] & mask) {
                  last = i * 8 + j;
                  msg = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[last].msg;
                  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[last].msg = (void *)0;
                  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__cancelMask[i] &= ~mask;
                  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__sendDone(last, msg, ECANCEL);
                }
              mask <<= 1;
            }
        }
    }
}

#line 184
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__runTask(void )
#line 184
{
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__sendDone(/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current, /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current].msg, FAIL);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 86 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__nextPacket(void )
#line 86
{
  uint8_t i;

#line 88
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current + 1) % 1;
  for (i = 0; i < 1; i++) {
      if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current].msg == (void *)0 || 
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__cancelMask[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current / 8] & (1 << /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current % 8)) 
        {
          /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current + 1) % 1;
        }
      else {
          break;
        }
    }
  if (i >= 1) {
#line 99
    /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current = 1;
    }
}

#line 189
static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__tryToSend(void )
#line 189
{
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__nextPacket();
  if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current < 1) {
      error_t nextErr;
      message_t *nextMsg = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current].msg;
      uint8_t len = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current].len;
      uint8_t dispatcherId = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__DispatcherId__get(/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current);

#line 196
      nextErr = /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__send(dispatcherId, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__postTask();
        }
    }
}

static inline void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err)
#line 203
{





  if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current >= 1) {
      return;
    }
  if (/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current].msg == msg) {
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__sendDone(/*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__current, msg, err);
    }
  else {
      ;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__sendDone(uart_id_t arg_0x40b75388, message_t * msg, error_t error){
#line 89
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__SubSend__sendDone(arg_0x40b75388, msg, error);
#line 89
}
#line 89
# 149 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__runTask(void )
#line 149
{
  error_t error;

  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendState = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SEND_STATE_IDLE;
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 153
    error = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendError;
#line 153
    __nesc_atomic_end(__nesc_atomic); }

  if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendCancelled) {
#line 155
    error = ECANCEL;
    }
#line 156
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__sendDone(/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendId, (message_t *)/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendBuffer, error);
}

#line 208
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__unlockBuffer(uint8_t which)
#line 208
{
  if (which) {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufOneLocked = 0;
    }
  else {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufZeroLocked = 0;
    }
}

# 404 "AtronTosApiC.nc"
static inline message_t *AtronTosApiC__SerialReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 404
{
  ase_handleMessage((char *)payload, (char )len, 8);
  return msg;
}

# 93 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline message_t */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__default__receive(uint8_t id, message_t *msg, void *payload, uint8_t len)
#line 93
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__receive(am_id_t arg_0x40ae79d0, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x40ae79d0) {
#line 67
    case 201:
#line 67
      result = AtronTosApiC__SerialReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__default__receive(arg_0x40ae79d0, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 97 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static inline message_t */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 97
{
  return /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Receive__receive(/*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(msg), msg, msg->data, len);
}

# 371 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline message_t */*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len)
#line 373
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__receive(uart_id_t arg_0x40b79d10, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x40b79d10) {
#line 67
    case 0:
#line 67
      result = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__default__receive(arg_0x40b79d10, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfoActiveMessageP.nc"
static inline uint8_t SerialPacketInfoActiveMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen)
#line 46
{
  return dataLinkLen - sizeof(serial_header_t );
}

# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/SerialPacketInfoRpcMessageP.nc"
static inline uint8_t SerialPacketInfoRpcMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen)
#line 75
{
  return dataLinkLen - sizeof(rpc_header_t );
}

# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SerialPacketInfoInfraredMessageP.nc"
static inline uint8_t SerialPacketInfoInfraredMessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen)
#line 75
{
  return dataLinkLen - sizeof(infrared_header_t );
}

# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485MessageP.nc"
static inline uint8_t SerialPacketInfoRS485MessageP__Info__upperLength(message_t *msg, uint8_t dataLinkLen)
#line 75
{
  return dataLinkLen - sizeof(rs485_header_t );
}

# 365 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen)
#line 366
{
  return 0;
}

# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__upperLength(uart_id_t arg_0x40b75e88, message_t *msg, uint8_t dataLinkLen){
#line 31
  unsigned char result;
#line 31

#line 31
  switch (arg_0x40b75e88) {
#line 31
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 31
      result = SerialPacketInfoActiveMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RS485_ID:
#line 31
      result = SerialPacketInfoRS485MessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REPLY_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    default:
#line 31
      result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__upperLength(arg_0x40b75e88, msg, dataLinkLen);
#line 31
      break;
#line 31
    }
#line 31

#line 31
  return result;
#line 31
}
#line 31
# 271 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__runTask(void )
#line 271
{
  uart_id_t myType;
  message_t *myBuf;
  uint8_t mySize;
  uint8_t myWhich;

#line 276
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 276
    {
      myType = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskType;
      myBuf = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskBuf;
      mySize = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskSize;
      myWhich = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskWhich;
    }
#line 281
    __nesc_atomic_end(__nesc_atomic); }
  mySize -= /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__offset(myType);
  mySize = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__upperLength(myType, myBuf, mySize);



  myBuf = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Receive__receive(myType, myBuf, myBuf->data, mySize);
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 288
    {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messagePtrs[myWhich] = myBuf;
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__unlockBuffer(myWhich);
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskPending = FALSE;
    }
#line 292
    __nesc_atomic_end(__nesc_atomic); }
}

# 123 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static inline void PrintfP__SerialControl__stopDone(error_t error)
#line 123
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 124
    PrintfP__state = PrintfP__S_STOPPED;
#line 124
    __nesc_atomic_end(__nesc_atomic); }
}

# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void SerialP__SplitControl__stopDone(error_t error){
#line 117
  PrintfP__SerialControl__stopDone(error);
#line 117
}
#line 117
# 135 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__CompareA__stop(void )
#line 135
{
#line 135
  * (volatile uint8_t *)0x7D &= ~(1 << 4);
}

# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void BitBangingImplP__Timer__stop(void ){
#line 59
  HplAtm128Timer3P__CompareA__stop();
#line 59
}
#line 59
# 119 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static inline error_t BitBangingImplP__StdControl__stop(void )
#line 119
{
  BitBangingImplP__Timer__stop();
  BitBangingImplP__txPin__set();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t SerialP__SerialControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = BitBangingImplP__StdControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 331 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__SerialFlush__flushDone(void )
#line 331
{
  SerialP__SerialControl__stop();
  SerialP__SplitControl__stopDone(SUCCESS);
}

static inline void SerialP__defaultSerialFlushTask__runTask(void )
#line 336
{
  SerialP__SerialFlush__flushDone();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t SerialP__defaultSerialFlushTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(SerialP__defaultSerialFlushTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 339 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__SerialFlush__default__flush(void )
#line 339
{
  SerialP__defaultSerialFlushTask__postTask();
}

# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
inline static void SerialP__SerialFlush__flush(void ){
#line 38
  SerialP__SerialFlush__default__flush();
#line 38
}
#line 38
# 327 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__stopDoneTask__runTask(void )
#line 327
{
  SerialP__SerialFlush__flush();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t SerialP__startDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(SerialP__startDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 343 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline error_t SerialP__SplitControl__start(void )
#line 343
{
  SerialP__startDoneTask__postTask();
  return SUCCESS;
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static error_t PrintfP__SerialControl__start(void ){
#line 83
  unsigned char result;
#line 83

#line 83
  result = SerialP__SplitControl__start();
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 109 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static inline void PrintfP__MainBoot__booted(void )
#line 109
{
  PrintfP__SerialControl__start();
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void BootToSplitControlP__BootComponent__booted(void ){
#line 49
  PrintfP__MainBoot__booted();
#line 49
}
#line 49
# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/BootToSplitControlP.nc"
static inline error_t BootToSplitControlP__SplitControl__start(void )
#line 47
{
  BootToSplitControlP__BootComponent__booted();
  return SUCCESS;
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static error_t AtronBootP__HemisphereControl__start(void ){
#line 83
  unsigned char result;
#line 83

#line 83
  result = BootToSplitControlP__SplitControl__start();
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void AtronBootP__Timer__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(0U, dt);
#line 62
}
#line 62
# 95 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__HemisphereControl__startDone(error_t err)
#line 95
{
  if (err == SUCCESS) {
      AtronBootP__Timer__startOneShot(AtronBootP__BOOT_DELAY);
    }
  else {
      AtronBootP__HemisphereControl__start();
    }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void BootToSplitControlP__SplitControl__startDone(error_t error){
#line 92
  AtronBootP__HemisphereControl__startDone(error);
#line 92
}
#line 92
# 43 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/BootToSplitControlP.nc"
static inline void BootToSplitControlP__ComponentBooted__booted(void )
#line 43
{
  BootToSplitControlP__SplitControl__startDone(SUCCESS);
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void PrintfP__Boot__booted(void ){
#line 49
  BootToSplitControlP__ComponentBooted__booted();
#line 49
}
#line 49
# 113 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static inline void PrintfP__SerialControl__startDone(error_t error)
#line 113
{
  if (PrintfP__state == PrintfP__S_STOPPED) {

      __iob[1] = &atm128_stdout;

      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 118
        PrintfP__state = PrintfP__S_STARTED;
#line 118
        __nesc_atomic_end(__nesc_atomic); }
      PrintfP__Boot__booted();
    }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void SerialP__SplitControl__startDone(error_t error){
#line 92
  PrintfP__SerialControl__startDone(error);
#line 92
}
#line 92
# 129 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__CompareA__start(void )
#line 129
{
#line 129
  * (volatile uint8_t *)0x7D |= 1 << 4;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void BitBangingImplP__Timer__start(void ){
#line 56
  HplAtm128Timer3P__CompareA__start();
#line 56
}
#line 56
# 112 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static inline error_t BitBangingImplP__StdControl__start(void )
#line 112
{
  BitBangingImplP__rxState = BitBangingImplP__RX_IDLE;
  BitBangingImplP__txState = BitBangingImplP__TX_IDLE;
  BitBangingImplP__Timer__start();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t SerialP__SerialControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = BitBangingImplP__StdControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 321 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__startDoneTask__runTask(void )
#line 321
{
  SerialP__SerialControl__start();
  SerialP__SplitControl__startDone(SUCCESS);
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t SerialP__SerialFrameComm__putDelimiter(void ){
#line 45
  unsigned char result;
#line 45

#line 45
  result = HdlcTranslateC__SerialFrameComm__putDelimiter();
#line 45

#line 45
  return result;
#line 45
}
#line 45
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 185 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__sendCompleted(error_t error)
#line 185
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 186
    /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendError = error;
#line 186
    __nesc_atomic_end(__nesc_atomic); }
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__postTask();
}

# 80 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
inline static void SerialP__SendBytePacket__sendCompleted(error_t error){
#line 80
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__sendCompleted(error);
#line 80
}
#line 80
# 243 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static __inline bool SerialP__ack_queue_is_empty(void )
#line 243
{
  bool ret;

#line 245
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 245
    ret = SerialP__ackQ.writePtr == SerialP__ackQ.readPtr;
#line 245
    __nesc_atomic_end(__nesc_atomic); }
  return ret;
}











static __inline uint8_t SerialP__ack_queue_top(void )
#line 259
{
  uint8_t tmp = 0;

  /* atomic removed: atomic calls only */
#line 261
  {
    if (!SerialP__ack_queue_is_empty()) {
        tmp = SerialP__ackQ.buf[SerialP__ackQ.readPtr];
      }
  }
  return tmp;
}

static inline uint8_t SerialP__ack_queue_pop(void )
#line 269
{
  uint8_t retval = 0;

#line 271
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 271
    {
      if (SerialP__ackQ.writePtr != SerialP__ackQ.readPtr) {
          retval = SerialP__ackQ.buf[SerialP__ackQ.readPtr];
          if (++ SerialP__ackQ.readPtr > SerialP__ACK_QUEUE_SIZE) {
#line 274
            SerialP__ackQ.readPtr = 0;
            }
        }
    }
#line 277
    __nesc_atomic_end(__nesc_atomic); }
#line 277
  return retval;
}

#line 540
static inline void SerialP__RunTx__runTask(void )
#line 540
{
  uint8_t idle;
  uint8_t done;
  uint8_t fail;









  error_t result = SUCCESS;
  bool send_completed = FALSE;
  bool start_it = FALSE;

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 557
    {
      SerialP__txPending = 0;
      idle = SerialP__txState == SerialP__TXSTATE_IDLE;
      done = SerialP__txState == SerialP__TXSTATE_FINISH;
      fail = SerialP__txState == SerialP__TXSTATE_ERROR;
      if (done || fail) {
          SerialP__txState = SerialP__TXSTATE_IDLE;
          SerialP__txBuf[SerialP__txIndex].state = SerialP__BUFFER_AVAILABLE;
        }
    }
#line 566
    __nesc_atomic_end(__nesc_atomic); }


  if (done || fail) {
      SerialP__txSeqno++;
      if (SerialP__txProto == SERIAL_PROTO_ACK) {
          SerialP__ack_queue_pop();
        }
      else {
          result = done ? SUCCESS : FAIL;
          send_completed = TRUE;
        }
      idle = TRUE;
    }


  if (idle) {
      bool goInactive;

#line 584
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 584
        goInactive = SerialP__offPending;
#line 584
        __nesc_atomic_end(__nesc_atomic); }
      if (goInactive) {
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 586
            SerialP__txState = SerialP__TXSTATE_INACTIVE;
#line 586
            __nesc_atomic_end(__nesc_atomic); }
        }
      else {

          uint8_t myAckState;
          uint8_t myDataState;

#line 592
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 592
            {
              myAckState = SerialP__txBuf[SerialP__TX_ACK_INDEX].state;
              myDataState = SerialP__txBuf[SerialP__TX_DATA_INDEX].state;
            }
#line 595
            __nesc_atomic_end(__nesc_atomic); }
          if (!SerialP__ack_queue_is_empty() && myAckState == SerialP__BUFFER_AVAILABLE) {
              { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 597
                {
                  SerialP__txBuf[SerialP__TX_ACK_INDEX].state = SerialP__BUFFER_COMPLETE;
                  SerialP__txBuf[SerialP__TX_ACK_INDEX].buf = SerialP__ack_queue_top();
                }
#line 600
                __nesc_atomic_end(__nesc_atomic); }
              SerialP__txProto = SERIAL_PROTO_ACK;
              SerialP__txIndex = SerialP__TX_ACK_INDEX;
              start_it = TRUE;
            }
          else {
#line 605
            if (myDataState == SerialP__BUFFER_FILLING || myDataState == SerialP__BUFFER_COMPLETE) {
                SerialP__txProto = SERIAL_PROTO_PACKET_NOACK;
                SerialP__txIndex = SerialP__TX_DATA_INDEX;
                start_it = TRUE;
              }
            else {
              }
            }
        }
    }
  else {
    }


  if (send_completed) {
      SerialP__SendBytePacket__sendCompleted(result);
    }

  if (SerialP__txState == SerialP__TXSTATE_INACTIVE) {
      SerialP__testOff();
      return;
    }

  if (start_it) {

      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 630
        {
          SerialP__txCRC = 0;
          SerialP__txByteCnt = 0;
          SerialP__txState = SerialP__TXSTATE_PROTO;
        }
#line 634
        __nesc_atomic_end(__nesc_atomic); }
      if (SerialP__SerialFrameComm__putDelimiter() != SUCCESS) {
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 636
            SerialP__txState = SerialP__TXSTATE_ERROR;
#line 636
            __nesc_atomic_end(__nesc_atomic); }
          SerialP__MaybeScheduleTx();
        }
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t SerialP__stopDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(SerialP__stopDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static error_t InfraredSerialP__Resource__release(void ){
#line 110
  unsigned char result;
#line 110

#line 110
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__release(InfraredDispatcherC__CLIENT_ID);
#line 110

#line 110
  return result;
#line 110
}
#line 110
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t InfraredSerialP__SerialFrameComm__putDelimiter(void ){
#line 45
  unsigned char result;
#line 45

#line 45
  result = /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDelimiter();
#line 45

#line 45
  return result;
#line 45
}
#line 45
# 731 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__Resource__granted(void )
#line 731
{

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 733
    {
      InfraredSerialP__txCRC = 0;
      InfraredSerialP__txByteCnt = 0;
      InfraredSerialP__txState = InfraredSerialP__TXSTATE_PROTO;
    }
#line 737
    __nesc_atomic_end(__nesc_atomic); }
  if (InfraredSerialP__SerialFrameComm__putDelimiter() != SUCCESS) {
      InfraredSerialP__Resource__release();
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 740
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_ERROR;
#line 740
        __nesc_atomic_end(__nesc_atomic); }
      InfraredSerialP__MaybeScheduleTx();
    }
}

# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
inline static void HemisphereProximitySensorP__InfraredChannel__enable(uint8_t val){
#line 41
  InfraredChannelP__InfraredChannel__enable(val);
#line 41
}
#line 41
# 126 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__Resource__granted(void )
#line 126
{
  HemisphereProximitySensorP__pwmHigh = 10;
  HemisphereProximitySensorP__ticks = 0;
  HemisphereProximitySensorP__proxPwm__stop();
  HemisphereProximitySensorP__proxPwm__start(800, HemisphereProximitySensorP__pwmHigh);
  HemisphereProximitySensorP__InfraredChannel__enable(HemisphereProximitySensorP__channelToSense);
  HemisphereProximitySensorP__SampleTimer__startOneShot(8);
  HemisphereProximitySensorP__RxInterrupt__enableFallingEdge();
}

# 198 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__default__granted(uint8_t id)
#line 198
{
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__granted(uint8_t arg_0x40a45380){
#line 92
  switch (arg_0x40a45380) {
#line 92
    case InfraredDispatcherC__CLIENT_ID:
#line 92
      InfraredSerialP__Resource__granted();
#line 92
      break;
#line 92
    case HemisphereProximitySensorC__CLIENT_ID:
#line 92
      HemisphereProximitySensorP__Resource__granted();
#line 92
      break;
#line 92
    default:
#line 92
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__default__granted(arg_0x40a45380);
#line 92
      break;
#line 92
    }
#line 92
}
#line 92
# 41 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
inline static void InfraredSerialP__InfraredChannel__enable(uint8_t val){
#line 41
  InfraredChannelP__InfraredChannel__enable(val);
#line 41
}
#line 41
# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
inline static void InfraredSerialP__powerPwm__start(uint16_t top, uint16_t steps_high){
#line 61
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(2, top, steps_high);
#line 61
}
#line 61
# 244 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline uint8_t InfraredSerialP__countOnesInBitmask(uint8_t mask)
#line 244
{
  uint8_t i;
  uint8_t ret = 0;

#line 247
  for (i = 0; i < 8; i++) {
      if ((mask >> i) & 0x1) {
        ret++;
        }
    }
#line 251
  return ret;
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static __inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__disable(void )
#line 43
{
#line 43
  * (volatile uint8_t *)(0x39 + 0x20) &= ~(1 << 0);
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__disable(void ){
#line 40
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__disable();
#line 40
}
#line 40
# 33 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/Atm128GpioInterruptC.nc"
static inline error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__disable(void )
#line 33
{
  /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__disable();
  return SUCCESS;
}

# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
inline static error_t InfraredSerialP__RxInterrupt__disable(void ){
#line 50
  unsigned char result;
#line 50

#line 50
  result = /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__disable();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 879 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__ResourceConfigure__configure(void )
#line 879
{
  InfraredSerialP__RxInterrupt__disable();
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 881
    {

      if (InfraredSerialP__countOnesInBitmask(InfraredSerialP__txChannel) == 1) {
        InfraredSerialP__powerPwm__start(100, 82);
        }
      else {
#line 885
        if (InfraredSerialP__countOnesInBitmask(InfraredSerialP__txChannel) == 2) {
          InfraredSerialP__powerPwm__start(100, 80);
          }
        else {
#line 887
          if (InfraredSerialP__countOnesInBitmask(InfraredSerialP__txChannel) == 3) {
            InfraredSerialP__powerPwm__start(100, 76);
            }
          else {
#line 890
            InfraredSerialP__powerPwm__start(100, 70);
            }
          }
        }
#line 891
      InfraredSerialP__InfraredChannel__enable(InfraredSerialP__txChannel);
    }
#line 892
    __nesc_atomic_end(__nesc_atomic); }
}

# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/timer/PulseWidthModulation.nc"
inline static void HemisphereProximitySensorP__powerPwm__start(uint16_t top, uint16_t steps_high){
#line 61
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(2, top, steps_high);
#line 61
}
#line 61
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
inline static error_t HemisphereProximitySensorP__RxInterrupt__disable(void ){
#line 50
  unsigned char result;
#line 50

#line 50
  result = /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__disable();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__ResourceConfigure__configure(void )
#line 98
{
  HemisphereProximitySensorP__RxInterrupt__disable();
  HemisphereProximitySensorP__powerPwm__start(100, 0);
}

# 212 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__configure(uint8_t id)
#line 212
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__configure(uint8_t arg_0x40a431b8){
#line 49
  switch (arg_0x40a431b8) {
#line 49
    case InfraredDispatcherC__CLIENT_ID:
#line 49
      InfraredSerialP__ResourceConfigure__configure();
#line 49
      break;
#line 49
    case HemisphereProximitySensorC__CLIENT_ID:
#line 49
      HemisphereProximitySensorP__ResourceConfigure__configure();
#line 49
      break;
#line 49
    default:
#line 49
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__configure(arg_0x40a431b8);
#line 49
      break;
#line 49
    }
#line 49
}
#line 49
# 186 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__runTask(void )
#line 186
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 187
    {
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__reqResId;
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_BUSY;
    }
#line 190
    __nesc_atomic_end(__nesc_atomic); }
  /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__configure(/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId);
  /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__granted(/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId);
}

# 193 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart0__enableTxIntr(void )
#line 193
{
  * (volatile uint8_t *)(0x0B + 0x20) |= 1 << 6;
  * (volatile uint8_t *)(0x0A + 0x20) |= 1 << 6;
  return SUCCESS;
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableTxIntr(void ){
#line 40
  unsigned char result;
#line 40

#line 40
  result = HplAtm128UartP__HplUart0__enableTxIntr();
#line 40

#line 40
  return result;
#line 40
}
#line 40
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEmpty(void )
#line 56
{
  int i;

  /* atomic removed: atomic calls only */
#line 58
  {
    for (i = 0; i < sizeof /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ; i++) 
      if (/*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ[i] > 0) {
          unsigned char __nesc_temp = 
#line 60
          FALSE;

#line 60
          return __nesc_temp;
        }
#line 61
    {
      unsigned char __nesc_temp = 
#line 61
      TRUE;

#line 61
      return __nesc_temp;
    }
  }
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static bool /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__isEmpty(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEmpty();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline void /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__clearEntry(uint8_t id)
#line 47
{
  /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ[id / 8] &= ~(1 << id % 8);
}

#line 69
static inline resource_client_id_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__dequeue(void )
#line 69
{
  int i;

  /* atomic removed: atomic calls only */
#line 71
  {
    for (i = /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__last + 1; ; i++) {
        if (i == 2U) {
          i = 0;
          }
#line 75
        if (/*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEnqueued(i)) {
            /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__clearEntry(i);
            /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__last = i;
            {
              unsigned char __nesc_temp = 
#line 78
              i;

#line 78
              return __nesc_temp;
            }
          }
#line 80
        if (i == /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__last) {
          break;
          }
      }
#line 83
    {
      unsigned char __nesc_temp = 
#line 83
      /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__NO_ENTRY;

#line 83
      return __nesc_temp;
    }
  }
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceQueue.nc"
inline static resource_client_id_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__dequeue(void ){
#line 60
  unsigned char result;
#line 60

#line 60
  result = /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__dequeue();
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 895 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__ResourceConfigure__unconfigure(void )
#line 895
{
}

# 214 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__unconfigure(uint8_t id)
#line 214
{
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceConfigure.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__unconfigure(uint8_t arg_0x40a431b8){
#line 55
  switch (arg_0x40a431b8) {
#line 55
    case InfraredDispatcherC__CLIENT_ID:
#line 55
      InfraredSerialP__ResourceConfigure__unconfigure();
#line 55
      break;
#line 55
    case HemisphereProximitySensorC__CLIENT_ID:
#line 55
      HemisphereProximitySensorP__ResourceConfigure__unconfigure();
#line 55
      break;
#line 55
    default:
#line 55
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__default__unconfigure(arg_0x40a431b8);
#line 55
      break;
#line 55
    }
#line 55
}
#line 55
# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
inline static error_t InfraredSerialP__RxInterrupt__enableFallingEdge(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__enableFallingEdge();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredReceiveBytePacket.nc"
inline static void InfraredSerialP__ReceiveBytePacket__endPacket(error_t result){
#line 70
  InfraredSerialDispatcherP__ReceiveBytePacket__endPacket(result);
#line 70
}
#line 70
# 83 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__resetReceive(void )
#line 83
{
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.receiveEscape = 0;
}

# 68 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void InfraredSerialP__SerialFrameComm__resetReceive(void ){
#line 68
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__resetReceive();
#line 68
}
#line 68
# 266 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline void InfraredSerialP__rxInit(void )
#line 266
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 267
    {
      InfraredSerialP__rxBuf.writePtr = InfraredSerialP__rxBuf.readPtr = 0;
      InfraredSerialP__rxState = InfraredSerialP__RXSTATE_NOSYNC;
      InfraredSerialP__rxByteCnt = 0;
      InfraredSerialP__rxProto = 0;
      InfraredSerialP__rxSeqno = 0;
      InfraredSerialP__rxCRC = 0;
    }
#line 274
    __nesc_atomic_end(__nesc_atomic); }
}

#line 839
static __inline void InfraredSerialP__resetRxPath(void )
#line 839
{
  InfraredSerialP__RxInterrupt__disable();
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 841
    InfraredSerialP__rxChannelLocked = FALSE;
#line 841
    __nesc_atomic_end(__nesc_atomic); }


  InfraredSerialP__rxInit();
  InfraredSerialP__SerialFrameComm__resetReceive();
  InfraredSerialP__ReceiveBytePacket__endPacket(FAIL);

  InfraredSerialP__RxInterrupt__enableFallingEdge();
  InfraredSerialP__InfraredChannel__enable(HEMISPHERE_CONNECTOR_1234);
}


static inline void InfraredSerialP__ResourceDefaultOwner__granted(void )
#line 853
{
  /* atomic removed: atomic calls only */
#line 854
  InfraredSerialP__resourceRequested = FALSE;
  InfraredSerialP__resetRxPath();
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static void /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__granted(void ){
#line 46
  InfraredSerialP__ResourceDefaultOwner__granted();
#line 46
}
#line 46
# 231 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__receiveBufferSwap(void )
#line 231
{
  InfraredSerialDispatcherP__receiveState.which = InfraredSerialDispatcherP__receiveState.which ? 0 : 1;
  InfraredSerialDispatcherP__receiveBuffer = (uint8_t *)InfraredSerialDispatcherP__messagePtrs[InfraredSerialDispatcherP__receiveState.which];
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialDispatcherP__receiveTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialDispatcherP__receiveTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 222 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__unlockBuffer(uint8_t which)
#line 222
{
  if (which) {
      InfraredSerialDispatcherP__receiveState.bufOneLocked = 0;
    }
  else {
      InfraredSerialDispatcherP__receiveState.bufZeroLocked = 0;
    }
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredMessageP__Receive__receive(message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  result = InfraredInterceptorP__InfraredSubReceive__receive(msg, payload, len);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 150 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline message_t *InfraredMessageP__ReceivedOnThisHemisphere__receive(message_t *msg, void *payload, uint8_t len)
#line 150
{
  return InfraredMessageP__Receive__receive(msg, payload, len);
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredForwarderP__ReceivedOnThisHemisphere__receive(message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  result = InfraredMessageP__ReceivedOnThisHemisphere__receive(msg, payload, len);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredForwarderP.nc"
static inline message_t *InfraredForwarderP__InfraredReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 48
{
#line 60
  return InfraredForwarderP__ReceivedOnThisHemisphere__receive(msg, payload, len);
}

# 397 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline message_t *InfraredSerialDispatcherP__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len)
#line 399
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredSerialDispatcherP__Receive__receive(uart_id_t arg_0x4097eb28, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x4097eb28) {
#line 67
    case 5:
#line 67
      result = InfraredForwarderP__InfraredReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = InfraredSerialDispatcherP__Receive__default__receive(arg_0x4097eb28, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 391 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline uint8_t InfraredSerialDispatcherP__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen)
#line 392
{
  return 0;
}

# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t InfraredSerialDispatcherP__PacketInfo__upperLength(uart_id_t arg_0x4097bc80, message_t *msg, uint8_t dataLinkLen){
#line 31
  unsigned char result;
#line 31

#line 31
  switch (arg_0x4097bc80) {
#line 31
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 31
      result = SerialPacketInfoActiveMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RS485_ID:
#line 31
      result = SerialPacketInfoRS485MessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REPLY_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    default:
#line 31
      result = InfraredSerialDispatcherP__PacketInfo__default__upperLength(arg_0x4097bc80, msg, dataLinkLen);
#line 31
      break;
#line 31
    }
#line 31

#line 31
  return result;
#line 31
}
#line 31
# 227 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline void InfraredPacketC__InfraredPacket__setSouthConnector(message_t *msg, uint8_t conn)
#line 227
{
  uint8_t connector = __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data);

  if (conn & HEMISPHERE_CONNECTOR_1) {
    connector |= CONNECTOR_7;
    }
  else {
#line 233
    connector &= ~CONNECTOR_7;
    }
  if (conn & HEMISPHERE_CONNECTOR_2) {
    connector |= CONNECTOR_6;
    }
  else {
#line 238
    connector &= ~CONNECTOR_6;
    }
  if (conn & HEMISPHERE_CONNECTOR_3) {
    connector |= CONNECTOR_5;
    }
  else {
#line 243
    connector &= ~CONNECTOR_5;
    }
  if (conn & HEMISPHERE_CONNECTOR_4) {
    connector |= CONNECTOR_4;
    }
  else {
#line 248
    connector &= ~CONNECTOR_4;
    }
  __nesc_hton_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data, connector);

  return;
}

#line 282
static inline void InfraredPacketC__InfraredPacket__setThisHemisphereConnector(message_t *msg, uint8_t conn)
#line 282
{




  InfraredPacketC__InfraredPacket__setSouthConnector(msg, conn);

  return;
}

# 161 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static void InfraredSerialDispatcherP__InfraredPacket__setThisHemisphereConnector(message_t *msg, uint8_t conn){
#line 161
  InfraredPacketC__InfraredPacket__setThisHemisphereConnector(msg, conn);
#line 161
}
#line 161
#line 108
inline static void InfraredSerialDispatcherP__InfraredPacket__setConnector(message_t *msg, uint8_t conn){
#line 108
  InfraredPacketC__InfraredPacket__setConnector(msg, conn);
#line 108
}
#line 108
# 286 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__receiveTask__runTask(void )
#line 286
{
  uart_id_t myType;
  message_t *myBuf;
  uint8_t mySize;
  uint8_t myWhich;
  uint8_t myChannel;

#line 292
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 292
    {
      myType = InfraredSerialDispatcherP__receiveTaskType;
      myBuf = InfraredSerialDispatcherP__receiveTaskBuf;
      mySize = InfraredSerialDispatcherP__receiveTaskSize;
      myWhich = InfraredSerialDispatcherP__receiveTaskWhich;
      myChannel = InfraredSerialDispatcherP__receiveChannel;
    }
#line 298
    __nesc_atomic_end(__nesc_atomic); }





  InfraredSerialDispatcherP__InfraredPacket__setConnector(myBuf, 0);

  InfraredSerialDispatcherP__InfraredPacket__setThisHemisphereConnector(myBuf, myChannel);
  mySize -= InfraredSerialDispatcherP__PacketInfo__offset(myType);
  mySize = InfraredSerialDispatcherP__PacketInfo__upperLength(myType, myBuf, mySize);



  myBuf = InfraredSerialDispatcherP__Receive__receive(myType, myBuf, myBuf->data, mySize);
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 313
    {
      InfraredSerialDispatcherP__messagePtrs[myWhich] = myBuf;
      InfraredSerialDispatcherP__unlockBuffer(myWhich);
      InfraredSerialDispatcherP__receiveTaskPending = FALSE;
    }
#line 317
    __nesc_atomic_end(__nesc_atomic); }
}

# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static am_addr_t InfraredInterceptorP__AMPacket__source(message_t * amsg){
#line 77
  unsigned short result;
#line 77

#line 77
  result = InfraredActiveMessageP__AMPacket__source(amsg);
#line 77

#line 77
  return result;
#line 77
}
#line 77
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredInterceptorP__updateTable__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredInterceptorP__updateTable);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 196 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline message_t *InfraredActiveMessageP__Snoop__default__receive(am_id_t id, message_t *msg, void *payload, uint8_t len)
#line 196
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredActiveMessageP__Snoop__receive(am_id_t arg_0x40fcde00, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
    result = InfraredActiveMessageP__Snoop__default__receive(arg_0x40fcde00, msg, payload, len);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 95 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline message_t *IsAliveP__Receive__receive(message_t *msg, void *payload, uint8_t len)
#line 95
{






  return msg;
}

# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t AtronTosApiC__InfraredPacket__getConnector(message_t *msg){
#line 99
  unsigned char result;
#line 99

#line 99
  result = InfraredPacketC__InfraredPacket__getConnector(msg);
#line 99

#line 99
  return result;
#line 99
}
#line 99
# 398 "AtronTosApiC.nc"
static inline message_t *AtronTosApiC__Receive__receive(message_t *msg, void *payload, uint8_t len)
#line 398
{
  uint8_t connector = AtronTosApiC__InfraredPacket__getConnector(msg);

#line 400
  ase_handleMessage((char *)payload, (char )len, (char )AtronTosApiC__bitpattern2channel(connector));
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * SimpleInfraredActiveMessageP__Receive__receive(message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  result = AtronTosApiC__Receive__receive(msg, payload, len);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SimpleInfraredActiveMessageP.nc"
static inline message_t *SimpleInfraredActiveMessageP__AMReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 75
{
  return SimpleInfraredActiveMessageP__Receive__receive(msg, payload, len);
}

# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static uint8_t InfraredInterceptorP__InfraredPacket__getSeqNo(message_t *msg){
#line 68
  unsigned char result;
#line 68

#line 68
  result = InfraredPacketC__InfraredPacket__getSeqNo(msg);
#line 68

#line 68
  return result;
#line 68
}
#line 68
# 139 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static inline message_t *InfraredInterceptorP__AckReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 139
{
  if (InfraredInterceptorP__InfraredPacket__getSeqNo(msg) == InfraredInterceptorP__waitingForAckSeqNo) {
      InfraredInterceptorP__InfraredPacket__setWasAcked(InfraredInterceptorP__waitingForAckPtr, TRUE);
    }
  return msg;
}

# 192 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline message_t *InfraredActiveMessageP__Receive__default__receive(am_id_t id, message_t *msg, void *payload, uint8_t len)
#line 192
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredActiveMessageP__Receive__receive(am_id_t arg_0x40fcd768, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x40fcd768) {
#line 67
    case 128:
#line 67
      result = IsAliveP__Receive__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 129:
#line 67
      result = InfraredInterceptorP__AckReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 199:
#line 67
      result = SimpleInfraredActiveMessageP__AMReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = InfraredActiveMessageP__Receive__default__receive(arg_0x40fcd768, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ActiveMessageAddress.nc"
inline static am_addr_t InfraredActiveMessageP__ActiveMessageAddress__amAddress(void ){
#line 50
  unsigned short result;
#line 50

#line 50
  result = ActiveMessageAddressC__ActiveMessageAddress__amAddress();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static inline am_addr_t InfraredActiveMessageP__AMPacket__address(void )
#line 87
{
  return InfraredActiveMessageP__ActiveMessageAddress__amAddress();
}

#line 115
static inline bool InfraredActiveMessageP__AMPacket__isForMe(message_t *amsg)
#line 115
{
  return InfraredActiveMessageP__AMPacket__destination(amsg) == InfraredActiveMessageP__AMPacket__address() || 
  InfraredActiveMessageP__AMPacket__destination(amsg) == AM_BROADCAST_ADDR;
}

#line 181
static inline message_t *InfraredActiveMessageP__SubReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 181
{

  if (InfraredActiveMessageP__AMPacket__isForMe(msg) && InfraredActiveMessageP__AMPacket__source(msg) != InfraredActiveMessageP__AMPacket__address()) {
      return InfraredActiveMessageP__Receive__receive(InfraredActiveMessageP__AMPacket__type(msg), msg, payload, len);
    }
  else {
      return InfraredActiveMessageP__Snoop__receive(InfraredActiveMessageP__AMPacket__type(msg), msg, payload, len);
    }
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * InfraredInterceptorP__InfraredReceive__receive(message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  result = InfraredActiveMessageP__SubReceive__receive(msg, payload, len);
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 203 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err)
#line 203
{





  if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current >= 2) {
      return;
    }
  if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current].msg == msg) {
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__sendDone(/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current, msg, err);
    }
  else {
      ;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void InfraredSerialDispatcherP__Send__sendDone(uart_id_t arg_0x4097b180, message_t * msg, error_t error){
#line 89
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__sendDone(arg_0x4097b180, msg, error);
#line 89
}
#line 89
# 163 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__signalSendDone__runTask(void )
#line 163
{
  error_t error;

  InfraredSerialDispatcherP__sendState = InfraredSerialDispatcherP__SEND_STATE_IDLE;
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 167
    error = InfraredSerialDispatcherP__sendError;
#line 167
    __nesc_atomic_end(__nesc_atomic); }

  if (InfraredSerialDispatcherP__sendCancelled) {
#line 169
    error = ECANCEL;
    }
#line 170
  InfraredSerialDispatcherP__Send__sendDone(InfraredSerialDispatcherP__sendId, (message_t *)InfraredSerialDispatcherP__sendBuffer, error);
}

# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__InfraredControl__stopDone(error_t err)
#line 110
{
}

# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void InfraredSerialP__SplitControl__stopDone(error_t error){
#line 117
  AtronBootP__InfraredControl__stopDone(error);
#line 117
}
#line 117
# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerState.nc"
inline static void HplAtm128UartP__McuPowerState__update(void ){
#line 44
  McuSleepC__McuPowerState__update();
#line 44
}
#line 44
# 187 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0RxControl__stop(void )
#line 187
{
  * (volatile uint8_t *)(0x0A + 0x20) &= ~(1 << 4);
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = HplAtm128UartP__Uart0RxControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 175 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0TxControl__stop(void )
#line 175
{
  * (volatile uint8_t *)(0x0A + 0x20) &= ~(1 << 3);
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = HplAtm128UartP__Uart0TxControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 126 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__stop(void )
#line 126
{
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__stop();
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__stop();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t InfraredSerialP__SerialControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 404 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__SerialFlush__flushDone(void )
#line 404
{
  InfraredSerialP__SerialControl__stop();
  InfraredSerialP__SplitControl__stopDone(SUCCESS);
}

static inline void InfraredSerialP__defaultSerialFlushTask__runTask(void )
#line 409
{
  InfraredSerialP__SerialFlush__flushDone();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__defaultSerialFlushTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__defaultSerialFlushTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 412 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__SerialFlush__default__flush(void )
#line 412
{
  InfraredSerialP__defaultSerialFlushTask__postTask();
}

# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
inline static void InfraredSerialP__SerialFlush__flush(void ){
#line 38
  InfraredSerialP__SerialFlush__default__flush();
#line 38
}
#line 38
# 400 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__stopDoneTask__runTask(void )
#line 400
{
  InfraredSerialP__SerialFlush__flush();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__startDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__startDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 416 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline error_t InfraredSerialP__SplitControl__start(void )
#line 416
{
  InfraredSerialP__startDoneTask__postTask();
  return SUCCESS;
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static error_t AtronBootP__InfraredControl__start(void ){
#line 83
  unsigned char result;
#line 83

#line 83
  result = InfraredSerialP__SplitControl__start();
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 86 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__InfraredControl__startDone(error_t err)
#line 86
{
  if (err == SUCCESS) {
      AtronBootP__HemisphereControl__start();
    }
  else {
      AtronBootP__InfraredControl__start();
    }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void InfraredSerialP__SplitControl__startDone(error_t error){
#line 92
  AtronBootP__InfraredControl__startDone(error);
#line 92
}
#line 92
# 204 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart0__enableRxIntr(void )
#line 204
{
  * (volatile uint8_t *)(0x0A + 0x20) |= 1 << 7;
  return SUCCESS;
}

# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableRxIntr(void ){
#line 42
  unsigned char result;
#line 42

#line 42
  result = HplAtm128UartP__HplUart0__enableRxIntr();
#line 42

#line 42
  return result;
#line 42
}
#line 42
# 181 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0RxControl__start(void )
#line 181
{
  * (volatile uint8_t *)(0x0A + 0x20) |= 1 << 4;
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = HplAtm128UartP__Uart0RxControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 169 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0TxControl__start(void )
#line 169
{
  * (volatile uint8_t *)(0x0A + 0x20) |= 1 << 3;
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = HplAtm128UartP__Uart0TxControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 209 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart0__disableRxIntr(void )
#line 209
{
  * (volatile uint8_t *)(0x0A + 0x20) &= ~(1 << 7);
  return SUCCESS;
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableRxIntr(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = HplAtm128UartP__HplUart0__disableRxIntr();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 199 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart0__disableTxIntr(void )
#line 199
{
  * (volatile uint8_t *)(0x0A + 0x20) &= ~(1 << 6);
  return SUCCESS;
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableTxIntr(void ){
#line 41
  unsigned char result;
#line 41

#line 41
  result = HplAtm128UartP__HplUart0__disableTxIntr();
#line 41

#line 41
  return result;
#line 41
}
#line 41
# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__start(void )
#line 110
{

  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableTxIntr();
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableRxIntr();
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_intr = 0;
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_intr = 0;


  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartTxControl__start();
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUartRxControl__start();


  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableRxIntr();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t InfraredSerialP__SerialControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = /*Atm128Uart0C.UartP*/Atm128UartP__1__StdControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 391 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__startDoneTask__runTask(void )
#line 391
{
  InfraredSerialP__SerialControl__start();
  InfraredSerialP__RxInterrupt__enableFallingEdge();

  InfraredSerialP__InfraredChannel__enable(HEMISPHERE_CONNECTOR_1234);
  InfraredSerialP__SplitControl__startDone(SUCCESS);
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void InfraredSerialP__Watchdog__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(4U);
#line 67
}
#line 67
# 285 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__stopWatchdog__runTask(void )
#line 285
{
  InfraredSerialP__Watchdog__stop();
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void InfraredSerialP__Watchdog__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(4U, dt);
#line 62
}
#line 62
# 281 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__startWatchdog__runTask(void )
#line 281
{
  InfraredSerialP__Watchdog__startOneShot(INFRARED_MESSAGE_TIMEOUT);
}

# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static error_t InfraredSerialP__Resource__request(void ){
#line 78
  unsigned char result;
#line 78

#line 78
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__request(InfraredDispatcherC__CLIENT_ID);
#line 78

#line 78
  return result;
#line 78
}
#line 78
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialDispatcherP__signalSendDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialDispatcherP__signalSendDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 199 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__SendBytePacket__sendCompleted(error_t error)
#line 199
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 200
    InfraredSerialDispatcherP__sendError = error;
#line 200
    __nesc_atomic_end(__nesc_atomic); }
  InfraredSerialDispatcherP__signalSendDone__postTask();
}

# 81 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
inline static void InfraredSerialP__SendBytePacket__sendCompleted(error_t error){
#line 81
  InfraredSerialDispatcherP__SendBytePacket__sendCompleted(error);
#line 81
}
#line 81
# 313 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline bool InfraredSerialP__ack_queue_is_empty(void )
#line 313
{
  bool ret;

#line 315
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 315
    ret = InfraredSerialP__ackQ.writePtr == InfraredSerialP__ackQ.readPtr;
#line 315
    __nesc_atomic_end(__nesc_atomic); }
  return ret;
}











static __inline uint8_t InfraredSerialP__ack_queue_top(void )
#line 329
{
  uint8_t tmp = 0;

  /* atomic removed: atomic calls only */
#line 331
  {
    if (!InfraredSerialP__ack_queue_is_empty()) {
        tmp = InfraredSerialP__ackQ.buf[InfraredSerialP__ackQ.readPtr];
      }
  }
  return tmp;
}

static inline uint8_t InfraredSerialP__ack_queue_pop(void )
#line 339
{
  uint8_t retval = 0;

#line 341
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 341
    {
      if (InfraredSerialP__ackQ.writePtr != InfraredSerialP__ackQ.readPtr) {
          retval = InfraredSerialP__ackQ.buf[InfraredSerialP__ackQ.readPtr];
          if (++ InfraredSerialP__ackQ.readPtr > InfraredSerialP__ACK_QUEUE_SIZE) {
#line 344
            InfraredSerialP__ackQ.readPtr = 0;
            }
        }
    }
#line 347
    __nesc_atomic_end(__nesc_atomic); }
#line 347
  return retval;
}

#line 638
static inline void InfraredSerialP__RunTx__runTask(void )
#line 638
{
  uint8_t idle;
  uint8_t done;
  uint8_t fail;









  error_t result = SUCCESS;
  bool send_completed = FALSE;
  bool start_it = FALSE;

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 655
    {
      InfraredSerialP__txPending = 0;
      idle = InfraredSerialP__txState == InfraredSerialP__TXSTATE_IDLE;
      done = InfraredSerialP__txState == InfraredSerialP__TXSTATE_FINISH;
      fail = InfraredSerialP__txState == InfraredSerialP__TXSTATE_ERROR;
      if (done || fail) {
          InfraredSerialP__txState = InfraredSerialP__TXSTATE_IDLE;
          InfraredSerialP__txBuf[InfraredSerialP__txIndex].state = InfraredSerialP__BUFFER_AVAILABLE;
        }
    }
#line 664
    __nesc_atomic_end(__nesc_atomic); }


  if (done || fail) {
      InfraredSerialP__txSeqno++;
      if (InfraredSerialP__txProto == SERIAL_PROTO_ACK) {
          InfraredSerialP__ack_queue_pop();
        }
      else {
          result = done ? SUCCESS : FAIL;
          send_completed = TRUE;
        }
      idle = TRUE;
    }


  if (idle) {
      bool goInactive;

#line 682
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 682
        goInactive = InfraredSerialP__offPending;
#line 682
        __nesc_atomic_end(__nesc_atomic); }
      if (goInactive) {
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 684
            InfraredSerialP__txState = InfraredSerialP__TXSTATE_INACTIVE;
#line 684
            __nesc_atomic_end(__nesc_atomic); }
        }
      else {

          uint8_t myAckState;
          uint8_t myDataState;

#line 690
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 690
            {
              myAckState = InfraredSerialP__txBuf[InfraredSerialP__TX_ACK_INDEX].state;
              myDataState = InfraredSerialP__txBuf[InfraredSerialP__TX_DATA_INDEX].state;
            }
#line 693
            __nesc_atomic_end(__nesc_atomic); }
          if (!InfraredSerialP__ack_queue_is_empty() && myAckState == InfraredSerialP__BUFFER_AVAILABLE) {
              { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 695
                {
                  InfraredSerialP__txBuf[InfraredSerialP__TX_ACK_INDEX].state = InfraredSerialP__BUFFER_COMPLETE;
                  InfraredSerialP__txBuf[InfraredSerialP__TX_ACK_INDEX].buf = InfraredSerialP__ack_queue_top();
                }
#line 698
                __nesc_atomic_end(__nesc_atomic); }
              InfraredSerialP__txProto = SERIAL_PROTO_ACK;
              InfraredSerialP__txIndex = InfraredSerialP__TX_ACK_INDEX;
              start_it = TRUE;
            }
          else {
#line 703
            if (myDataState == InfraredSerialP__BUFFER_FILLING || myDataState == InfraredSerialP__BUFFER_COMPLETE) {
                InfraredSerialP__txProto = SERIAL_PROTO_PACKET_NOACK;
                InfraredSerialP__txIndex = InfraredSerialP__TX_DATA_INDEX;
                start_it = TRUE;
              }
            else {
              }
            }
        }
    }
  else {
    }


  if (send_completed) {
      InfraredSerialP__SendBytePacket__sendCompleted(result);
    }

  if (InfraredSerialP__txState == InfraredSerialP__TXSTATE_INACTIVE) {
      InfraredSerialP__testOff();
      return;
    }

  if (start_it) {
    InfraredSerialP__Resource__request();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__stopDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__stopDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 267 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__unlockBuffer(uint8_t which)
#line 267
{
  if (which) {
      RS485SerialDispatcherP__receiveState.bufOneLocked = 0;
    }
  else {
      RS485SerialDispatcherP__receiveState.bufZeroLocked = 0;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector1ServerC.server*/ConnectorServerP__0__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline message_t */*Connector1ServerC.server*/ConnectorServerP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 56
{
  /*Connector1ServerC.server*/ConnectorServerP__0__connector = __nesc_ntoh_uint8(((RpcRequestConnector *)payload)->connector.data);
  /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*Connector2ServerC.server*/ConnectorServerP__1__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorServerP.nc"
static inline message_t */*Connector2ServerC.server*/ConnectorServerP__1__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 56
{
  /*Connector2ServerC.server*/ConnectorServerP__1__connector = __nesc_ntoh_uint8(((RpcRequestConnector *)payload)->connector.data);
  /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*XaxisServerC.server*/RpcRead16ServerP__0__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline message_t */*XaxisServerC.server*/RpcRead16ServerP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 53
{
  /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead8ServerProximityP.nc"
static inline message_t */*ProximityServerC.server*/RpcRead8ServerProximityP__0__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 56
{
  /*ProximityServerC.server*/RpcRead8ServerProximityP__0__channel = __nesc_ntoh_uint8(((RpcRequestProximity *)payload)->channel.data);
  /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredChannelServerP__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredChannelServerP__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelServerP.nc"
static inline message_t *InfraredChannelServerP__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 56
{
  InfraredChannelServerP__lowSensitivity = __nesc_ntoh_uint8(((RpcRequestInfraredChannel *)payload)->isLowSensitivity.data);
  InfraredChannelServerP__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t DebugLedsServerP__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(DebugLedsServerP__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 56 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/DebugLedsServerP.nc"
static inline message_t *DebugLedsServerP__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 56
{
  DebugLedsServerP__leds = __nesc_ntoh_uint8(((RpcRequestLeds *)payload)->leds.data);
  DebugLedsServerP__processRequest__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ServerP.nc"
static inline message_t */*ZaxisServerC.server*/RpcRead16ServerP__1__ReceiveRequest__receive(message_t *msg, void *payload, uint8_t len)
#line 53
{
  /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__postTask();
  return msg;
}

# 142 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline message_t *RpcMessageP__ReceiveRequest__default__receive(rpc_id_t id, message_t *msg, void *payload, uint8_t len)
#line 142
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * RpcMessageP__ReceiveRequest__receive(rpc_id_t arg_0x40de3448, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x40de3448) {
#line 67
    case 2:
#line 67
      result = /*Connector1ServerC.server*/ConnectorServerP__0__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 3:
#line 67
      result = /*Connector2ServerC.server*/ConnectorServerP__1__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 7:
#line 67
      result = /*XaxisServerC.server*/RpcRead16ServerP__0__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 8:
#line 67
      result = /*ZaxisServerC.server*/RpcRead16ServerP__1__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 10:
#line 67
      result = /*ProximityServerC.server*/RpcRead8ServerProximityP__0__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 13:
#line 67
      result = InfraredChannelServerP__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 14:
#line 67
      result = DebugLedsServerP__ReceiveRequest__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = RpcMessageP__ReceiveRequest__default__receive(arg_0x40de3448, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 122 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline message_t *RpcMessageP__RequestSubReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 122
{
  return RpcMessageP__ReceiveRequest__receive(RpcMessageP__RpcPacket__getId(msg), msg, payload, len);
}

# 254 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
static inline message_t *LedsClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 254
{
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredClientP__signalSendDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredClientP__signalSendDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredClientP.nc"
static inline message_t *InfraredClientP__ReceiveForwardReply__receive(message_t *msg, void *payload, uint8_t len)
#line 87
{

  if (InfraredClientP__busy) {
      InfraredClientP__sendDoneError = __nesc_ntoh_uint8(((RpcReplyOtherHemiIR *)payload)->error.data);
      InfraredClientP__signalSendDone__postTask();
    }
  return msg;
}

# 101 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector2__retractDone(error_t error)
#line 101
{
  ConnectorsImplP__Connector__retractDone(CONNECTOR_2, error);
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retractDone(error_t error){
#line 72
  ConnectorsImplP__Connector2__retractDone(error);
#line 72
}
#line 72
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector2__extendDone(error_t error)
#line 97
{
  ConnectorsImplP__Connector__extendDone(CONNECTOR_2, error);
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extendDone(error_t error){
#line 65
  ConnectorsImplP__Connector2__extendDone(error);
#line 65
}
#line 65
# 85 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline message_t */*Connector1ClientC.client*/ConnectorClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 85
{

  /*Connector1ClientC.client*/ConnectorClientP__0__connector = __nesc_ntoh_uint8(((RpcReplyConnector *)payload)->connector.data);
  if (/*Connector1ClientC.client*/ConnectorClientP__0__connector == MALE_CONNECTOR_EXTENDED) {
    /*Connector1ClientC.client*/ConnectorClientP__0__Connector__extendDone(SUCCESS);
    }
  else {
#line 90
    if (/*Connector1ClientC.client*/ConnectorClientP__0__connector == MALE_CONNECTOR_RETRACTED) {
      /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retractDone(SUCCESS);
      }
    }
#line 92
  return msg;
}

# 93 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector0__retractDone(error_t error)
#line 93
{
  ConnectorsImplP__Connector__retractDone(CONNECTOR_0, error);
}

# 72 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retractDone(error_t error){
#line 72
  ConnectorsImplP__Connector0__retractDone(error);
#line 72
}
#line 72
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static inline void ConnectorsImplP__Connector0__extendDone(error_t error)
#line 89
{
  ConnectorsImplP__Connector__extendDone(CONNECTOR_0, error);
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static void /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extendDone(error_t error){
#line 65
  ConnectorsImplP__Connector0__extendDone(error);
#line 65
}
#line 65
# 85 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline message_t */*Connector2ClientC.client*/ConnectorClientP__1__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 85
{

  /*Connector2ClientC.client*/ConnectorClientP__1__connector = __nesc_ntoh_uint8(((RpcReplyConnector *)payload)->connector.data);
  if (/*Connector2ClientC.client*/ConnectorClientP__1__connector == MALE_CONNECTOR_EXTENDED) {
    /*Connector2ClientC.client*/ConnectorClientP__1__Connector__extendDone(SUCCESS);
    }
  else {
#line 90
    if (/*Connector2ClientC.client*/ConnectorClientP__1__connector == MALE_CONNECTOR_RETRACTED) {
      /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retractDone(SUCCESS);
      }
    }
#line 92
  return msg;
}

# 257 "/usr/lib/ncc/nesc_nx.h>
static __inline  int8_t __nesc_ntoh_int8(const void * source)
#line 257
{
#line 257
  return __nesc_ntoh_uint8(source);
}





static __inline  uint16_t __nesc_ntoh_uint16(const void * source)
#line 264
{
  const uint8_t *base = source;

#line 266
  return ((uint16_t )base[0] << 8) | base[1];
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t CentralJointClientP__signalRotationCompleted__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(CentralJointClientP__signalRotationCompleted);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 167 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline message_t *CentralJointClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 167
{
  RpcReplyCentralJoint *reply = payload;

#line 169
  CentralJointClientP__actualSpeed = __nesc_ntoh_uint8(reply->speed.data);
  CentralJointClientP__actualLocked = __nesc_ntoh_int8(reply->locked.data);
  CentralJointClientP__actualError = __nesc_ntoh_uint8(reply->error.data);
  CentralJointClientP__actualDegrees = __nesc_ntoh_uint16(reply->degrees.data);
  CentralJointClientP__actualDirection = __nesc_ntoh_int8(reply->direction.data);

  if (__nesc_ntoh_uint8(reply->opcode.data) == CENTRAL_JOINT_OPCODE_SIGNAL_EVENT) {
      CentralJointClientP__signalDegrees = __nesc_ntoh_uint16(reply->degrees.data);
      CentralJointClientP__signalDirection = __nesc_ntoh_int8(reply->direction.data);
      CentralJointClientP__signalRotationCompleted__postTask();
    }
  else {
#line 180
    if (__nesc_ntoh_uint8(reply->opcode.data) == CENTRAL_JOINT_OPCODE_STATUS_UPDATE) {
        CentralJointClientP__actualDegrees = __nesc_ntoh_uint16(reply->degrees.data);
        CentralJointClientP__actualDirection = __nesc_ntoh_int8(reply->direction.data);
      }
    }
#line 184
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline message_t */*DegreesClientC.degreesClient*/RpcRead16ClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 68
{
  RpcReplyRead16 *reply = payload;

#line 70
  /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__result = __nesc_ntoh_uint8(reply->result.data);
  /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__value = __nesc_ntoh_uint16(reply->value.data);
  /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__postTask();
  return msg;
}

# 187 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline message_t *CentralJointClientP__ReceiveReplyDegreesUpdate__receive(message_t *msg, void *payload, uint8_t len)
#line 187
{
  RpcReplyDegreesAutoUpdate *reply = payload;

#line 189
  CentralJointClientP__actualDegrees = __nesc_ntoh_uint16(reply->degrees.data);
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline message_t */*OtherXaxisC.client*/RpcRead16ClientP__1__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 68
{
  RpcReplyRead16 *reply = payload;

#line 70
  /*OtherXaxisC.client*/RpcRead16ClientP__1__result = __nesc_ntoh_uint8(reply->result.data);
  /*OtherXaxisC.client*/RpcRead16ClientP__1__value = __nesc_ntoh_uint16(reply->value.data);
  /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__postTask();
  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*YaxisC.client*/RpcRead16ClientP__2__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline message_t */*YaxisC.client*/RpcRead16ClientP__2__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 68
{
  RpcReplyRead16 *reply = payload;

#line 70
  /*YaxisC.client*/RpcRead16ClientP__2__result = __nesc_ntoh_uint8(reply->result.data);
  /*YaxisC.client*/RpcRead16ClientP__2__value = __nesc_ntoh_uint16(reply->value.data);
  /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__postTask();
  return msg;
}

# 79 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/InfraredChannelClientP.nc"
static inline message_t *InfraredChannelClientP__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 79
{

  return msg;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcReadClientP.nc"
static inline message_t */*InitNorthStateClientC.client*/RpcReadClientP__0__ReceiveReply__receive(message_t *msg, void *payload, uint8_t len)
#line 77
{
  /*InitNorthStateClientC.client*/RpcReadClientP__0__RpcReplyRead *reply = payload;

#line 79
  /*InitNorthStateClientC.client*/RpcReadClientP__0__result = reply->result;
  /*InitNorthStateClientC.client*/RpcReadClientP__0__value = reply->value;
  /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__postTask();
  return msg;
}

# 146 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline message_t *RpcMessageP__ReceiveReply__default__receive(rpc_id_t id, message_t *msg, void *payload, uint8_t len)
#line 146
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * RpcMessageP__ReceiveReply__receive(rpc_id_t arg_0x40de3b38, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x40de3b38) {
#line 67
    case 1:
#line 67
      result = LedsClientP__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 2:
#line 67
      result = /*Connector1ClientC.client*/ConnectorClientP__0__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 3:
#line 67
      result = /*Connector2ClientC.client*/ConnectorClientP__1__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 6:
#line 67
      result = CentralJointClientP__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 7:
#line 67
      result = /*OtherXaxisC.client*/RpcRead16ClientP__1__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 8:
#line 67
      result = /*YaxisC.client*/RpcRead16ClientP__2__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 9:
#line 67
      result = /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 11:
#line 67
      result = /*InitNorthStateClientC.client*/RpcReadClientP__0__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 13:
#line 67
      result = InfraredChannelClientP__ReceiveReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 15:
#line 67
      result = InfraredClientP__ReceiveForwardReply__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 16:
#line 67
      result = CentralJointClientP__ReceiveReplyDegreesUpdate__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = RpcMessageP__ReceiveReply__default__receive(arg_0x40de3b38, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 126 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static inline message_t *RpcMessageP__ReplySubReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 126
{
  return RpcMessageP__ReceiveReply__receive(RpcMessageP__RpcPacket__getId(msg), msg, payload, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__send(/*InfraredServerC.SendOnBehalfOfTheOtherC*/InfraredDispatcherSenderC__0__CLIENT_ID, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 69 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueEntryP.nc"
static inline error_t /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__send(message_t *msg, uint8_t len)
#line 69
{
  return /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__SubSend__send(msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t InfraredServerP__InfraredSend__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*InfraredServerC.SendOnBehalfOfTheOtherC.queueEntry*/DispatcherQueueEntryP__3__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredServerP.nc"
static inline message_t *InfraredServerP__ReceivePktToForward__receive(message_t *msg, void *payload, uint8_t len)
#line 62
{
  message_t *tmp = msg;

#line 64
  if (!InfraredServerP__busy) {

      tmp = InfraredServerP__bufferPtr;
      InfraredServerP__bufferPtr = msg;
      InfraredServerP__replyError = FAIL;
      if (InfraredServerP__InfraredSend__send(InfraredServerP__bufferPtr, len) == SUCCESS) {
        InfraredServerP__busy = TRUE;
        }
      else {
#line 72
        InfraredServerP__sendReply__postTask();
        }
    }
  else 
#line 74
    {
      InfraredServerP__replyError = EBUSY;
      InfraredServerP__sendReply__postTask();
    }

  return tmp;
}

# 154 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredMessageP.nc"
static inline message_t *InfraredMessageP__ReceivedOnOtherHemisphere__receive(message_t *msg, void *payload, uint8_t len)
#line 154
{
  return InfraredMessageP__Receive__receive(msg, payload, len);
}

# 441 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline message_t *RS485SerialDispatcherP__Receive__default__receive(uart_id_t idxxx, message_t *msg, 
void *payload, 
uint8_t len)
#line 443
{
  return msg;
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Receive.nc"
inline static message_t * RS485SerialDispatcherP__Receive__receive(uart_id_t arg_0x405db010, message_t * msg, void * payload, uint8_t len){
#line 67
  nx_struct message_t *result;
#line 67

#line 67
  switch (arg_0x405db010) {
#line 67
    case 5:
#line 67
      result = InfraredServerP__ReceivePktToForward__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 6:
#line 67
      result = InfraredMessageP__ReceivedOnOtherHemisphere__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 7:
#line 67
      result = RpcMessageP__RequestSubReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    case 8:
#line 67
      result = RpcMessageP__ReplySubReceive__receive(msg, payload, len);
#line 67
      break;
#line 67
    default:
#line 67
      result = RS485SerialDispatcherP__Receive__default__receive(arg_0x405db010, msg, payload, len);
#line 67
      break;
#line 67
    }
#line 67

#line 67
  return result;
#line 67
}
#line 67
# 75 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/SerialPacketInfoRS485AckP.nc"
static inline uint8_t SerialPacketInfoRS485AckP__Info__upperLength(message_t *msg, uint8_t dataLinkLen)
#line 75
{
  return dataLinkLen - sizeof(rs485_ack_header_t );
}

# 435 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline uint8_t RS485SerialDispatcherP__PacketInfo__default__upperLength(uart_id_t id, message_t *msg, 
uint8_t dataLinkLen)
#line 436
{
  return 0;
}

# 31 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
inline static uint8_t RS485SerialDispatcherP__PacketInfo__upperLength(uart_id_t arg_0x405eb160, message_t *msg, uint8_t dataLinkLen){
#line 31
  unsigned char result;
#line 31

#line 31
  switch (arg_0x405eb160) {
#line 31
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 31
      result = SerialPacketInfoActiveMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RS485_ID:
#line 31
      result = SerialPacketInfoRS485MessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 31
      result = SerialPacketInfoInfraredMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RPC_REPLY_ID:
#line 31
      result = SerialPacketInfoRpcMessageP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    case TOS_SERIAL_RS485_ACK_ID:
#line 31
      result = SerialPacketInfoRS485AckP__Info__upperLength(msg, dataLinkLen);
#line 31
      break;
#line 31
    default:
#line 31
      result = RS485SerialDispatcherP__PacketInfo__default__upperLength(arg_0x405eb160, msg, dataLinkLen);
#line 31
      break;
#line 31
    }
#line 31

#line 31
  return result;
#line 31
}
#line 31
# 330 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__receiveTask__runTask(void )
#line 330
{
  uart_id_t myType;
  message_t *myBuf;
  uint8_t mySize;
  uint8_t myWhich;

#line 335
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 335
    {
      myType = RS485SerialDispatcherP__receiveTaskType;
      myBuf = RS485SerialDispatcherP__receiveTaskBuf;
      mySize = RS485SerialDispatcherP__receiveTaskSize;
      myWhich = RS485SerialDispatcherP__receiveTaskWhich;
    }
#line 340
    __nesc_atomic_end(__nesc_atomic); }
  mySize -= RS485SerialDispatcherP__PacketInfo__offset(myType);
  mySize = RS485SerialDispatcherP__PacketInfo__upperLength(myType, myBuf, mySize);



  myBuf = RS485SerialDispatcherP__Receive__receive(myType, myBuf, myBuf->data, mySize);
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 347
    {
      RS485SerialDispatcherP__messagePtrs[myWhich] = myBuf;
      RS485SerialDispatcherP__unlockBuffer(myWhich);
      RS485SerialDispatcherP__receiveTaskPending = FALSE;
    }
#line 351
    __nesc_atomic_end(__nesc_atomic); }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialDispatcherP__resendTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialDispatcherP__resendTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
inline static error_t RS485SerialDispatcherP__SendBytePacket__startSend(uint8_t first_byte, bool ackRequested, bool seqNoSpecified, uint8_t seqNo){
#line 51
  unsigned char result;
#line 51

#line 51
  result = RS485SerialP__SendBytePacket__startSend(first_byte, ackRequested, seqNoSpecified, seqNo);
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 120 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__resendTask__runTask(void )
#line 120
{
  uint8_t pktNo;

#line 122
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 122
    {
      RS485SerialDispatcherP__sendIndex = RS485SerialDispatcherP__PacketInfo__offset(RS485SerialDispatcherP__sendId);
      RS485SerialDispatcherP__sendState = RS485SerialDispatcherP__SEND_STATE_DATA;
      RS485SerialDispatcherP__sendCancelled = FALSE;



      RS485SerialDispatcherP__waitingAck = TRUE;
      pktNo = RS485SerialDispatcherP__outstandingPktNo;
    }
#line 131
    __nesc_atomic_end(__nesc_atomic); }

  if (RS485SerialDispatcherP__SendBytePacket__startSend(RS485SerialDispatcherP__sendId, TRUE, TRUE, pktNo) != SUCCESS) {
    RS485SerialDispatcherP__resendTask__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialDispatcherP__signalSendDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialDispatcherP__signalSendDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RS485SerialDispatcherP__ackTimeout__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(1U);
#line 67
}
#line 67
# 114 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__stopAckTimeout__runTask(void )
#line 114
{
  RS485SerialDispatcherP__ackTimeout__stop();
  RS485SerialDispatcherP__signalSendDone__postTask();
}

# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RandomMlcgC.nc"
static inline uint16_t RandomMlcgC__Random__rand16(void )
#line 78
{
  return (uint16_t )RandomMlcgC__Random__rand32();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Random.nc"
inline static uint16_t RS485SerialDispatcherP__Random__rand16(void ){
#line 41
  unsigned short result;
#line 41

#line 41
  result = RandomMlcgC__Random__rand16();
#line 41

#line 41
  return result;
#line 41
}
#line 41
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RS485SerialDispatcherP__ackTimeout__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(1U, dt);
#line 62
}
#line 62
# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__startAckTimeout__runTask(void )
#line 110
{
  RS485SerialDispatcherP__ackTimeout__startOneShot(10 + (RS485SerialDispatcherP__Random__rand16() & 0xF));
}

# 203 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static inline void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__sendDone(uint8_t dispatcher, message_t *msg, error_t err)
#line 203
{





  if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current >= 4) {
      return;
    }
  if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current].msg == msg) {
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__sendDone(/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current, msg, err);
    }
  else {
      ;
    }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static void RS485SerialDispatcherP__Send__sendDone(uart_id_t arg_0x405db650, message_t * msg, error_t error){
#line 89
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__sendDone(arg_0x405db650, msg, error);
#line 89
}
#line 89
# 194 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__signalSendDone__runTask(void )
#line 194
{
  error_t error;

  RS485SerialDispatcherP__sendState = RS485SerialDispatcherP__SEND_STATE_IDLE;
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 198
    error = RS485SerialDispatcherP__sendError;
#line 198
    __nesc_atomic_end(__nesc_atomic); }

  if (RS485SerialDispatcherP__sendCancelled) {
#line 200
    error = ECANCEL;
    }
#line 201
  RS485SerialDispatcherP__Send__sendDone(RS485SerialDispatcherP__sendId, (message_t *)RS485SerialDispatcherP__sendBuffer, error);
}

# 109 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__RS485Control__stopDone(error_t err)
#line 109
{
}

# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void RS485SerialP__SplitControl__stopDone(error_t error){
#line 117
  AtronBootP__RS485Control__stopDone(error);
#line 117
}
#line 117
# 281 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart1RxControl__stop(void )
#line 281
{
  * (volatile uint8_t *)0x9A &= ~(1 << 4);
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = HplAtm128UartP__Uart1RxControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 269 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart1TxControl__stop(void )
#line 269
{
  * (volatile uint8_t *)0x9A &= ~(1 << 3);
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = HplAtm128UartP__Uart1TxControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 126 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__stop(void )
#line 126
{
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__stop();
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__stop();
  return SUCCESS;
}

# 84 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t RS485SerialP__SerialControl__stop(void ){
#line 84
  unsigned char result;
#line 84

#line 84
  result = /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__stop();
#line 84

#line 84
  return result;
#line 84
}
#line 84
# 426 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__SerialFlush__flushDone(void )
#line 426
{
  RS485SerialP__SerialControl__stop();
  RS485SerialP__SplitControl__stopDone(SUCCESS);
}

static inline void RS485SerialP__defaultSerialFlushTask__runTask(void )
#line 431
{
  RS485SerialP__SerialFlush__flushDone();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__defaultSerialFlushTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__defaultSerialFlushTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 434 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__SerialFlush__default__flush(void )
#line 434
{
  RS485SerialP__defaultSerialFlushTask__postTask();
}

# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFlush.nc"
inline static void RS485SerialP__SerialFlush__flush(void ){
#line 38
  RS485SerialP__SerialFlush__default__flush();
#line 38
}
#line 38
# 422 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__stopDoneTask__runTask(void )
#line 422
{
  RS485SerialP__SerialFlush__flush();
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__startDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__startDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 438 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline error_t RS485SerialP__SplitControl__start(void )
#line 438
{
  RS485SerialP__startDoneTask__postTask();
  return SUCCESS;
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static error_t AtronBootP__RS485Control__start(void ){
#line 83
  unsigned char result;
#line 83

#line 83
  result = RS485SerialP__SplitControl__start();
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__RS485Control__startDone(error_t err)
#line 77
{
  if (err == SUCCESS) {
      AtronBootP__InfraredControl__start();
    }
  else {
      AtronBootP__RS485Control__start();
    }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void RS485SerialP__SplitControl__startDone(error_t error){
#line 92
  AtronBootP__RS485Control__startDone(error);
#line 92
}
#line 92
# 298 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart1__enableRxIntr(void )
#line 298
{
  * (volatile uint8_t *)0x9A |= 1 << 7;
  return SUCCESS;
}

# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableRxIntr(void ){
#line 42
  unsigned char result;
#line 42

#line 42
  result = HplAtm128UartP__HplUart1__enableRxIntr();
#line 42

#line 42
  return result;
#line 42
}
#line 42
# 275 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart1RxControl__start(void )
#line 275
{
  * (volatile uint8_t *)0x9A |= 1 << 4;
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = HplAtm128UartP__Uart1RxControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 263 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart1TxControl__start(void )
#line 263
{
  * (volatile uint8_t *)0x9A |= 1 << 3;
  HplAtm128UartP__McuPowerState__update();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = HplAtm128UartP__Uart1TxControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 303 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart1__disableRxIntr(void )
#line 303
{
  * (volatile uint8_t *)0x9A &= ~(1 << 7);
  return SUCCESS;
}

# 43 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableRxIntr(void ){
#line 43
  unsigned char result;
#line 43

#line 43
  result = HplAtm128UartP__HplUart1__disableRxIntr();
#line 43

#line 43
  return result;
#line 43
}
#line 43
# 293 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart1__disableTxIntr(void )
#line 293
{
  * (volatile uint8_t *)0x9A &= ~(1 << 6);
  return SUCCESS;
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableTxIntr(void ){
#line 41
  unsigned char result;
#line 41

#line 41
  result = HplAtm128UartP__HplUart1__disableTxIntr();
#line 41

#line 41
  return result;
#line 41
}
#line 41
# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__start(void )
#line 110
{

  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableTxIntr();
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableRxIntr();
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_intr = 0;
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_intr = 0;


  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartTxControl__start();
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUartRxControl__start();


  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableRxIntr();
  return SUCCESS;
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/StdControl.nc"
inline static error_t RS485SerialP__SerialControl__start(void ){
#line 74
  unsigned char result;
#line 74

#line 74
  result = /*Atm128Uart1C.UartP*/Atm128UartP__0__StdControl__start();
#line 74

#line 74
  return result;
#line 74
}
#line 74
# 416 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__startDoneTask__runTask(void )
#line 416
{
  RS485SerialP__SerialControl__start();
  RS485SerialP__SplitControl__startDone(SUCCESS);
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RS485SerialP__Watchdog__stop(void ){
#line 67
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__stop(2U);
#line 67
}
#line 67
# 301 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__stopWatchdog__runTask(void )
#line 301
{
  RS485SerialP__Watchdog__stop();
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RS485SerialP__Watchdog__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(2U, dt);
#line 62
}
#line 62
# 297 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__startWatchdog__runTask(void )
#line 297
{
  RS485SerialP__Watchdog__startOneShot(INFRARED_MESSAGE_TIMEOUT);
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__RunTx__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__RunTx);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )50U &= ~(1 << 5);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__driverEnable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__clr();
#line 30
}
#line 30
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )50U &= ~(1 << 4);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__receiverEnable__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__clr();
#line 30
}
#line 30
# 272 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline void RS485SerialP__setRx(void )
#line 272
{
  RS485SerialP__receiverEnable__clr();
  RS485SerialP__driverEnable__clr();
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t RS485SerialP__SerialFrameComm__putDelimiter(void ){
#line 45
  unsigned char result;
#line 45

#line 45
  result = /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDelimiter();
#line 45

#line 45
  return result;
#line 45
}
#line 45
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )50U |= 1 << 5;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__driverEnable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__set();
#line 29
}
#line 29
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )50U |= 1 << 4;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__receiverEnable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__set();
#line 29
}
#line 29
# 277 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline void RS485SerialP__setTx(void )
#line 277
{
  RS485SerialP__receiverEnable__set();
  RS485SerialP__driverEnable__set();
}

static __inline bool RS485SerialP__availableForTx(void )
#line 282
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 283
    {
      if (RS485SerialP__rxState == RS485SerialP__RXSTATE_NOSYNC) {
          RS485SerialP__setTx();
          {
            unsigned char __nesc_temp = 
#line 286
            TRUE;

            {
#line 286
              __nesc_atomic_end(__nesc_atomic); 
#line 286
              return __nesc_temp;
            }
          }
        }
      else 
#line 289
        {
          unsigned char __nesc_temp = 
#line 289
          FALSE;

          {
#line 289
            __nesc_atomic_end(__nesc_atomic); 
#line 289
            return __nesc_temp;
          }
        }
    }
#line 292
    __nesc_atomic_end(__nesc_atomic); }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialDispatcherP__startAckTimeout__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialDispatcherP__startAckTimeout);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 230 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__SendBytePacket__sendCompleted(error_t error, uint8_t seqNo)
#line 230
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 231
    {
      RS485SerialDispatcherP__sendError = error;
      if (error == SUCCESS && RS485SerialDispatcherP__waitingAck) {
        RS485SerialDispatcherP__startAckTimeout__postTask();
        }
      else {
#line 236
        RS485SerialDispatcherP__signalSendDone__postTask();
        }
    }
#line 238
    __nesc_atomic_end(__nesc_atomic); }
}

# 80 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
inline static void RS485SerialP__SendBytePacket__sendCompleted(error_t error, uint8_t seqNo){
#line 80
  RS485SerialDispatcherP__SendBytePacket__sendCompleted(error, seqNo);
#line 80
}
#line 80
# 331 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline bool RS485SerialP__ack_queue_is_empty(void )
#line 331
{
  bool ret;

#line 333
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 333
    ret = RS485SerialP__ackQ.writePtr == RS485SerialP__ackQ.readPtr;
#line 333
    __nesc_atomic_end(__nesc_atomic); }
  return ret;
}

#line 354
static __inline uint8_t RS485SerialP__ack_queue_top(void )
#line 354
{
  uint8_t tmp = 0;

  /* atomic removed: atomic calls only */
#line 356
  {
    if (!RS485SerialP__ack_queue_is_empty()) {
        tmp = RS485SerialP__ackQ.buf[RS485SerialP__ackQ.readPtr];
      }
  }
  return tmp;
}

static inline uint8_t RS485SerialP__ack_queue_pop(void )
#line 364
{
  uint8_t retval = 0;

#line 366
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 366
    {
      if (RS485SerialP__ackQ.writePtr != RS485SerialP__ackQ.readPtr) {
          retval = RS485SerialP__ackQ.buf[RS485SerialP__ackQ.readPtr];
          if (++ RS485SerialP__ackQ.readPtr > RS485SerialP__ACK_QUEUE_SIZE) {
#line 369
            RS485SerialP__ackQ.readPtr = 0;
            }
        }
    }
#line 372
    __nesc_atomic_end(__nesc_atomic); }
#line 372
  return retval;
}

#line 644
static inline void RS485SerialP__RunTx__runTask(void )
#line 644
{
  uint8_t idle;
  uint8_t done;
  uint8_t fail;









  error_t result = SUCCESS;
  bool send_completed = FALSE;
  bool start_it = FALSE;


  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 662
    {
      RS485SerialP__txPending = 0;
      idle = RS485SerialP__txState == RS485SerialP__TXSTATE_IDLE;
      done = RS485SerialP__txState == RS485SerialP__TXSTATE_FINISH;
      fail = RS485SerialP__txState == RS485SerialP__TXSTATE_ERROR;
      if (done || fail) {
          RS485SerialP__txState = RS485SerialP__TXSTATE_IDLE;
          RS485SerialP__txBuf[RS485SerialP__txIndex].state = RS485SerialP__BUFFER_AVAILABLE;
        }
    }
#line 671
    __nesc_atomic_end(__nesc_atomic); }


  if (done || fail) {
      if (RS485SerialP__txProto == SERIAL_PROTO_ACK) {
          RS485SerialP__ack_queue_pop();
        }
      else {
          result = done ? SUCCESS : FAIL;
          send_completed = TRUE;
        }
      idle = TRUE;
    }


  if (idle) {
      bool goInactive;

#line 688
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 688
        goInactive = RS485SerialP__offPending;
#line 688
        __nesc_atomic_end(__nesc_atomic); }
      if (goInactive) {
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 690
            RS485SerialP__txState = RS485SerialP__TXSTATE_INACTIVE;
#line 690
            __nesc_atomic_end(__nesc_atomic); }
        }
      else {

          uint8_t myAckState;
          uint8_t myDataState;

#line 696
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 696
            {
              myAckState = RS485SerialP__txBuf[RS485SerialP__TX_ACK_INDEX].state;
              myDataState = RS485SerialP__txBuf[RS485SerialP__TX_DATA_INDEX].state;
              RS485SerialP__txCRC = 0;
              RS485SerialP__txByteCnt = 0;
            }
#line 701
            __nesc_atomic_end(__nesc_atomic); }
          if (!RS485SerialP__ack_queue_is_empty() && myAckState == RS485SerialP__BUFFER_AVAILABLE) {
              { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 703
                {
                  RS485SerialP__txBuf[RS485SerialP__TX_ACK_INDEX].state = RS485SerialP__BUFFER_COMPLETE;
                  RS485SerialP__ackSeqno = RS485SerialP__ack_queue_top();
                }
#line 706
                __nesc_atomic_end(__nesc_atomic); }

              RS485SerialP__txProto = SERIAL_PROTO_ACK;
              RS485SerialP__txIndex = RS485SerialP__TX_ACK_INDEX;
              start_it = TRUE;
            }
          else {
#line 712
            if (myDataState == RS485SerialP__BUFFER_FILLING || myDataState == RS485SerialP__BUFFER_COMPLETE) {
                { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 713
                  {
                    if (RS485SerialP__ackRequested) {
                      RS485SerialP__txProto = SERIAL_PROTO_PACKET_ACK;
                      }
                    else {
#line 717
                      RS485SerialP__txProto = SERIAL_PROTO_PACKET_NOACK;
                      }
                  }
#line 719
                  __nesc_atomic_end(__nesc_atomic); }
#line 719
                RS485SerialP__txIndex = RS485SerialP__TX_DATA_INDEX;
                start_it = TRUE;
              }
            else {
              }
            }
        }
    }
  else {
    }


  if (send_completed) {
      RS485SerialP__SendBytePacket__sendCompleted(result, RS485SerialP__txSeqno);
    }

  if (RS485SerialP__txState == RS485SerialP__TXSTATE_INACTIVE) {
      RS485SerialP__testOff();
      return;
    }

  if (start_it) {


      if (RS485SerialP__availableForTx()) {
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 744
            RS485SerialP__txState = RS485SerialP__TXSTATE_PROTO;
#line 744
            __nesc_atomic_end(__nesc_atomic); }

          if (RS485SerialP__SerialFrameComm__putDelimiter() != SUCCESS) {
              RS485SerialP__setRx();
              { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 748
                RS485SerialP__txState = RS485SerialP__TXSTATE_ERROR;
#line 748
                __nesc_atomic_end(__nesc_atomic); }
              RS485SerialP__RunTx__postTask();
            }
        }
      else 
        {
          RS485SerialP__RunTx__postTask();
        }
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__stopDoneTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__stopDoneTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 287 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__HplUart1__enableTxIntr(void )
#line 287
{
  * (volatile uint8_t *)0x9B |= 1 << 6;
  * (volatile uint8_t *)0x9A |= 1 << 6;
  return SUCCESS;
}

# 40 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableTxIntr(void ){
#line 40
  unsigned char result;
#line 40

#line 40
  result = HplAtm128UartP__HplUart1__enableTxIntr();
#line 40

#line 40
  return result;
#line 40
}
#line 40
# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__startAt(/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type t0, /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type dt){
#line 92
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__startAt(t0, dt);
#line 92
}
#line 92
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__start(uint32_t t0, uint32_t dt, bool oneshot)
{
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_dt = dt;
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_oneshot = oneshot;
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__startAt(t0, dt);
}

#line 82
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__startOneShotAt(uint32_t t0, uint32_t dt)
{
#line 83
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__start(t0, dt, TRUE);
}

# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__startOneShotAt(uint32_t t0, uint32_t dt){
#line 118
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__startOneShotAt(t0, dt);
#line 118
}
#line 118
# 142 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Compare__stop(void )
#line 142
{
#line 142
  * (volatile uint8_t *)(0x37 + 0x20) &= ~(1 << 1);
}

# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__stop(void ){
#line 59
  HplAtm128Timer0C__Compare__stop();
#line 59
}
#line 59
# 65 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128AlarmC.nc"
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__stop(void )
#line 65
{
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__stop();
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__stop(void ){
#line 62
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__stop();
#line 62
}
#line 62
# 173 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__stop(void )
{
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__stop();
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__stop(void ){
#line 62
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__stop();
#line 62
}
#line 62
# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__stop(void )
{
#line 61
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__stop();
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__stop(void ){
#line 67
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__stop();
#line 67
}
#line 67
# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__runTask(void )
{




  uint32_t now = /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow();
  int32_t min_remaining = (1UL << 31) - 1;
  bool min_remaining_isset = FALSE;
  uint8_t num;

  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__stop();

  for (num = 0; num < /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__NUM_TIMERS; num++) 
    {
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer_t *timer = &/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[num];

      if (timer->isrunning) 
        {
          uint32_t elapsed = now - timer->t0;
          int32_t remaining = timer->dt - elapsed;

          if (remaining < min_remaining) 
            {
              min_remaining = remaining;
              min_remaining_isset = TRUE;
            }
        }
    }

  if (min_remaining_isset) 
    {
      if (min_remaining <= 0) {
        /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__fireTimers(now);
        }
      else {
#line 124
        /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__startOneShotAt(now, min_remaining);
        }
    }
}

# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/RpcRead16ClientP.nc"
static inline error_t /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__read(void )
#line 53
{
  return /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__postTask();
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t RpcInfoInitP__initDegrees__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__read();
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void RpcInfoInitP__noResponseTimer__startOneShot(uint32_t dt){
#line 62
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(27U, dt);
#line 62
}
#line 62
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/RpcInfoInitP.nc"
static inline void RpcInfoInitP__SubBoot__booted(void )
#line 60
{
  RpcInfoInitP__noResponseTimer__startOneShot(NO_RESPONSE_TIMEOUT);
  RpcInfoInitP__initDegrees__read();
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void AtronBootP__Boot__booted(void ){
#line 49
  RpcInfoInitP__SubBoot__booted();
#line 49
}
#line 49
# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__Timer__fired(void )
#line 104
{
  AtronBootP__Boot__booted();
}

# 417 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__ackTimeout__fired(void )
#line 417
{
  bool resend;

#line 419
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 419
    resend = RS485SerialDispatcherP__waitingAck;
#line 419
    __nesc_atomic_end(__nesc_atomic); }
  if (resend) {
    RS485SerialDispatcherP__resendTask__postTask();
    }
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static void RS485SerialP__ReceiveBytePacket__endPacket(error_t result){
#line 69
  RS485SerialDispatcherP__ReceiveBytePacket__endPacket(result);
#line 69
}
#line 69
# 83 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__resetReceive(void )
#line 83
{
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.receiveEscape = 0;
}

# 68 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void RS485SerialP__SerialFrameComm__resetReceive(void ){
#line 68
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__resetReceive();
#line 68
}
#line 68
# 256 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline void RS485SerialP__rxInit(void )
#line 256
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 257
    {
      RS485SerialP__rxBuf.writePtr = RS485SerialP__rxBuf.readPtr = 0;
      RS485SerialP__rxState = RS485SerialP__RXSTATE_NOSYNC;
      RS485SerialP__rxByteCnt = 0;
      RS485SerialP__rxProto = 0;
      RS485SerialP__rxSeqno = 0;
      RS485SerialP__rxCRC = 0;
    }
#line 264
    __nesc_atomic_end(__nesc_atomic); }
}

#line 876
static inline void RS485SerialP__Watchdog__fired(void )
#line 876
{
  bool reset;

#line 878
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 878
    reset = RS485SerialP__watchdogOn;
#line 878
    __nesc_atomic_end(__nesc_atomic); }
  if (reset) {

      RS485SerialP__rxInit();
      RS485SerialP__SerialFrameComm__resetReceive();
      RS485SerialP__ReceiveBytePacket__endPacket(FAIL);
    }
}

# 424 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__delayTimer__fired(void )
#line 424
{
  RS485SerialDispatcherP__signalSendDone__postTask();
}

# 917 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__Watchdog__fired(void )
#line 917
{
  bool release;

#line 919
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 919
    release = InfraredSerialP__resourceRequested;
#line 919
    __nesc_atomic_end(__nesc_atomic); }
  if (release) {
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 921
        InfraredSerialP__rxState = InfraredSerialP__RXSTATE_NOSYNC;
#line 921
        __nesc_atomic_end(__nesc_atomic); }
      InfraredSerialP__ResourceDefaultOwner__release();
    }
  else {
    InfraredSerialP__resetRxPath();
    }
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(0U, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 151 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setType(message_t * amsg, am_id_t t){
#line 151
  InfraredActiveMessageP__AMPacket__setType(amsg, t);
#line 151
}
#line 151
#line 92
inline static void /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setDestination(message_t * amsg, am_addr_t addr){
#line 92
  InfraredActiveMessageP__AMPacket__setDestination(amsg, addr);
#line 92
}
#line 92
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len)
#line 47
{
  /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setDestination(msg, dest);
  /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMPacket__setType(msg, 128);
  return /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__Send__send(msg, len);
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t IsAliveP__AMSend__send(am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*IsAliveC.sender.AMQueueEntryP*/AMQueueEntryP__1__AMSend__send(addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 108 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static void IsAliveP__InfraredPacket__setConnector(message_t *msg, uint8_t conn){
#line 108
  InfraredPacketC__InfraredPacket__setConnector(msg, conn);
#line 108
}
#line 108
# 68 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__IsAlive__sendMsg(void )
#line 68
{
  if (!IsAliveP__busy) {
      IsAliveP__InfraredPacket__setConnector(&IsAliveP__pkt, 0xff);


      if (
#line 72
      IsAliveP__AMSend__send(AM_BROADCAST_ADDR, 
      &IsAliveP__pkt, sizeof(IsAliveMsg )) == SUCCESS) {
          IsAliveP__busy = TRUE;
        }
    }
}

# 44 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAlive.nc"
inline static void NeighborTableP__IsAlive__sendMsg(void ){
#line 44
  IsAliveP__IsAlive__sendMsg();
#line 44
}
#line 44
# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static inline void NeighborTableP__IsAliveTimer__fired(void )
#line 104
{

  NeighborTableP__IsAlive__sendMsg();
}

# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/IsAliveP.nc"
static inline void IsAliveP__ExpireTimer__fired(uint8_t connector)
#line 105
{

  IsAliveP__hiTrafficConnectors &= ~connector;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 129 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__fired(void )
#line 129
{
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__sense__read();
}

#line 145
static inline void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__estTimer__fired(void )
#line 145
{

  if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState != MALE_CONNECTOR_EXTENDED) {
    /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract();
    }
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 129 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__fired(void )
#line 129
{
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__sense__read();
}

#line 145
static inline void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__estTimer__fired(void )
#line 145
{

  if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState != MALE_CONNECTOR_EXTENDED) {
    /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t HemisphereProximitySensorP__signalReadDone__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(HemisphereProximitySensorP__signalReadDone);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static error_t HemisphereProximitySensorP__Resource__release(void ){
#line 110
  unsigned char result;
#line 110

#line 110
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__release(HemisphereProximitySensorC__CLIENT_ID);
#line 110

#line 110
  return result;
#line 110
}
#line 110
# 136 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__SampleTimer__fired(void )
#line 136
{
  HemisphereProximitySensorP__RxInterrupt__disable();
  HemisphereProximitySensorP__Resource__release();
  HemisphereProximitySensorP__signalReadDone__postTask();
}

# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/RpcInfoInitP.nc"
static inline void RpcInfoInitP__noResponseTimer__fired(void )
#line 65
{


  if (!RpcInfoInitP__alreadyBooted) {
      RpcInfoInitP__alreadyBooted = TRUE;
      RpcInfoInitP__signalBooted__postTask();
    }
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t CentralJointClientP__ReadDegrees__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__Read__read();
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 81 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline error_t CentralJointClientP__joint__readDegrees(void )
#line 81
{
  CentralJointClientP__readDegreesDonePending = TRUE;
  return CentralJointClientP__ReadDegrees__read();
}

# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
inline static error_t AtronTosApiC__CentralJoint__readDegrees(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = CentralJointClientP__joint__readDegrees();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Read.nc"
inline static error_t AtronTosApiC__Battery__read(void ){
#line 55
  unsigned char result;
#line 55

#line 55
  result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Read__read(/*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID);
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 419 "AtronTosApiC.nc"
static inline void AtronTosApiC__Timer__fired(void )
#line 419
{


  AtronTosApiC__Battery__read();
  AtronTosApiC__CentralJoint__readDegrees();
}

# 82 "StartATRONC.nc"
static inline void StartATRONC__Timer__fired(void )
#line 82
{
  StartATRONC__startControl();
}

# 193 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__default__fired(uint8_t num)
{
}

# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__fired(uint8_t arg_0x404db708){
#line 72
  switch (arg_0x404db708) {
#line 72
    case 0U:
#line 72
      AtronBootP__Timer__fired();
#line 72
      break;
#line 72
    case 1U:
#line 72
      RS485SerialDispatcherP__ackTimeout__fired();
#line 72
      break;
#line 72
    case 2U:
#line 72
      RS485SerialP__Watchdog__fired();
#line 72
      break;
#line 72
    case 3U:
#line 72
      RS485SerialDispatcherP__delayTimer__fired();
#line 72
      break;
#line 72
    case 4U:
#line 72
      InfraredSerialP__Watchdog__fired();
#line 72
      break;
#line 72
    case 5U:
#line 72
      NeighborTableP__IsAliveTimer__fired();
#line 72
      break;
#line 72
    case 6U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_0);
#line 72
      break;
#line 72
    case 7U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_1);
#line 72
      break;
#line 72
    case 8U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_2);
#line 72
      break;
#line 72
    case 9U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_3);
#line 72
      break;
#line 72
    case 10U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_4);
#line 72
      break;
#line 72
    case 11U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_5);
#line 72
      break;
#line 72
    case 12U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_6);
#line 72
      break;
#line 72
    case 13U:
#line 72
      NeighborTableP__ExpireTimer__fired(CONNECTOR_7);
#line 72
      break;
#line 72
    case 14U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_0);
#line 72
      break;
#line 72
    case 15U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_1);
#line 72
      break;
#line 72
    case 16U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_2);
#line 72
      break;
#line 72
    case 17U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_3);
#line 72
      break;
#line 72
    case 18U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_4);
#line 72
      break;
#line 72
    case 19U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_5);
#line 72
      break;
#line 72
    case 20U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_6);
#line 72
      break;
#line 72
    case 21U:
#line 72
      IsAliveP__ExpireTimer__fired(CONNECTOR_7);
#line 72
      break;
#line 72
    case 22U:
#line 72
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__fired();
#line 72
      break;
#line 72
    case 23U:
#line 72
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__estTimer__fired();
#line 72
      break;
#line 72
    case 24U:
#line 72
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__fired();
#line 72
      break;
#line 72
    case 25U:
#line 72
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__estTimer__fired();
#line 72
      break;
#line 72
    case 26U:
#line 72
      HemisphereProximitySensorP__SampleTimer__fired();
#line 72
      break;
#line 72
    case 27U:
#line 72
      RpcInfoInitP__noResponseTimer__fired();
#line 72
      break;
#line 72
    case 28U:
#line 72
      AtronTosApiC__Timer__fired();
#line 72
      break;
#line 72
    case 29U:
#line 72
      StartATRONC__Timer__fired();
#line 72
      break;
#line 72
    default:
#line 72
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__default__fired(arg_0x404db708);
#line 72
      break;
#line 72
    }
#line 72
}
#line 72
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t NeighborTableP__Connector__retract(uint8_t arg_0x40f88378){
#line 58
  unsigned char result;
#line 58

#line 58
  result = ConnectorsImplP__Connector__retract(arg_0x40f88378);
#line 58

#line 58
  return result;
#line 58
}
#line 58
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline error_t /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retract(void )
#line 62
{
  if (/*Connector2ClientC.client*/ConnectorClientP__1__connector == MALE_CONNECTOR_RETRACTED) {
    return EALREADY;
    }
#line 65
  /*Connector2ClientC.client*/ConnectorClientP__1__connector = MALE_CONNECTOR_RETRACTING;
  /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__postTask();
  return SUCCESS;
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t ConnectorsImplP__Connector0__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*Connector2ClientC.client*/ConnectorClientP__1__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
# 62 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/rpc/ConnectorClientP.nc"
static inline error_t /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retract(void )
#line 62
{
  if (/*Connector1ClientC.client*/ConnectorClientP__0__connector == MALE_CONNECTOR_RETRACTED) {
    return EALREADY;
    }
#line 65
  /*Connector1ClientC.client*/ConnectorClientP__0__connector = MALE_CONNECTOR_RETRACTING;
  /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__postTask();
  return SUCCESS;
}

# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t ConnectorsImplP__Connector2__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*Connector1ClientC.client*/ConnectorClientP__0__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
inline static error_t ConnectorsImplP__Connector4__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
inline static error_t ConnectorsImplP__Connector6__retract(void ){
#line 58
  unsigned char result;
#line 58

#line 58
  result = /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract();
#line 58

#line 58
  return result;
#line 58
}
#line 58
# 276 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__receiveBufferSwap(void )
#line 276
{
  RS485SerialDispatcherP__receiveState.which = RS485SerialDispatcherP__receiveState.which ? 0 : 1;
  RS485SerialDispatcherP__receiveBuffer = (uint8_t *)RS485SerialDispatcherP__messagePtrs[RS485SerialDispatcherP__receiveState.which];
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialDispatcherP__receiveTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialDispatcherP__receiveTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 141 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Compare__start(void )
#line 141
{
#line 141
  * (volatile uint8_t *)(0x37 + 0x20) |= 1 << 1;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__start(void ){
#line 56
  HplAtm128Timer0C__Compare__start();
#line 56
}
#line 56
# 140 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Compare__reset(void )
#line 140
{
#line 140
  * (volatile uint8_t *)(0x36 + 0x20) = 1 << 1;
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__reset(void ){
#line 53
  HplAtm128Timer0C__Compare__reset();
#line 53
}
#line 53
# 154 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
static inline void HplAtm128Timer0C__Compare__set(uint8_t t)
#line 154
{
#line 154
  * (volatile uint8_t *)(0x31 + 0x20) = t;
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__set(/*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__size_type t){
#line 45
  HplAtm128Timer0C__Compare__set(t);
#line 45
}
#line 45
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__timer_size /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__get(void ){
#line 52
  unsigned char result;
#line 52

#line 52
  result = HplAtm128Timer0C__Timer__get();
#line 52

#line 52
  return result;
#line 52
}
#line 52
# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128AlarmC.nc"
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__startAt(/*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size t0, /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size dt)
#line 74
{
  /* atomic removed: atomic calls only */






  {
    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size now;
#line 83
    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size elapsed;
#line 83
    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__timer_size expires;

    ;


    now = /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__get();
    elapsed = now + 10 - t0;
    if (elapsed >= dt) {
      expires = now + 10;
      }
    else {
#line 93
      expires = t0 + dt;
      }



    if (expires == 0) {
      expires = 1;
      }



    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__set(expires - 1);
    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__reset();
    /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__start();
  }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__startAt(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__size_type t0, /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__size_type dt){
#line 92
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__startAt(t0, dt);
#line 92
}
#line 92
# 128 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static inline void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__fired(void )
{
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__fireTimers(/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow());
}

# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
inline static void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__fired(void ){
#line 72
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__fired();
#line 72
}
#line 72
# 163 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static inline /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getAlarm(void )
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 165
    {
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type __nesc_temp = 
#line 165
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0 + /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt;

      {
#line 165
        __nesc_atomic_end(__nesc_atomic); 
#line 165
        return __nesc_temp;
      }
    }
#line 167
    __nesc_atomic_end(__nesc_atomic); }
}

# 105 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__size_type /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getAlarm(void ){
#line 105
  unsigned long result;
#line 105

#line 105
  result = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__getAlarm();
#line 105

#line 105
  return result;
#line 105
}
#line 105
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__runTask(void )
{
  if (/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_oneshot == FALSE) {
    /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__start(/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__getAlarm(), /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__m_dt, FALSE);
    }
#line 67
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Timer__fired();
}

# 277 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline void InfraredSerialP__ackInit(void )
#line 277
{
  InfraredSerialP__ackQ.writePtr = InfraredSerialP__ackQ.readPtr = 0;
}

#line 254
static __inline void InfraredSerialP__txInit(void )
#line 254
{
  uint8_t i;

  /* atomic removed: atomic calls only */
#line 256
  for (i = 0; i < InfraredSerialP__TX_BUFFER_COUNT; i++) InfraredSerialP__txBuf[i].state = InfraredSerialP__BUFFER_AVAILABLE;
  InfraredSerialP__txState = InfraredSerialP__TXSTATE_IDLE;
  InfraredSerialP__txByteCnt = 0;
  InfraredSerialP__txProto = 0;
  InfraredSerialP__txSeqno = 0;
  InfraredSerialP__txCRC = 0;
  InfraredSerialP__txPending = FALSE;
  InfraredSerialP__txIndex = 0;
}

#line 289
static inline error_t InfraredSerialP__Init__init(void )
#line 289
{

  InfraredSerialP__txInit();
  InfraredSerialP__rxInit();
  InfraredSerialP__ackInit();

  return SUCCESS;
}

# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )49U |= 1 << 5;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__driverEnable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortD.Bit5*/HplAtm128GeneralIOPinP__29__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )49U |= 1 << 4;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void RS485SerialP__receiverEnable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortD.Bit4*/HplAtm128GeneralIOPinP__28__IO__makeOutput();
#line 35
}
#line 35
# 267 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline void RS485SerialP__pinsInit(void )
#line 267
{
  RS485SerialP__receiverEnable__makeOutput();
  RS485SerialP__driverEnable__makeOutput();
}

#line 293
static __inline void RS485SerialP__ackInit(void )
#line 293
{
  RS485SerialP__ackQ.writePtr = RS485SerialP__ackQ.readPtr = 0;
}

#line 244
static __inline void RS485SerialP__txInit(void )
#line 244
{
  uint8_t i;

  /* atomic removed: atomic calls only */
#line 246
  for (i = 0; i < RS485SerialP__TX_BUFFER_COUNT; i++) RS485SerialP__txBuf[i].state = RS485SerialP__BUFFER_AVAILABLE;
  RS485SerialP__txState = RS485SerialP__TXSTATE_IDLE;
  RS485SerialP__txByteCnt = 0;
  RS485SerialP__txProto = 0;
  RS485SerialP__txSeqno = 0;
  RS485SerialP__txCRC = 0;
  RS485SerialP__txPending = FALSE;
  RS485SerialP__txIndex = 0;
}

#line 305
static inline error_t RS485SerialP__Init__init(void )
#line 305
{

  RS485SerialP__txInit();
  RS485SerialP__rxInit();
  RS485SerialP__ackInit();
  RS485SerialP__pinsInit();
  RS485SerialP__setRx();

  return SUCCESS;
}

# 22 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/NoInitC.nc"
static inline error_t NoInitC__Init__init(void )
#line 22
{
  return SUCCESS;
}

# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__Init__init(void )
#line 97
{
  if (76800UL == 19200UL) {
    /*Atm128Uart1C.UartP*/Atm128UartP__0__m_byte_time = 200;
    }
  else {
#line 100
    if (76800UL == 38400UL) {
      /*Atm128Uart1C.UartP*/Atm128UartP__0__m_byte_time = 98;
      }
    else {
#line 102
      if (76800UL == 57600UL) {
        /*Atm128Uart1C.UartP*/Atm128UartP__0__m_byte_time = 68;
        }
      else {
#line 104
        if (76800UL == 76800UL) {
          /*Atm128Uart1C.UartP*/Atm128UartP__0__m_byte_time = 49;
          }
        }
      }
    }
#line 106
  return SUCCESS;
}

# 104 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/MeasureClockC.nc"
static inline uint16_t MeasureClockC__Atm128Calibrate__baudrateRegister(uint32_t baudrate)
#line 104
{

  return ((uint32_t )MeasureClockC__MAGIC << 12) / baudrate - 1;
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128Calibrate.nc"
inline static uint16_t HplAtm128UartP__Atm128Calibrate__baudrateRegister(uint32_t baudrate){
#line 60
  unsigned short result;
#line 60

#line 60
  result = MeasureClockC__Atm128Calibrate__baudrateRegister(baudrate);
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 243 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart1Init__init(void )
#line 243
{
  Atm128UartMode_t mode;
  Atm128UartStatus_t stts;
  Atm128UartControl_t ctrl;
  uint16_t ubrr1;

  ctrl.bits = (struct Atm128_UCSRB_t ){ .rxcie = 0, .txcie = 0, .rxen = 0, .txen = 0 };
  stts.bits = (struct Atm128_UCSRA_t ){ .u2x = 1 };
  mode.bits = (struct Atm128_UCSRC_t ){ .ucsz = ATM128_UART_DATA_SIZE_8_BITS };

  ubrr1 = HplAtm128UartP__Atm128Calibrate__baudrateRegister(RS485_BAUDRATE);
  * (volatile uint8_t *)0x99 = ubrr1;
  * (volatile uint8_t *)0x98 = ubrr1 >> 8;
  * (volatile uint8_t *)0x9B = stts.flat;
  * (volatile uint8_t *)0x9D = mode.flat;
  * (volatile uint8_t *)0x9A = ctrl.flat;

  return SUCCESS;
}

# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )50U |= 1 << 1;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void HplAtm128UartP__mcp2120Mode__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__set();
#line 29
}
#line 29
# 76 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/BusyWaitMicroC.nc"
static __inline void BusyWaitMicroC__BusyWait__wait(uint16_t dt)
#line 76
{

  if (dt) {
#line 110
     __asm volatile (
    "1:	sbiw	%0,1\n"
    "	adiw	%0,1\n"
    "	sbiw	%0,1\n"
    "	adiw	%0,1\n"
    "	sbiw	%0,1\n"
    "	adiw	%0,1\n"
    "	sbiw	%0,1\n"
    "	brne	1b" : "+w"(dt));
    }
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/BusyWait.nc"
inline static void HplAtm128UartP__BusyWait__wait(HplAtm128UartP__BusyWait__size_type dt){
#line 55
  BusyWaitMicroC__BusyWait__wait(dt);
#line 55
}
#line 55
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )50U &= ~(1 << 1);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void HplAtm128UartP__mcp2120Mode__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__clr();
#line 30
}
#line 30
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__set(void )
#line 46
{
#line 46
  * (volatile uint8_t * )35U |= 1 << 2;
}

# 29 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void HplAtm128UartP__mcp2120Enable__set(void ){
#line 29
  /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__set();
#line 29
}
#line 29
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )49U |= 1 << 1;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void HplAtm128UartP__mcp2120Mode__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortD.Bit1*/HplAtm128GeneralIOPinP__25__IO__makeOutput();
#line 35
}
#line 35
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__makeOutput(void )
#line 52
{
#line 52
  * (volatile uint8_t * )34U |= 1 << 2;
}

# 35 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void HplAtm128UartP__mcp2120Enable__makeOutput(void ){
#line 35
  /*HplAtm128GeneralIOC.PortE.Bit2*/HplAtm128GeneralIOPinP__34__IO__makeOutput();
#line 35
}
#line 35
# 127 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static inline error_t HplAtm128UartP__Uart0Init__init(void )
#line 127
{
  Atm128UartMode_t mode;
  Atm128UartStatus_t stts;
  Atm128UartControl_t ctrl;
  uint16_t ubrr0;

  ctrl.bits = (struct Atm128_UCSRB_t ){ .rxcie = 0, .txcie = 0, .rxen = 0, .txen = 0 };
  stts.bits = (struct Atm128_UCSRA_t ){ .u2x = 1 };
  mode.bits = (struct Atm128_UCSRC_t ){ .ucsz = ATM128_UART_DATA_SIZE_8_BITS };


  ubrr0 = HplAtm128UartP__Atm128Calibrate__baudrateRegister(9600);
  * (volatile uint8_t *)(0x09 + 0x20) = ubrr0;
  * (volatile uint8_t *)0x90 = ubrr0 >> 8;
  * (volatile uint8_t *)(0x0B + 0x20) = stts.flat;
  * (volatile uint8_t *)0x95 = mode.flat;
  * (volatile uint8_t *)(0x0A + 0x20) = ctrl.flat;

  HplAtm128UartP__Uart0TxControl__start();

  HplAtm128UartP__mcp2120Enable__makeOutput();
  HplAtm128UartP__mcp2120Mode__makeOutput();
  HplAtm128UartP__mcp2120Enable__set();
  HplAtm128UartP__mcp2120Mode__clr();
  HplAtm128UartP__BusyWait__wait(3000);

  HplAtm128UartP__HplUart0__tx(0x85);
  HplAtm128UartP__BusyWait__wait(3000);

  HplAtm128UartP__HplUart0__tx(0x11);
  HplAtm128UartP__BusyWait__wait(3000);

  HplAtm128UartP__mcp2120Mode__set();


  ubrr0 = HplAtm128UartP__Atm128Calibrate__baudrateRegister(INFRARED_BAUDRATE);
  * (volatile uint8_t *)(0x09 + 0x20) = ubrr0;
  * (volatile uint8_t *)0x90 = ubrr0 >> 8;

  return SUCCESS;
}

# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RandomMlcgC.nc"
static inline error_t RandomMlcgC__Init__init(void )
#line 44
{
  /* atomic removed: atomic calls only */
#line 45
  RandomMlcgC__seed = (uint32_t )(TOS_NODE_ID + 1);

  return SUCCESS;
}

# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__Init__init(void )
#line 97
{
  if (38400UL == 19200UL) {
    /*Atm128Uart0C.UartP*/Atm128UartP__1__m_byte_time = 200;
    }
  else {
#line 100
    if (38400UL == 38400UL) {
      /*Atm128Uart0C.UartP*/Atm128UartP__1__m_byte_time = 98;
      }
    else {
#line 102
      if (38400UL == 57600UL) {
        /*Atm128Uart0C.UartP*/Atm128UartP__1__m_byte_time = 68;
        }
      else {
#line 104
        if (38400UL == 76800UL) {
          /*Atm128Uart0C.UartP*/Atm128UartP__1__m_byte_time = 49;
          }
        }
      }
    }
#line 106
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline error_t /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__Init__init(void )
#line 51
{
  memset(/*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ, 0, sizeof /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ);
  return SUCCESS;
}

# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
static inline error_t StateImplP__Init__init(void )
#line 81
{
  int i;

#line 83
  for (i = 0; i < 2U; i++) {
      StateImplP__state[i] = StateImplP__S_IDLE;
    }
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static inline error_t /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__Init__init(void )
#line 51
{
  memset(/*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ, 0, sizeof /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ);
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
inline static error_t RealMainP__SoftwareInit__init(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__Init__init();
#line 51
  result = ecombine(result, StateImplP__Init__init());
#line 51
  result = ecombine(result, /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__Init__init());
#line 51
  result = ecombine(result, /*Atm128Uart0C.UartP*/Atm128UartP__1__Init__init());
#line 51
  result = ecombine(result, RandomMlcgC__Init__init());
#line 51
  result = ecombine(result, HplAtm128UartP__Uart0Init__init());
#line 51
  result = ecombine(result, HplAtm128UartP__Uart1Init__init());
#line 51
  result = ecombine(result, /*Atm128Uart1C.UartP*/Atm128UartP__0__Init__init());
#line 51
  result = ecombine(result, NoInitC__Init__init());
#line 51
  result = ecombine(result, RS485SerialP__Init__init());
#line 51
  result = ecombine(result, InfraredSerialP__Init__init());
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
inline static error_t FlashReaderP__flash__read(uint32_t addr, void *buf, uint32_t len){
#line 60
  unsigned char result;
#line 60

#line 60
  result = AvrStorageModifyP__DirectModify__read(0U, addr, buf, len);
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 55 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/FlashReaderP.nc"
static inline error_t FlashReaderP__SplitControl__start(void )
#line 55
{
  return FlashReaderP__flash__read(MODULE_ID_FLASH_ADDR, (void *)&FlashReaderP__moduleIdOnFlash, sizeof(uint16_t ));
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static error_t AtronBootP__FlashInfoControl__start(void ){
#line 83
  unsigned char result;
#line 83

#line 83
  result = FlashReaderP__SplitControl__start();
#line 83

#line 83
  return result;
#line 83
}
#line 83
# 63 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__MainCBoot__booted(void )
#line 63
{
  AtronBootP__FlashInfoControl__start();
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Boot.nc"
inline static void RealMainP__Boot__booted(void ){
#line 49
  AtronBootP__MainCBoot__booted();
#line 49
}
#line 49
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
inline static error_t AvrStorageModifyP__State__requestState(uint8_t reqState){
#line 45
  unsigned char result;
#line 45

#line 45
  result = StateImplP__State__requestState(1U, reqState);
#line 45

#line 45
  return result;
#line 45
}
#line 45
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/FlashReaderP.nc"
static inline uint16_t FlashReaderP__getModuleIdOnFlash__get(void )
#line 51
{
  return FlashReaderP__moduleIdOnFlash;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
inline static ActiveMessageAddressC__getModuleIdOnFlash__val_t ActiveMessageAddressC__getModuleIdOnFlash__get(void ){
#line 55
  unsigned short result;
#line 55

#line 55
  result = FlashReaderP__getModuleIdOnFlash__get();
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
static inline error_t ActiveMessageAddressC__Init__init(void )
#line 98
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 99
    ActiveMessageAddressC__moduleIdOnFlash = ActiveMessageAddressC__getModuleIdOnFlash__get();
#line 99
    __nesc_atomic_end(__nesc_atomic); }
  return SUCCESS;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Init.nc"
inline static error_t AtronBootP__InitActiveMessageAddress__init(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = ActiveMessageAddressC__Init__init();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 67 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__FlashInfoControl__startDone(error_t err)
#line 67
{
  if (err == SUCCESS) {
      AtronBootP__InitActiveMessageAddress__init();
      AtronBootP__RS485Control__start();
    }
  else {
      AtronBootP__FlashInfoControl__start();
    }
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/SplitControl.nc"
inline static void FlashReaderP__SplitControl__startDone(error_t error){
#line 92
  AtronBootP__FlashInfoControl__startDone(error);
#line 92
}
#line 92
# 65 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/FlashReaderP.nc"
static inline void FlashReaderP__flash__readDone(uint32_t addr, void *buf, uint32_t len, error_t error)
#line 65
{
  if (error != SUCCESS) {
    FlashReaderP__flash__read(MODULE_ID_FLASH_ADDR, (void *)&FlashReaderP__moduleIdOnFlash, sizeof(uint16_t ));
    }
  else {
#line 69
    FlashReaderP__SplitControl__startDone(error);
    }
}

# 172 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
static inline void AvrStorageModifyP__DirectModify__default__readDone(uint8_t id, uint32_t addr, void *buf, uint32_t len, error_t error)
#line 172
{
}

# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectModify.nc"
inline static void AvrStorageModifyP__DirectModify__readDone(uint8_t arg_0x40eafe08, uint32_t addr, void *buf, uint32_t len, error_t error){
#line 89
  switch (arg_0x40eafe08) {
#line 89
    case 0U:
#line 89
      FlashReaderP__flash__readDone(addr, buf, len, error);
#line 89
      break;
#line 89
    default:
#line 89
      AvrStorageModifyP__DirectModify__default__readDone(arg_0x40eafe08, addr, buf, len, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 123 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
static inline void AvrStorageModifyP__DirectStorage__readDone(uint32_t addr, void *buf, uint32_t len, error_t error)
#line 123
{
  AvrStorageModifyP__State__toIdle();
  AvrStorageModifyP__DirectModify__readDone(AvrStorageModifyP__currentClient, addr, buf, len, error);
}

# 296 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
static inline void AvrDirectStorageP__DirectStorage__default__readDone(uint8_t id, uint32_t addr, void *buf, uint32_t len, error_t error)
#line 296
{
}

# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
inline static void AvrDirectStorageP__DirectStorage__readDone(uint8_t arg_0x40e567f8, uint32_t addr, void *buf, uint32_t len, error_t error){
#line 89
  switch (arg_0x40e567f8) {
#line 89
    case 1U:
#line 89
      AvrStorageModifyP__DirectStorage__readDone(addr, buf, len, error);
#line 89
      break;
#line 89
    default:
#line 89
      AvrDirectStorageP__DirectStorage__default__readDone(arg_0x40e567f8, addr, buf, len, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 193 "/usr/lib/gcc/avr/4.3.2/../../../avr/include/avr/eeprom.h> 3
static __inline __attribute((__pure__)) uint8_t eeprom_read_byte(const uint8_t *__p)
{
  do {
    }
  while (
#line 195
  ! !(* (volatile uint8_t *)(uint16_t )& * (volatile uint8_t *)(0x1C + 0x20) & (1 << 1)));



  * (volatile uint16_t *)(0x1E + 0x20) = (unsigned )__p;

  * (volatile uint8_t *)(0x1C + 0x20) |= 1 << 0;
  return * (volatile uint8_t *)(0x1D + 0x20);
}

#line 227
#line 226
static __inline void 
eeprom_read_block(void *__dst, const void *__src, size_t __n)
{
  __eerd_block(__dst, __src, __n, eeprom_read_byte);
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
inline static error_t AvrDirectStorageP__State__requestState(uint8_t reqState){
#line 45
  unsigned char result;
#line 45

#line 45
  result = StateImplP__State__requestState(0U, reqState);
#line 45

#line 45
  return result;
#line 45
}
#line 45
# 215 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrDirectStorageP.nc"
static inline uint32_t AvrDirectStorageP__VolumeSettings__getVolumeSize(void )
#line 215
{
  return AVR_ERASE_UNIT_LENGTH * AVR_ERASE_UNITS;
}

#line 84
static inline error_t AvrDirectStorageP__DirectStorage__read(uint8_t id, uint32_t addr, void *buf, uint32_t len)
#line 84
{
  void *addressPtr = (uint16_t *)(uint16_t )addr;

  if (addr + len > AvrDirectStorageP__VolumeSettings__getVolumeSize()) {
      return FAIL;
    }

  if (AvrDirectStorageP__State__requestState(AvrDirectStorageP__S_BUSY) != SUCCESS) {
      return FAIL;
    }

  eeprom_read_block(buf, addressPtr, len);
  while (! !(* (volatile uint8_t *)(uint16_t )& * (volatile uint8_t *)(0x1C + 0x20) & (1 << 1))) ;

  AvrDirectStorageP__State__toIdle();
  AvrDirectStorageP__DirectStorage__readDone(id, addr, buf, len, SUCCESS);
  return SUCCESS;
}

# 47 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/interfaces/DirectStorage.nc"
inline static error_t AvrStorageModifyP__DirectStorage__read(uint32_t addr, void *buf, uint32_t len){
#line 47
  unsigned char result;
#line 47

#line 47
  result = AvrDirectStorageP__DirectStorage__read(1U, addr, buf, len);
#line 47

#line 47
  return result;
#line 47
}
#line 47
# 180 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static inline bool SchedulerBlockingP__isBlockingWaiting(uint8_t id)
{
  return SchedulerBlockingP__b_next[id] != SchedulerBlockingP__NO_TASK || SchedulerBlockingP__b_tail == id;
}






static inline bool SchedulerBlockingP__pushBlockingTask(uint8_t id)
{
  if (!SchedulerBlockingP__isBlockingWaiting(id)) 
    {
      if (SchedulerBlockingP__b_head == SchedulerBlockingP__NO_TASK) 
        {
          SchedulerBlockingP__b_head = id;
          SchedulerBlockingP__b_tail = id;
        }
      else 
        {
          SchedulerBlockingP__b_next[SchedulerBlockingP__b_tail] = id;
          SchedulerBlockingP__b_tail = id;
        }
      return TRUE;
    }
  else 
    {
      return FALSE;
    }
}


static inline error_t SchedulerBlockingP__TaskBlocking__postTask(uint8_t id)
{

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 216
    {
#line 216
      {
        unsigned char __nesc_temp = 
#line 216
        SchedulerBlockingP__pushBlockingTask(id) ? SUCCESS : EBUSY;

        {
#line 216
          __nesc_atomic_end(__nesc_atomic); 
#line 216
          return __nesc_temp;
        }
      }
    }
#line 219
    __nesc_atomic_end(__nesc_atomic); }
}

# 115 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/AtronBootP.nc"
static inline void AtronBootP__main__runTask(volatile btask_t *__btaskPtr__)
#line 115
{
  do {
#line 116
      if (__btaskPtr__->lc != (void *)0) {
#line 116
          goto *__btaskPtr__->lc;
        }
    }
  while (
#line 116
  0);
  do {
#line 117
      __btaskPtr__->state = TASK_DONE;
    }
  while (
#line 117
  0);
}

# 235 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static inline void SchedulerBlockingP__TaskBlocking__default__runTask(uint8_t id, volatile btask_t *btaskPtr)
{
}

# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/TaskBlocking.nc"
inline static void SchedulerBlockingP__TaskBlocking__runTask(uint8_t arg_0x40357e88, volatile btask_t *btaskPtr){
#line 77
  switch (arg_0x40357e88) {
#line 77
    case 0U:
#line 77
      AtronBootP__main__runTask(btaskPtr);
#line 77
      break;
#line 77
    default:
#line 77
      SchedulerBlockingP__TaskBlocking__default__runTask(arg_0x40357e88, btaskPtr);
#line 77
      break;
#line 77
    }
#line 77
}
#line 77
# 161 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static __inline uint8_t SchedulerBlockingP__popBlockingTask(void )
{
  if (SchedulerBlockingP__b_head != SchedulerBlockingP__NO_TASK) 
    {
      uint8_t id = SchedulerBlockingP__b_head;

#line 166
      SchedulerBlockingP__b_head = SchedulerBlockingP__b_next[SchedulerBlockingP__b_head];
      if (SchedulerBlockingP__b_head == SchedulerBlockingP__NO_TASK) 
        {
          SchedulerBlockingP__b_tail = SchedulerBlockingP__NO_TASK;
        }
      SchedulerBlockingP__b_next[id] = SchedulerBlockingP__NO_TASK;
      return id;
    }
  else 
    {
      return SchedulerBlockingP__NO_TASK;
    }
}

#line 103
static __inline uint8_t SchedulerBlockingP__popTask(void )
{
  if (SchedulerBlockingP__m_head != SchedulerBlockingP__NO_TASK) 
    {
      uint8_t id = SchedulerBlockingP__m_head;

#line 108
      SchedulerBlockingP__m_head = SchedulerBlockingP__m_next[SchedulerBlockingP__m_head];
      if (SchedulerBlockingP__m_head == SchedulerBlockingP__NO_TASK) 
        {
          SchedulerBlockingP__m_tail = SchedulerBlockingP__NO_TASK;
        }
      SchedulerBlockingP__m_next[id] = SchedulerBlockingP__NO_TASK;
      return id;
    }
  else 
    {
      return SchedulerBlockingP__NO_TASK;
    }
}

# 147 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/McuSleepC.nc"
static inline mcu_power_t McuSleepC__McuPowerOverride__default__lowestState(void )
#line 147
{
  return ATM128_POWER_DOWN;
}

# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuPowerOverride.nc"
inline static mcu_power_t McuSleepC__McuPowerOverride__lowestState(void ){
#line 54
  unsigned char result;
#line 54

#line 54
  result = McuSleepC__McuPowerOverride__default__lowestState();
#line 54

#line 54
  return result;
#line 54
}
#line 54
# 91 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/McuSleepC.nc"
static inline mcu_power_t McuSleepC__getPowerState(void )
#line 91
{



  return ATM128_POWER_IDLE;
}

# 134 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/atm128hardware.h>
static inline  mcu_power_t mcombine(mcu_power_t m1, mcu_power_t m2)
#line 134
{
  return m1 < m2 ? m1 : m2;
}

# 129 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/McuSleepC.nc"
static inline void McuSleepC__McuSleep__sleep(void )
#line 129
{

  uint8_t powerState;

  powerState = mcombine(McuSleepC__getPowerState(), McuSleepC__McuPowerOverride__lowestState());
  * (volatile uint8_t *)(0x35 + 0x20) = ((
  * (volatile uint8_t *)(0x35 + 0x20) & 0xe3) | (1 << 5)) | __extension__ ({
#line 135
    uint16_t __addr16 = (uint16_t )(uint16_t )&McuSleepC__atm128PowerBits[powerState];
#line 135
    uint8_t __result;

#line 135
     __asm ("lpm %0, Z""\n\t" : "=r"(__result) : "z"(__addr16));__result;
  }
  );
#line 137
   __asm volatile ("sei");

   __asm volatile ("sleep" :  :  : "memory");
   __asm volatile ("cli");}

# 59 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/McuSleep.nc"
inline static void SchedulerBlockingP__McuSleep__sleep(void ){
#line 59
  McuSleepC__McuSleep__sleep();
#line 59
}
#line 59
# 283 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static inline void SchedulerBlockingP__Scheduler__taskLoop(void )
{
  for (; ; ) 
    {
      uint8_t nextTask;
      uint8_t nextBlockingTask;

      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
        {






          nextTask = SchedulerBlockingP__popTask();
          nextBlockingTask = SchedulerBlockingP__popBlockingTask();
          while (nextTask == SchedulerBlockingP__NO_TASK && nextBlockingTask == SchedulerBlockingP__NO_TASK) 
            {
              SchedulerBlockingP__McuSleep__sleep();



              nextTask = SchedulerBlockingP__popTask();
              nextBlockingTask = SchedulerBlockingP__popBlockingTask();
            }
        }
#line 309
        __nesc_atomic_end(__nesc_atomic); }

      if (nextTask != SchedulerBlockingP__NO_TASK) {
        SchedulerBlockingP__TaskBasic__runTask(nextTask);
        }



      if (nextBlockingTask != SchedulerBlockingP__NO_TASK) {
          SchedulerBlockingP__TaskBlocking__runTask(nextBlockingTask, &SchedulerBlockingP__b_state[nextBlockingTask]);

          if (SchedulerBlockingP__b_state[nextBlockingTask].state == TASK_WAITING) {

              SchedulerBlockingP__TaskBlocking__postTask(nextBlockingTask);
            }
        }
    }
}

# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/Scheduler.nc"
inline static void RealMainP__Scheduler__taskLoop(void ){
#line 61
  SchedulerBlockingP__Scheduler__taskLoop();
#line 61
}
#line 61
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 70 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/AlarmToTimerC.nc"
static inline void /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__fired(void )
{
#line 71
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__postTask();
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__fired(void ){
#line 67
  /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__Alarm__fired();
#line 67
}
#line 67
# 236 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__fired(void )
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      if (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt == 0) 
        {
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__fired();
        }
      else 
        {
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm();
        }
    }
#line 248
    __nesc_atomic_end(__nesc_atomic); }
}

# 67 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Alarm.nc"
inline static void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__fired(void ){
#line 67
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__fired();
#line 67
}
#line 67
# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/atm128hardware.h>
static __inline  void __nesc_enable_interrupt()
#line 82
{
   __asm volatile ("sei");}

# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128AlarmC.nc"
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__fired(void )
#line 110
{
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__stop();
  ;
  __nesc_enable_interrupt();
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__Alarm__fired();
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer0C__Compare__fired(void ){
#line 49
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Compare__fired();
#line 49
}
#line 49
# 117 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128AlarmC.nc"
static inline void /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__overflow(void )
#line 117
{
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128TimerInitC.nc"
static inline void /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__overflow(void )
#line 51
{
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/CounterToLocalTimeC.nc"
static inline void /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__overflow(void )
{
}

# 71 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
inline static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__overflow(void ){
#line 71
  /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__overflow();
#line 71
}
#line 71
# 145 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static inline void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__overflow(void )
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_upper++;
      if ((/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_upper & /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__OVERFLOW_MASK) == 0) {
        /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__overflow();
        }
      if (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows && ! --/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows) {
        /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm();
        }
    }
#line 156
    __nesc_atomic_end(__nesc_atomic); }
}

# 71 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
inline static void /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__overflow(void ){
#line 71
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__overflow();
#line 71
}
#line 71
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/Atm128CounterC.nc"
static inline void /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__overflow(void )
{
  /*CounterZero8C.NCounter*/Atm128CounterC__0__Counter__overflow();
}

# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void HplAtm128Timer0C__Timer__overflow(void ){
#line 61
  /*CounterZero8C.NCounter*/Atm128CounterC__0__Timer__overflow();
#line 61
  /*InitZeroP.InitZero*/Atm128TimerInitC__0__Timer__overflow();
#line 61
  /*AlarmZero8C.NAlarm*/Atm128AlarmC__0__HplAtm128Timer__overflow();
#line 61
}
#line 61
# 65 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ResourceDefaultOwner.nc"
inline static bool InfraredSerialP__ResourceDefaultOwner__isOwner(void ){
#line 65
  unsigned char result;
#line 65

#line 65
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__isOwner();
#line 65

#line 65
  return result;
#line 65
}
#line 65
# 466 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__SerialFrameComm__dataReceived(uint8_t data)
#line 466
{


  if (InfraredSerialP__ResourceDefaultOwner__isOwner() && InfraredSerialP__rxChannelLocked) {
    InfraredSerialP__rx_state_machine(FALSE, data);
    }
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__dataReceived(uint8_t data){
#line 83
  InfraredSerialP__SerialFrameComm__dataReceived(data);
#line 83
}
#line 83
# 460 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__SerialFrameComm__delimiterReceived(void )
#line 460
{


  if (InfraredSerialP__ResourceDefaultOwner__isOwner() && InfraredSerialP__rxChannelLocked) {
    InfraredSerialP__rx_state_machine(TRUE, 0);
    }
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__delimiterReceived(void ){
#line 74
  InfraredSerialP__SerialFrameComm__delimiterReceived();
#line 74
}
#line 74
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receivedByte(uint8_t data)
#line 89
{






  if (data == HDLC_FLAG_BYTE) {

      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__delimiterReceived();
      return;
    }
  else {
#line 101
    if (data == HDLC_CTLESC_BYTE) {

        /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.receiveEscape = 1;
        return;
      }
    else {
#line 106
      if (/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.receiveEscape) {

          /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.receiveEscape = 0;
          data = data ^ 0x20;
        }
      }
    }
#line 111
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__dataReceived(data);
}

# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receivedByte(uint8_t byte){
#line 79
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receivedByte(byte);
#line 79
}
#line 79
# 144 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receiveDone(uint8_t *buf, uint16_t len, error_t error)
#line 144
{
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receiveDone(uint8_t * buf, uint16_t len, error_t error){
#line 99
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__receiveDone(buf, len, error);
#line 99
}
#line 99
# 166 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__rxDone(uint8_t data)
#line 166
{

  if (/*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_buf) {
      /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_buf[/*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_pos++] = data;
      if (/*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_pos >= /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_len) {
          uint8_t *buf = /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_buf;

          /* atomic removed: atomic calls only */
#line 172
          {
            /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_buf = (void *)0;
            if (/*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_intr != 3) {
                /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableRxIntr();
                /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_intr = 0;
              }
          }
          /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receiveDone(buf, /*Atm128Uart0C.UartP*/Atm128UartP__1__m_rx_len, SUCCESS);
        }
    }
  else {
      /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__receivedByte(data);
    }
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void HplAtm128UartP__HplUart0__rxDone(uint8_t data){
#line 49
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__rxDone(data);
#line 49
}
#line 49
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__startWatchdog__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__startWatchdog);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 213 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__lockCurrentBuffer(void )
#line 213
{
  if (InfraredSerialDispatcherP__receiveState.which) {
      InfraredSerialDispatcherP__receiveState.bufOneLocked = 1;
    }
  else {
      InfraredSerialDispatcherP__receiveState.bufZeroLocked = 1;
    }
}

#line 204
static inline bool InfraredSerialDispatcherP__isCurrentBufferLocked(void )
#line 204
{
  if (InfraredSerialDispatcherP__receiveState.which) {
      return InfraredSerialDispatcherP__receiveState.bufOneLocked;
    }
  else {
      return InfraredSerialDispatcherP__receiveState.bufZeroLocked;
    }
}

#line 236
static inline error_t InfraredSerialDispatcherP__ReceiveBytePacket__startPacket(uint8_t channel)
#line 236
{
  error_t result = SUCCESS;

  /* atomic removed: atomic calls only */
#line 238
  {
    if (!InfraredSerialDispatcherP__isCurrentBufferLocked()) {


        InfraredSerialDispatcherP__lockCurrentBuffer();
        InfraredSerialDispatcherP__receiveState.state = InfraredSerialDispatcherP__RECV_STATE_BEGIN;
        InfraredSerialDispatcherP__recvIndex = 0;
        InfraredSerialDispatcherP__recvType = TOS_SERIAL_UNKNOWN_ID;
        InfraredSerialDispatcherP__recvChannel = channel;
      }
    else {
        result = EBUSY;
      }
  }
  return result;
}

# 52 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredReceiveBytePacket.nc"
inline static error_t InfraredSerialP__ReceiveBytePacket__startPacket(uint8_t channel){
#line 52
  unsigned char result;
#line 52

#line 52
  result = InfraredSerialDispatcherP__ReceiveBytePacket__startPacket(channel);
#line 52

#line 52
  return result;
#line 52
}
#line 52
# 380 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline uint16_t InfraredSerialP__rx_current_crc(void )
#line 380
{
  uint16_t crc;
  uint8_t tmp = InfraredSerialP__rxBuf.writePtr;

#line 383
  tmp = tmp == 0 ? InfraredSerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc = InfraredSerialP__rxBuf.buf[tmp] & 0x00ff;
  crc = (crc << 8) & 0xFF00;
  tmp = tmp == 0 ? InfraredSerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc |= InfraredSerialP__rxBuf.buf[tmp] & 0x00FF;
  return crc;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t InfraredSerialP__stopWatchdog__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(InfraredSerialP__stopWatchdog);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 255 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline void InfraredSerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t b)
#line 255
{
  /* atomic removed: atomic calls only */
#line 256
  {
    switch (InfraredSerialDispatcherP__receiveState.state) {
        case InfraredSerialDispatcherP__RECV_STATE_BEGIN: 
          InfraredSerialDispatcherP__receiveState.state = InfraredSerialDispatcherP__RECV_STATE_DATA;
        InfraredSerialDispatcherP__recvIndex = InfraredSerialDispatcherP__PacketInfo__offset(b);
        InfraredSerialDispatcherP__recvType = b;
        break;

        case InfraredSerialDispatcherP__RECV_STATE_DATA: 
          if (InfraredSerialDispatcherP__recvIndex < sizeof(message_t )) {
              InfraredSerialDispatcherP__receiveBuffer[InfraredSerialDispatcherP__recvIndex] = b;
              InfraredSerialDispatcherP__recvIndex++;
            }
          else {
            }




        break;

        case InfraredSerialDispatcherP__RECV_STATE_IDLE: 
          default: 
#line 277
            ;
      }
  }
}

# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredReceiveBytePacket.nc"
inline static void InfraredSerialP__ReceiveBytePacket__byteReceived(uint8_t data){
#line 59
  InfraredSerialDispatcherP__ReceiveBytePacket__byteReceived(data);
#line 59
}
#line 59
# 370 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static __inline uint8_t InfraredSerialP__rx_buffer_top(void )
#line 370
{
  uint8_t tmp = InfraredSerialP__rxBuf.buf[InfraredSerialP__rxBuf.readPtr];

#line 372
  return tmp;
}

#line 374
static __inline uint8_t InfraredSerialP__rx_buffer_pop(void )
#line 374
{
  uint8_t tmp = InfraredSerialP__rxBuf.buf[InfraredSerialP__rxBuf.readPtr];

#line 376
  if (++ InfraredSerialP__rxBuf.readPtr > InfraredSerialP__RX_DATA_BUFFER_SIZE) {
#line 376
    InfraredSerialP__rxBuf.readPtr = 0;
    }
#line 377
  return tmp;
}

#line 366
static __inline void InfraredSerialP__rx_buffer_push(uint8_t data)
#line 366
{
  InfraredSerialP__rxBuf.buf[InfraredSerialP__rxBuf.writePtr] = data;
  if (++ InfraredSerialP__rxBuf.writePtr > InfraredSerialP__RX_DATA_BUFFER_SIZE) {
#line 368
    InfraredSerialP__rxBuf.writePtr = 0;
    }
}

# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t InfraredSerialP__SerialFrameComm__putData(uint8_t data){
#line 54
  unsigned char result;
#line 54

#line 54
  result = /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putData(data);
#line 54

#line 54
  return result;
#line 54
}
#line 54
# 611 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline error_t InfraredSerialP__SendBytePacket__completeSend(void )
#line 611
{
  bool ret = FAIL;

  /* atomic removed: atomic calls only */
#line 613
  {
    InfraredSerialP__txBuf[InfraredSerialP__TX_DATA_INDEX].state = InfraredSerialP__BUFFER_COMPLETE;
    ret = SUCCESS;
  }
  return ret;
}

# 61 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
inline static error_t InfraredSerialDispatcherP__SendBytePacket__completeSend(void ){
#line 61
  unsigned char result;
#line 61

#line 61
  result = InfraredSerialP__SendBytePacket__completeSend();
#line 61

#line 61
  return result;
#line 61
}
#line 61
# 183 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static inline uint8_t InfraredSerialDispatcherP__SendBytePacket__nextByte(void )
#line 183
{
  uint8_t b;
  uint8_t indx;

  /* atomic removed: atomic calls only */
#line 186
  {
    b = InfraredSerialDispatcherP__sendBuffer[InfraredSerialDispatcherP__sendIndex];
    InfraredSerialDispatcherP__sendIndex++;
    indx = InfraredSerialDispatcherP__sendIndex;
  }
  if (indx > InfraredSerialDispatcherP__sendLen) {
      InfraredSerialDispatcherP__SendBytePacket__completeSend();
      return 0;
    }
  else {
      return b;
    }
}

# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSendBytePacket.nc"
inline static uint8_t InfraredSerialP__SendBytePacket__nextByte(void ){
#line 71
  unsigned char result;
#line 71

#line 71
  result = InfraredSerialDispatcherP__SendBytePacket__nextByte();
#line 71

#line 71
  return result;
#line 71
}
#line 71
# 745 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__SerialFrameComm__putDone(void )
#line 745
{
  {
    error_t txResult = SUCCESS;

    switch (InfraredSerialP__txState) {

        case InfraredSerialP__TXSTATE_PROTO: 

          txResult = InfraredSerialP__SerialFrameComm__putData(InfraredSerialP__txProto);

        InfraredSerialP__txState = InfraredSerialP__TXSTATE_INFO;



        InfraredSerialP__txCRC = crcByte(InfraredSerialP__txCRC, InfraredSerialP__txProto);
        break;

        case InfraredSerialP__TXSTATE_SEQNO: 
          txResult = InfraredSerialP__SerialFrameComm__putData(InfraredSerialP__txSeqno);
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_INFO;
        InfraredSerialP__txCRC = crcByte(InfraredSerialP__txCRC, InfraredSerialP__txSeqno);
        break;

        case InfraredSerialP__TXSTATE_INFO: 
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 769
            {
              txResult = InfraredSerialP__SerialFrameComm__putData(InfraredSerialP__txBuf[InfraredSerialP__txIndex].buf);
              InfraredSerialP__txCRC = crcByte(InfraredSerialP__txCRC, InfraredSerialP__txBuf[InfraredSerialP__txIndex].buf);
              ++InfraredSerialP__txByteCnt;

              if (InfraredSerialP__txIndex == InfraredSerialP__TX_DATA_INDEX) {
                  uint8_t nextByte;

#line 776
                  nextByte = InfraredSerialP__SendBytePacket__nextByte();
                  if (InfraredSerialP__txBuf[InfraredSerialP__txIndex].state == InfraredSerialP__BUFFER_COMPLETE || InfraredSerialP__txByteCnt >= InfraredSerialP__SERIAL_MTU) {
                      InfraredSerialP__txState = InfraredSerialP__TXSTATE_FCS1;
                    }
                  else {
                      InfraredSerialP__txBuf[InfraredSerialP__txIndex].buf = nextByte;
                    }
                }
              else {
                  InfraredSerialP__txState = InfraredSerialP__TXSTATE_FCS1;
                }
            }
#line 787
            __nesc_atomic_end(__nesc_atomic); }
        break;

        case InfraredSerialP__TXSTATE_FCS1: 
          txResult = InfraredSerialP__SerialFrameComm__putData(InfraredSerialP__txCRC & 0xff);
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_FCS2;
        break;

        case InfraredSerialP__TXSTATE_FCS2: 
          txResult = InfraredSerialP__SerialFrameComm__putData((InfraredSerialP__txCRC >> 8) & 0xff);
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_ENDFLAG;
        break;

        case InfraredSerialP__TXSTATE_ENDFLAG: 
          txResult = InfraredSerialP__SerialFrameComm__putDelimiter();
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_ENDWAIT;
        break;

        case InfraredSerialP__TXSTATE_ENDWAIT: 

          InfraredSerialP__Resource__release();
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_FINISH;
        case InfraredSerialP__TXSTATE_FINISH: 
#line 821
          InfraredSerialP__MaybeScheduleTx();


        break;
        case InfraredSerialP__TXSTATE_ERROR: 
          default: 
            txResult = FAIL;
        break;
      }

    if (txResult != SUCCESS) {
        InfraredSerialP__Resource__release();
        InfraredSerialP__txState = InfraredSerialP__TXSTATE_ERROR;
        InfraredSerialP__MaybeScheduleTx();
      }
  }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDone(void ){
#line 89
  InfraredSerialP__SerialFrameComm__putDone();
#line 89
}
#line 89
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__send(uint8_t * buf, uint16_t len){
#line 48
  unsigned char result;
#line 48

#line 48
  result = /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__send(buf, len);
#line 48

#line 48
  return result;
#line 48
}
#line 48
# 132 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error)
#line 133
{
  if (/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.sendEscape) {
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.sendEscape = 0;
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data = /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__txTemp;
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__send(&/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data, 1);
    }
  else {
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDone();
    }
}

# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__sendDone(uint8_t * buf, uint16_t len, error_t error){
#line 57
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__sendDone(buf, len, error);
#line 57
}
#line 57
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__tx(uint8_t data){
#line 46
  HplAtm128UartP__HplUart0__tx(data);
#line 46
}
#line 46
# 206 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline void /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__txDone(void )
#line 206
{

  if (/*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_pos < /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_len) {
      /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__tx(/*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf[/*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_pos++]);
    }
  else {
      uint8_t *buf = /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf;

#line 213
      /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf = (void *)0;
      /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_intr = 0;
      /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__disableTxIntr();
      /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__sendDone(buf, /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_len, SUCCESS);
    }
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void HplAtm128UartP__HplUart0__txDone(void ){
#line 47
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__txDone();
#line 47
}
#line 47
# 483 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__SerialFrameComm__dataReceived(uint8_t data)
#line 483
{
  RS485SerialP__rx_state_machine(FALSE, data);
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__dataReceived(uint8_t data){
#line 83
  RS485SerialP__SerialFrameComm__dataReceived(data);
#line 83
}
#line 83
# 480 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__SerialFrameComm__delimiterReceived(void )
#line 480
{
  RS485SerialP__rx_state_machine(TRUE, 0);
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__delimiterReceived(void ){
#line 74
  RS485SerialP__SerialFrameComm__delimiterReceived();
#line 74
}
#line 74
# 89 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receivedByte(uint8_t data)
#line 89
{






  if (data == HDLC_FLAG_BYTE) {

      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__delimiterReceived();
      return;
    }
  else {
#line 101
    if (data == HDLC_CTLESC_BYTE) {

        /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.receiveEscape = 1;
        return;
      }
    else {
#line 106
      if (/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.receiveEscape) {

          /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.receiveEscape = 0;
          data = data ^ 0x20;
        }
      }
    }
#line 111
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__dataReceived(data);
}

# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receivedByte(uint8_t byte){
#line 79
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receivedByte(byte);
#line 79
}
#line 79
# 144 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receiveDone(uint8_t *buf, uint16_t len, error_t error)
#line 144
{
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receiveDone(uint8_t * buf, uint16_t len, error_t error){
#line 99
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__receiveDone(buf, len, error);
#line 99
}
#line 99
# 166 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__rxDone(uint8_t data)
#line 166
{

  if (/*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_buf) {
      /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_buf[/*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_pos++] = data;
      if (/*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_pos >= /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_len) {
          uint8_t *buf = /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_buf;

          /* atomic removed: atomic calls only */
#line 172
          {
            /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_buf = (void *)0;
            if (/*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_intr != 3) {
                /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableRxIntr();
                /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_intr = 0;
              }
          }
          /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receiveDone(buf, /*Atm128Uart1C.UartP*/Atm128UartP__0__m_rx_len, SUCCESS);
        }
    }
  else {
      /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__receivedByte(data);
    }
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void HplAtm128UartP__HplUart1__rxDone(uint8_t data){
#line 49
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__rxDone(data);
#line 49
}
#line 49
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__startWatchdog__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__startWatchdog);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 258 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__lockCurrentBuffer(void )
#line 258
{
  if (RS485SerialDispatcherP__receiveState.which) {
      RS485SerialDispatcherP__receiveState.bufOneLocked = 1;
    }
  else {
      RS485SerialDispatcherP__receiveState.bufZeroLocked = 1;
    }
}

#line 249
static inline bool RS485SerialDispatcherP__isCurrentBufferLocked(void )
#line 249
{
  if (RS485SerialDispatcherP__receiveState.which) {
      return RS485SerialDispatcherP__receiveState.bufOneLocked;
    }
  else {
      return RS485SerialDispatcherP__receiveState.bufZeroLocked;
    }
}

#line 281
static inline error_t RS485SerialDispatcherP__ReceiveBytePacket__startPacket(void )
#line 281
{
  error_t result = SUCCESS;

  /* atomic removed: atomic calls only */
#line 283
  {
    if (!RS485SerialDispatcherP__isCurrentBufferLocked()) {


        RS485SerialDispatcherP__lockCurrentBuffer();
        RS485SerialDispatcherP__receiveState.state = RS485SerialDispatcherP__RECV_STATE_BEGIN;
        RS485SerialDispatcherP__recvIndex = 0;
        RS485SerialDispatcherP__recvType = TOS_SERIAL_UNKNOWN_ID;
      }
    else {
        result = EBUSY;
      }
  }
  return result;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static error_t RS485SerialP__ReceiveBytePacket__startPacket(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = RS485SerialDispatcherP__ReceiveBytePacket__startPacket();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 405 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline uint16_t RS485SerialP__rx_current_crc(void )
#line 405
{
  uint16_t crc;
  uint8_t tmp = RS485SerialP__rxBuf.writePtr;

#line 408
  tmp = tmp == 0 ? RS485SerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc = RS485SerialP__rxBuf.buf[tmp] & 0x00ff;
  crc = (crc << 8) & 0xFF00;
  tmp = tmp == 0 ? RS485SerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc |= RS485SerialP__rxBuf.buf[tmp] & 0x00FF;
  return crc;
}

#line 321
static __inline bool RS485SerialP__ack_queue_is_full(void )
#line 321
{
  uint8_t tmp;
#line 322
  uint8_t tmp2;

  /* atomic removed: atomic calls only */
#line 323
  {
    tmp = RS485SerialP__ackQ.writePtr;
    tmp2 = RS485SerialP__ackQ.readPtr;
  }
  if (++tmp > RS485SerialP__ACK_QUEUE_SIZE) {
#line 327
    tmp = 0;
    }
#line 328
  return tmp == tmp2;
}







static __inline void RS485SerialP__ack_queue_push(uint8_t token)
#line 337
{
  if (!RS485SerialP__ack_queue_is_full()) {
      /* atomic removed: atomic calls only */
#line 339
      {
        RS485SerialP__ackQ.buf[RS485SerialP__ackQ.writePtr] = token;
        if (++ RS485SerialP__ackQ.writePtr > RS485SerialP__ACK_QUEUE_SIZE) {
#line 341
          RS485SerialP__ackQ.writePtr = 0;
          }
      }
#line 343
      RS485SerialP__MaybeScheduleTx();
    }
  else {
      /* atomic removed: atomic calls only */


      RS485SerialP__txBuf[RS485SerialP__TX_ACK_INDEX].state = RS485SerialP__BUFFER_AVAILABLE;
      RS485SerialP__RunTx__postTask();
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialDispatcherP__stopAckTimeout__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialDispatcherP__stopAckTimeout);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 240 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__SendBytePacket__ackReceived(uint8_t ackedPktNo)
#line 240
{
  /* atomic removed: atomic calls only */
#line 241
  {
    if (ackedPktNo == RS485SerialDispatcherP__outstandingPktNo) {
        RS485SerialDispatcherP__waitingAck = FALSE;
        RS485SerialDispatcherP__stopAckTimeout__postTask();
      }
  }
}

# 82 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
inline static void RS485SerialP__SendBytePacket__ackReceived(uint8_t ackedPktNo){
#line 82
  RS485SerialDispatcherP__SendBytePacket__ackReceived(ackedPktNo);
#line 82
}
#line 82
# 299 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline void RS485SerialDispatcherP__ReceiveBytePacket__byteReceived(uint8_t b)
#line 299
{
  /* atomic removed: atomic calls only */
#line 300
  {
    switch (RS485SerialDispatcherP__receiveState.state) {
        case RS485SerialDispatcherP__RECV_STATE_BEGIN: 
          RS485SerialDispatcherP__receiveState.state = RS485SerialDispatcherP__RECV_STATE_DATA;
        RS485SerialDispatcherP__recvIndex = RS485SerialDispatcherP__PacketInfo__offset(b);
        RS485SerialDispatcherP__recvType = b;
        break;

        case RS485SerialDispatcherP__RECV_STATE_DATA: 
          if (RS485SerialDispatcherP__recvIndex < sizeof(message_t )) {
              RS485SerialDispatcherP__receiveBuffer[RS485SerialDispatcherP__recvIndex] = b;
              RS485SerialDispatcherP__recvIndex++;
            }
          else {
            }




        break;

        case RS485SerialDispatcherP__RECV_STATE_IDLE: 
          default: 
#line 321
            ;
      }
  }
}

# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static void RS485SerialP__ReceiveBytePacket__byteReceived(uint8_t data){
#line 58
  RS485SerialDispatcherP__ReceiveBytePacket__byteReceived(data);
#line 58
}
#line 58
# 395 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static __inline uint8_t RS485SerialP__rx_buffer_top(void )
#line 395
{
  uint8_t tmp = RS485SerialP__rxBuf.buf[RS485SerialP__rxBuf.readPtr];

#line 397
  return tmp;
}

#line 399
static __inline uint8_t RS485SerialP__rx_buffer_pop(void )
#line 399
{
  uint8_t tmp = RS485SerialP__rxBuf.buf[RS485SerialP__rxBuf.readPtr];

#line 401
  if (++ RS485SerialP__rxBuf.readPtr > RS485SerialP__RX_DATA_BUFFER_SIZE) {
#line 401
    RS485SerialP__rxBuf.readPtr = 0;
    }
#line 402
  return tmp;
}

#line 391
static __inline void RS485SerialP__rx_buffer_push(uint8_t data)
#line 391
{
  RS485SerialP__rxBuf.buf[RS485SerialP__rxBuf.writePtr] = data;
  if (++ RS485SerialP__rxBuf.writePtr > RS485SerialP__RX_DATA_BUFFER_SIZE) {
#line 393
    RS485SerialP__rxBuf.writePtr = 0;
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t RS485SerialP__stopWatchdog__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(RS485SerialP__stopWatchdog);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t RS485SerialP__SerialFrameComm__putData(uint8_t data){
#line 54
  unsigned char result;
#line 54

#line 54
  result = /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putData(data);
#line 54

#line 54
  return result;
#line 54
}
#line 54
# 613 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline error_t RS485SerialP__SendBytePacket__completeSend(void )
#line 613
{
  bool ret = FAIL;

  /* atomic removed: atomic calls only */
#line 615
  {
    RS485SerialP__txBuf[RS485SerialP__TX_DATA_INDEX].state = RS485SerialP__BUFFER_COMPLETE;
    ret = SUCCESS;
  }
  return ret;
}

# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
inline static error_t RS485SerialDispatcherP__SendBytePacket__completeSend(void ){
#line 60
  unsigned char result;
#line 60

#line 60
  result = RS485SerialP__SendBytePacket__completeSend();
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 214 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static inline uint8_t RS485SerialDispatcherP__SendBytePacket__nextByte(void )
#line 214
{
  uint8_t b;
  uint8_t indx;

  /* atomic removed: atomic calls only */
#line 217
  {
    b = RS485SerialDispatcherP__sendBuffer[RS485SerialDispatcherP__sendIndex];
    RS485SerialDispatcherP__sendIndex++;
    indx = RS485SerialDispatcherP__sendIndex;
  }
  if (indx > RS485SerialDispatcherP__sendLen) {
      RS485SerialDispatcherP__SendBytePacket__completeSend();
      return 0;
    }
  else {
      return b;
    }
}

# 70 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SendBytePacketAck.nc"
inline static uint8_t RS485SerialP__SendBytePacket__nextByte(void ){
#line 70
  unsigned char result;
#line 70

#line 70
  result = RS485SerialDispatcherP__SendBytePacket__nextByte();
#line 70

#line 70
  return result;
#line 70
}
#line 70
# 760 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static inline void RS485SerialP__SerialFrameComm__putDone(void )
#line 760
{
  {
    error_t txResult = SUCCESS;

    switch (RS485SerialP__txState) {

        case RS485SerialP__TXSTATE_PROTO: 

          txResult = RS485SerialP__SerialFrameComm__putData(RS485SerialP__txProto);



        RS485SerialP__txState = RS485SerialP__TXSTATE_SEQNO;

        RS485SerialP__txCRC = crcByte(RS485SerialP__txCRC, RS485SerialP__txProto);
        break;

        case RS485SerialP__TXSTATE_SEQNO: 
          if (RS485SerialP__txProto == SERIAL_PROTO_ACK) {
              txResult = RS485SerialP__SerialFrameComm__putData(RS485SerialP__ackSeqno);
              RS485SerialP__txState = RS485SerialP__TXSTATE_FCS1;
              RS485SerialP__txCRC = crcByte(RS485SerialP__txCRC, RS485SerialP__ackSeqno);
            }
          else {
              txResult = RS485SerialP__SerialFrameComm__putData(RS485SerialP__txSeqno);
              RS485SerialP__txState = RS485SerialP__TXSTATE_INFO;
              RS485SerialP__txCRC = crcByte(RS485SerialP__txCRC, RS485SerialP__txSeqno);
            }
        break;

        case RS485SerialP__TXSTATE_INFO: 
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 791
            {
              txResult = RS485SerialP__SerialFrameComm__putData(RS485SerialP__txBuf[RS485SerialP__txIndex].buf);
              RS485SerialP__txCRC = crcByte(RS485SerialP__txCRC, RS485SerialP__txBuf[RS485SerialP__txIndex].buf);
              ++RS485SerialP__txByteCnt;

              if (RS485SerialP__txIndex == RS485SerialP__TX_DATA_INDEX) {
                  uint8_t nextByte;

#line 798
                  nextByte = RS485SerialP__SendBytePacket__nextByte();
                  if (RS485SerialP__txBuf[RS485SerialP__txIndex].state == RS485SerialP__BUFFER_COMPLETE || RS485SerialP__txByteCnt >= RS485SerialP__SERIAL_MTU) {
                      RS485SerialP__txState = RS485SerialP__TXSTATE_FCS1;
                    }
                  else {
                      RS485SerialP__txBuf[RS485SerialP__txIndex].buf = nextByte;
                    }
                }
              else {
                  RS485SerialP__txState = RS485SerialP__TXSTATE_FCS1;
                }
            }
#line 809
            __nesc_atomic_end(__nesc_atomic); }
        break;

        case RS485SerialP__TXSTATE_FCS1: 
          txResult = RS485SerialP__SerialFrameComm__putData(RS485SerialP__txCRC & 0xff);
        RS485SerialP__txState = RS485SerialP__TXSTATE_FCS2;
        break;

        case RS485SerialP__TXSTATE_FCS2: 
          txResult = RS485SerialP__SerialFrameComm__putData((RS485SerialP__txCRC >> 8) & 0xff);
        RS485SerialP__txState = RS485SerialP__TXSTATE_ENDFLAG;
        break;

        case RS485SerialP__TXSTATE_ENDFLAG: 
          txResult = RS485SerialP__SerialFrameComm__putDelimiter();
        RS485SerialP__txState = RS485SerialP__TXSTATE_ENDWAIT;
        break;

        case RS485SerialP__TXSTATE_ENDWAIT: 

          RS485SerialP__setRx();
        RS485SerialP__txState = RS485SerialP__TXSTATE_FINISH;
        RS485SerialP__MaybeScheduleTx();
        break;
#line 861
        case RS485SerialP__TXSTATE_ERROR: 
          default: 
            RS485SerialP__setRx();
        txResult = FAIL;
        break;
      }

    if (txResult != SUCCESS) {
        RS485SerialP__setRx();
        RS485SerialP__txState = RS485SerialP__TXSTATE_ERROR;
        RS485SerialP__MaybeScheduleTx();
      }
  }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDone(void ){
#line 89
  RS485SerialP__SerialFrameComm__putDone();
#line 89
}
#line 89
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__send(uint8_t * buf, uint16_t len){
#line 48
  unsigned char result;
#line 48

#line 48
  result = /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__send(buf, len);
#line 48

#line 48
  return result;
#line 48
}
#line 48
# 132 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static inline void /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error)
#line 133
{
  if (/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.sendEscape) {
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.sendEscape = 0;
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data = /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__txTemp;
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__send(&/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data, 1);
    }
  else {
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDone();
    }
}

# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__sendDone(uint8_t * buf, uint16_t len, error_t error){
#line 57
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__sendDone(buf, len, error);
#line 57
}
#line 57
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__tx(uint8_t data){
#line 46
  HplAtm128UartP__HplUart1__tx(data);
#line 46
}
#line 46
# 206 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static inline void /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__txDone(void )
#line 206
{

  if (/*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_pos < /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_len) {
      /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__tx(/*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf[/*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_pos++]);
    }
  else {
      uint8_t *buf = /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf;

#line 213
      /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf = (void *)0;
      /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_intr = 0;
      /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__disableTxIntr();
      /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__sendDone(buf, /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_len, SUCCESS);
    }
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/HplAtm128Uart.nc"
inline static void HplAtm128UartP__HplUart1__txDone(void ){
#line 47
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__txDone();
#line 47
}
#line 47
# 51 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/HplAtm128InterruptSigP.nc"
static inline uint8_t HplAtm128InterruptSigP__GetPortA__getNow(void )
#line 51
{
  return HplAtm128InterruptSigP__port_a;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GetNow.nc"
inline static InfraredChannelP__GetPortA__data_type InfraredChannelP__GetPortA__getNow(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = HplAtm128InterruptSigP__GetPortA__getNow();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__get(void )
#line 45
{
#line 45
  return (* (volatile uint8_t * )57U & (1 << 7)) != 0;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static bool InfraredChannelP__ch4Activity__get(void ){
#line 32
  unsigned char result;
#line 32

#line 32
  result = /*HplAtm128GeneralIOC.PortA.Bit7*/HplAtm128GeneralIOPinP__7__IO__get();
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__get(void )
#line 45
{
#line 45
  return (* (volatile uint8_t * )57U & (1 << 6)) != 0;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static bool InfraredChannelP__ch3Activity__get(void ){
#line 32
  unsigned char result;
#line 32

#line 32
  result = /*HplAtm128GeneralIOC.PortA.Bit6*/HplAtm128GeneralIOPinP__6__IO__get();
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__get(void )
#line 45
{
#line 45
  return (* (volatile uint8_t * )57U & (1 << 5)) != 0;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static bool InfraredChannelP__ch2Activity__get(void ){
#line 32
  unsigned char result;
#line 32

#line 32
  result = /*HplAtm128GeneralIOC.PortA.Bit5*/HplAtm128GeneralIOPinP__5__IO__get();
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline bool /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__get(void )
#line 45
{
#line 45
  return (* (volatile uint8_t * )57U & (1 << 4)) != 0;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static bool InfraredChannelP__ch1Activity__get(void ){
#line 32
  unsigned char result;
#line 32

#line 32
  result = /*HplAtm128GeneralIOC.PortA.Bit4*/HplAtm128GeneralIOPinP__4__IO__get();
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 114 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannelP.nc"
static inline uint8_t InfraredChannelP__InfraredChannel__getActivity(void )
#line 114
{

  if (InfraredChannelP__lowSensitivity) {
      uint8_t activity = 0;

#line 118
      if (InfraredChannelP__ch1Activity__get()) {
        activity &= ~HEMISPHERE_CONNECTOR_1;
        }
      else {
#line 121
        activity |= HEMISPHERE_CONNECTOR_1;
        }
#line 122
      if (InfraredChannelP__ch2Activity__get()) {
        activity &= ~HEMISPHERE_CONNECTOR_2;
        }
      else {
#line 125
        activity |= HEMISPHERE_CONNECTOR_2;
        }
#line 126
      if (InfraredChannelP__ch3Activity__get()) {
        activity &= ~HEMISPHERE_CONNECTOR_3;
        }
      else {
#line 129
        activity |= HEMISPHERE_CONNECTOR_3;
        }
#line 130
      if (InfraredChannelP__ch4Activity__get()) {
        activity &= ~HEMISPHERE_CONNECTOR_4;
        }
      else {
#line 133
        activity |= HEMISPHERE_CONNECTOR_4;
        }
#line 134
      return activity;
    }
  else 
    {


      uint8_t port_a = InfraredChannelP__GetPortA__getNow();
      uint8_t activity = 0;

#line 142
      if (port_a & (1 << 4)) {
        activity &= ~HEMISPHERE_CONNECTOR_1;
        }
      else {
#line 145
        activity |= HEMISPHERE_CONNECTOR_1;
        }
#line 146
      if (port_a & (1 << 5)) {
        activity &= ~HEMISPHERE_CONNECTOR_2;
        }
      else {
#line 149
        activity |= HEMISPHERE_CONNECTOR_2;
        }
#line 150
      if (port_a & (1 << 6)) {
        activity &= ~HEMISPHERE_CONNECTOR_3;
        }
      else {
#line 153
        activity |= HEMISPHERE_CONNECTOR_3;
        }
#line 154
      if (port_a & (1 << 7)) {
        activity &= ~HEMISPHERE_CONNECTOR_4;
        }
      else {
#line 157
        activity |= HEMISPHERE_CONNECTOR_4;
        }
#line 158
      return activity;
    }
}

# 46 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannel.nc"
inline static uint8_t InfraredSerialP__InfraredChannel__getActivity(void ){
#line 46
  unsigned char result;
#line 46

#line 46
  result = InfraredChannelP__InfraredChannel__getActivity();
#line 46

#line 46
  return result;
#line 46
}
#line 46
# 897 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static inline void InfraredSerialP__RxInterrupt__fired(void )
#line 897
{
  if (!InfraredSerialP__ResourceDefaultOwner__isOwner()) {
    return;
    }
#line 900
  InfraredSerialP__RxInterrupt__disable();
  InfraredSerialP__rxActivity = InfraredSerialP__InfraredChannel__getActivity();


  if (((
#line 903
  InfraredSerialP__rxActivity == HEMISPHERE_CONNECTOR_1 || InfraredSerialP__rxActivity == HEMISPHERE_CONNECTOR_2) || 
  InfraredSerialP__rxActivity == HEMISPHERE_CONNECTOR_3) || InfraredSerialP__rxActivity == HEMISPHERE_CONNECTOR_4) {
      InfraredSerialP__InfraredChannel__enable(InfraredSerialP__rxActivity);
      InfraredSerialP__rxChannelLocked = TRUE;
    }
  else 
    {
      InfraredSerialP__rxChannelLocked = FALSE;
      InfraredSerialP__RxInterrupt__enableFallingEdge();

      InfraredSerialP__InfraredChannel__enable(HEMISPHERE_CONNECTOR_1234);
    }
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t HemisphereProximitySensorP__lowerPwmHigh__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(HemisphereProximitySensorP__lowerPwmHigh);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 173 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static inline uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__isOwner(uint8_t id)
#line 173
{
  /* atomic removed: atomic calls only */
#line 174
  {
    if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId == id && /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_BUSY) {
        unsigned char __nesc_temp = 
#line 175
        TRUE;

#line 175
        return __nesc_temp;
      }
    else 
#line 176
      {
        unsigned char __nesc_temp = 
#line 176
        FALSE;

#line 176
        return __nesc_temp;
      }
  }
}

# 118 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
inline static bool HemisphereProximitySensorP__Resource__isOwner(void ){
#line 118
  unsigned char result;
#line 118

#line 118
  result = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__isOwner(HemisphereProximitySensorC__CLIENT_ID);
#line 118

#line 118
  return result;
#line 118
}
#line 118
# 112 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static inline void HemisphereProximitySensorP__RxInterrupt__fired(void )
#line 112
{
  if (HemisphereProximitySensorP__Resource__isOwner()) {
      if (HemisphereProximitySensorP__ticks < 255) {
        HemisphereProximitySensorP__ticks++;
        }

      if (HemisphereProximitySensorP__ticks > 10) {
          HemisphereProximitySensorP__RxInterrupt__disable();

          HemisphereProximitySensorP__lowerPwmHigh__postTask();
        }
    }
}

# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GpioInterrupt.nc"
inline static void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__fired(void ){
#line 57
  HemisphereProximitySensorP__RxInterrupt__fired();
#line 57
  InfraredSerialP__RxInterrupt__fired();
#line 57
}
#line 57
# 38 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/Atm128GpioInterruptC.nc"
static inline void /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__fired(void )
#line 38
{
  /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Interrupt__fired();
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__fired(void ){
#line 64
  /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__fired();
#line 64
}
#line 64
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__IrqSignal__fired(void )
#line 61
{
#line 61
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig0__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin0*/HplAtm128InterruptPinP__0__IrqSignal__fired();
#line 41
}
#line 41
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__default__fired(void )
#line 63
{
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__fired(void ){
#line 64
  /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__default__fired();
#line 64
}
#line 64
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__IrqSignal__fired(void )
#line 61
{
#line 61
  /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig1__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin1*/HplAtm128InterruptPinP__1__IrqSignal__fired();
#line 41
}
#line 41
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__default__fired(void )
#line 63
{
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__fired(void ){
#line 64
  /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__default__fired();
#line 64
}
#line 64
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__IrqSignal__fired(void )
#line 61
{
#line 61
  /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig2__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin2*/HplAtm128InterruptPinP__2__IrqSignal__fired();
#line 41
}
#line 41
# 63 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__default__fired(void )
#line 63
{
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128Interrupt.nc"
inline static void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__fired(void ){
#line 64
  /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__default__fired();
#line 64
}
#line 64
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptPinP.nc"
static inline void /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__IrqSignal__fired(void )
#line 61
{
#line 61
  /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig3__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin3*/HplAtm128InterruptPinP__3__IrqSignal__fired();
#line 41
}
#line 41
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__default__fired(void )
#line 99
{
}

# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
inline static void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__fired(void ){
#line 100
  /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__default__fired();
#line 100
}
#line 100
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__IrqSignal__fired(void )
#line 97
{
#line 97
  /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig4__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin4*/HplAtm128InterruptPin47P__0__IrqSignal__fired();
#line 41
}
#line 41
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__default__fired(void )
#line 99
{
}

# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
inline static void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__fired(void ){
#line 100
  /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__default__fired();
#line 100
}
#line 100
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__IrqSignal__fired(void )
#line 97
{
#line 97
  /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig5__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin5*/HplAtm128InterruptPin47P__1__IrqSignal__fired();
#line 41
}
#line 41
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__default__fired(void )
#line 99
{
}

# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
inline static void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__fired(void ){
#line 100
  /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__default__fired();
#line 100
}
#line 100
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__IrqSignal__fired(void )
#line 97
{
#line 97
  /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig6__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin6*/HplAtm128InterruptPin47P__2__IrqSignal__fired();
#line 41
}
#line 41
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__default__fired(void )
#line 99
{
}

# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128Interrupt47.nc"
inline static void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__fired(void ){
#line 100
  /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__default__fired();
#line 100
}
#line 100
# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/pins/HplAtm128InterruptPin47P.nc"
static inline void /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__IrqSignal__fired(void )
#line 97
{
#line 97
  /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__Irq__fired();
}

# 41 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128InterruptSig.nc"
inline static void HplAtm128InterruptSigP__IntSig7__fired(void ){
#line 41
  /*HplAtm128InterruptC.IntPin7*/HplAtm128InterruptPin47P__3__IrqSignal__fired();
#line 41
}
#line 41
# 194 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline void HplAtm128Timer1P__CompareA__default__fired(void )
#line 194
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer1P__CompareA__fired(void ){
#line 49
  HplAtm128Timer1P__CompareA__default__fired();
#line 49
}
#line 49
# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__fired(uint8_t id)
#line 98
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer1P__CompareB__fired(void ){
#line 49
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__fired(1);
#line 49
}
#line 49
inline static void HplAtm128Timer1P__CompareC__fired(void ){
#line 49
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Compare__fired(2);
#line 49
}
#line 49
# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__captured(uint16_t time)
#line 99
{
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
inline static void HplAtm128Timer1P__Capture__captured(HplAtm128Timer1P__Capture__size_type t){
#line 51
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__captured(t);
#line 51
}
#line 51
# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
static inline uint16_t HplAtm128Timer1P__Timer__get(void )
#line 49
{
#line 49
  return * (volatile uint16_t *)(0x2C + 0x20);
}

# 97 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static inline void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__HplAtm128Timer__overflow(void )
#line 97
{
}

# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline void /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__overflow(void )
#line 59
{
}

# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void HplAtm128Timer1P__Timer__overflow(void ){
#line 61
  /*InitOneP.InitOne*/Atm128Timer16WgmInitC__0__Timer__overflow();
#line 61
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__HplAtm128Timer__overflow();
#line 61
}
#line 61
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline bool /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__get(void )
#line 45
{
#line 45
  return (* (volatile uint8_t * )32U & (1 << 7)) != 0;
}

# 32 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static bool BitBangingImplP__rxPin__get(void ){
#line 32
  unsigned char result;
#line 32

#line 32
  result = /*HplAtm128GeneralIOC.PortF.Bit7*/HplAtm128GeneralIOPinP__47__IO__get();
#line 32

#line 32
  return result;
#line 32
}
#line 32
# 388 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__SerialFrameComm__dataReceived(uint8_t data)
#line 388
{
  SerialP__rx_state_machine(FALSE, data);
}

# 83 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void HdlcTranslateC__SerialFrameComm__dataReceived(uint8_t data){
#line 83
  SerialP__SerialFrameComm__dataReceived(data);
#line 83
}
#line 83
# 385 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__SerialFrameComm__delimiterReceived(void )
#line 385
{
  SerialP__rx_state_machine(TRUE, 0);
}

# 74 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void HdlcTranslateC__SerialFrameComm__delimiterReceived(void ){
#line 74
  SerialP__SerialFrameComm__delimiterReceived();
#line 74
}
#line 74
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
static inline void HdlcTranslateC__UartStream__receivedByte(uint8_t data)
#line 61
{






  if (data == HDLC_FLAG_BYTE) {

      HdlcTranslateC__SerialFrameComm__delimiterReceived();
      return;
    }
  else {
#line 73
    if (data == HDLC_CTLESC_BYTE) {

        HdlcTranslateC__state.receiveEscape = 1;
        return;
      }
    else {
#line 78
      if (HdlcTranslateC__state.receiveEscape) {

          HdlcTranslateC__state.receiveEscape = 0;
          data = data ^ 0x20;
        }
      }
    }
#line 83
  HdlcTranslateC__SerialFrameComm__dataReceived(data);
}

# 79 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void BitBangingImplP__UartStream__receivedByte(uint8_t byte){
#line 79
  HdlcTranslateC__UartStream__receivedByte(byte);
#line 79
}
#line 79
# 164 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static __inline void BitBangingImplP__rxStateMachine(bool rxHigh)
#line 164
{
  switch (BitBangingImplP__rxState) {

      case BitBangingImplP__RX_IDLE: 
        if (!rxHigh) {
            BitBangingImplP__rxSample = 0;
            BitBangingImplP__rxState = BitBangingImplP__RX_START;
          }
      break;

      case BitBangingImplP__RX_START: 
        BitBangingImplP__rxSample++;
      if (BitBangingImplP__rxSample == 1) {
          if (rxHigh) {
            goto nosync;
            }
        }
      else {
#line 180
        if (BitBangingImplP__rxSample == 2) {
            BitBangingImplP__rxIndex = 0;
            BitBangingImplP__rxState = BitBangingImplP__RX_DATA;
          }
        }
#line 184
      break;

      case BitBangingImplP__RX_DATA: 
        BitBangingImplP__rxSample++;
      if (BitBangingImplP__rxSample > 25) {
        BitBangingImplP__rxState = BitBangingImplP__RX_STOP;
        }
      else {
#line 191
        if ((BitBangingImplP__rxSample - 1) % 3 == 0) {
            if (rxHigh) {
              BitBangingImplP__rxBuffer |= 1 << BitBangingImplP__rxIndex;
              }
            else {
#line 195
              BitBangingImplP__rxBuffer &= ~(1 << BitBangingImplP__rxIndex);
              }
#line 196
            BitBangingImplP__rxIndex++;
          }
        }
#line 198
      break;

      case BitBangingImplP__RX_STOP: 
        BitBangingImplP__rxSample++;
      if (BitBangingImplP__rxSample == 28) {
          if (rxHigh) {
            BitBangingImplP__UartStream__receivedByte(BitBangingImplP__rxBuffer);
            }
#line 205
          goto nosync;
        }
      else {
        if (BitBangingImplP__rxSample > 28) {
          goto nosync;
          }
        }
#line 210
      break;

      default: 
        goto nosync;
    }
  goto done;

  nosync: 
    BitBangingImplP__rxState = BitBangingImplP__RX_IDLE;

  done: ;
}

# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/HplAtm128GeneralIOPinP.nc"
static __inline void /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__clr(void )
#line 47
{
#line 47
  * (volatile uint8_t * )98U &= ~(1 << 6);
}

# 30 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/GeneralIO.nc"
inline static void BitBangingImplP__txPin__clr(void ){
#line 30
  /*HplAtm128GeneralIOC.PortF.Bit6*/HplAtm128GeneralIOPinP__46__IO__clr();
#line 30
}
#line 30
# 54 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static error_t SerialP__SerialFrameComm__putData(uint8_t data){
#line 54
  unsigned char result;
#line 54

#line 54
  result = HdlcTranslateC__SerialFrameComm__putData(data);
#line 54

#line 54
  return result;
#line 54
}
#line 54
# 514 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline error_t SerialP__SendBytePacket__completeSend(void )
#line 514
{
  bool ret = FAIL;

  /* atomic removed: atomic calls only */
#line 516
  {
    SerialP__txBuf[SerialP__TX_DATA_INDEX].state = SerialP__BUFFER_COMPLETE;
    ret = SUCCESS;
  }
  return ret;
}

# 60 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
inline static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__completeSend(void ){
#line 60
  unsigned char result;
#line 60

#line 60
  result = SerialP__SendBytePacket__completeSend();
#line 60

#line 60
  return result;
#line 60
}
#line 60
# 169 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__nextByte(void )
#line 169
{
  uint8_t b;
  uint8_t indx;

  /* atomic removed: atomic calls only */
#line 172
  {
    b = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendBuffer[/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex];
    /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex++;
    indx = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex;
  }
  if (indx > /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendLen) {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__completeSend();
      return 0;
    }
  else {
      return b;
    }
}

# 70 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SendBytePacket.nc"
inline static uint8_t SerialP__SendBytePacket__nextByte(void ){
#line 70
  unsigned char result;
#line 70

#line 70
  result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__nextByte();
#line 70

#line 70
  return result;
#line 70
}
#line 70
# 643 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static inline void SerialP__SerialFrameComm__putDone(void )
#line 643
{
  {
    error_t txResult = SUCCESS;

    switch (SerialP__txState) {

        case SerialP__TXSTATE_PROTO: 

          txResult = SerialP__SerialFrameComm__putData(SerialP__txProto);

        SerialP__txState = SerialP__TXSTATE_INFO;



        SerialP__txCRC = crcByte(SerialP__txCRC, SerialP__txProto);
        break;

        case SerialP__TXSTATE_SEQNO: 
          txResult = SerialP__SerialFrameComm__putData(SerialP__txSeqno);
        SerialP__txState = SerialP__TXSTATE_INFO;
        SerialP__txCRC = crcByte(SerialP__txCRC, SerialP__txSeqno);
        break;

        case SerialP__TXSTATE_INFO: 
          { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 667
            {
              txResult = SerialP__SerialFrameComm__putData(SerialP__txBuf[SerialP__txIndex].buf);
              SerialP__txCRC = crcByte(SerialP__txCRC, SerialP__txBuf[SerialP__txIndex].buf);
              ++SerialP__txByteCnt;

              if (SerialP__txIndex == SerialP__TX_DATA_INDEX) {
                  uint8_t nextByte;

#line 674
                  nextByte = SerialP__SendBytePacket__nextByte();
                  if (SerialP__txBuf[SerialP__txIndex].state == SerialP__BUFFER_COMPLETE || SerialP__txByteCnt >= SerialP__SERIAL_MTU) {
                      SerialP__txState = SerialP__TXSTATE_FCS1;
                    }
                  else {
                      SerialP__txBuf[SerialP__txIndex].buf = nextByte;
                    }
                }
              else {
                  SerialP__txState = SerialP__TXSTATE_FCS1;
                }
            }
#line 685
            __nesc_atomic_end(__nesc_atomic); }
        break;

        case SerialP__TXSTATE_FCS1: 
          txResult = SerialP__SerialFrameComm__putData(SerialP__txCRC & 0xff);
        SerialP__txState = SerialP__TXSTATE_FCS2;
        break;

        case SerialP__TXSTATE_FCS2: 
          txResult = SerialP__SerialFrameComm__putData((SerialP__txCRC >> 8) & 0xff);
        SerialP__txState = SerialP__TXSTATE_ENDFLAG;
        break;

        case SerialP__TXSTATE_ENDFLAG: 
          txResult = SerialP__SerialFrameComm__putDelimiter();
        SerialP__txState = SerialP__TXSTATE_ENDWAIT;
        break;

        case SerialP__TXSTATE_ENDWAIT: 
          SerialP__txState = SerialP__TXSTATE_FINISH;
        case SerialP__TXSTATE_FINISH: 
          SerialP__MaybeScheduleTx();
        break;
        case SerialP__TXSTATE_ERROR: 
          default: 
            txResult = FAIL;
        break;
      }

    if (txResult != SUCCESS) {
        SerialP__txState = SerialP__TXSTATE_ERROR;
        SerialP__MaybeScheduleTx();
      }
  }
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void HdlcTranslateC__SerialFrameComm__putDone(void ){
#line 89
  SerialP__SerialFrameComm__putDone();
#line 89
}
#line 89
# 48 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static error_t HdlcTranslateC__UartStream__send(uint8_t * buf, uint16_t len){
#line 48
  unsigned char result;
#line 48

#line 48
  result = BitBangingImplP__UartStream__send(buf, len);
#line 48

#line 48
  return result;
#line 48
}
#line 48
# 104 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
static inline void HdlcTranslateC__UartStream__sendDone(uint8_t *buf, uint16_t len, 
error_t error)
#line 105
{
  if (HdlcTranslateC__state.sendEscape) {
      HdlcTranslateC__state.sendEscape = 0;
      HdlcTranslateC__m_data = HdlcTranslateC__txTemp;
      HdlcTranslateC__UartStream__send(&HdlcTranslateC__m_data, 1);
    }
  else {
      HdlcTranslateC__SerialFrameComm__putDone();
    }
}

# 57 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/UartStream.nc"
inline static void BitBangingImplP__UartStream__sendDone(uint8_t * buf, uint16_t len, error_t error){
#line 57
  HdlcTranslateC__UartStream__sendDone(buf, len, error);
#line 57
}
#line 57
# 224 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static __inline bool BitBangingImplP__txStateMachine(void )
#line 224
{
  switch (BitBangingImplP__txState) {

      case BitBangingImplP__TX_IDLE: 
        return TRUE;
      break;

      case BitBangingImplP__TX_START: 
        if (++BitBangingImplP__txSample == 2) {
            BitBangingImplP__txIndex = 0;
            BitBangingImplP__txState = BitBangingImplP__TX_DATA;
          }
      return FALSE;
      break;

      case BitBangingImplP__TX_DATA: 
        BitBangingImplP__txSample++;
      if (BitBangingImplP__txSample > 25) {
          BitBangingImplP__txState = BitBangingImplP__TX_STOP;
        }
      else {
        if (BitBangingImplP__txSample % 3 == 0) {
            if ((BitBangingImplP__txBuffer >> BitBangingImplP__txIndex) & 0x1) {
              BitBangingImplP__txHigh = TRUE;
              }
            else {
#line 249
              BitBangingImplP__txHigh = FALSE;
              }
#line 250
            BitBangingImplP__txIndex++;
          }
        }
#line 252
      return BitBangingImplP__txHigh;
      break;

      case BitBangingImplP__TX_STOP: 
        BitBangingImplP__txSample++;
      if (BitBangingImplP__txSample == 29) {
          BitBangingImplP__UartStream__sendDone(BitBangingImplP__txBufPtr, 1, SUCCESS);
        }
      else {
        if (BitBangingImplP__txSample > 29) {
          goto nosync;
          }
        }
#line 263
      return TRUE;
      break;

      default: 
        goto nosync;
    }

  nosync: 
    BitBangingImplP__txState = BitBangingImplP__TX_IDLE;
  return TRUE;
}

#line 126
static inline void BitBangingImplP__Timer__fired(void )
#line 126
{

  if (BitBangingImplP__txStateMachine()) {
    BitBangingImplP__txPin__set();
    }
  else {
#line 131
    BitBangingImplP__txPin__clr();
    }
  BitBangingImplP__rxStateMachine(BitBangingImplP__rxPin__get());
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer3P__CompareA__fired(void ){
#line 49
  BitBangingImplP__Timer__fired();
#line 49
}
#line 49
# 206 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static __inline void SerialP__rxInit(void )
#line 206
{
  SerialP__rxBuf.writePtr = SerialP__rxBuf.readPtr = 0;
  SerialP__rxState = SerialP__RXSTATE_NOSYNC;
  SerialP__rxByteCnt = 0;
  SerialP__rxProto = 0;
  SerialP__rxSeqno = 0;
  SerialP__rxCRC = 0;
}

#line 392
static inline bool SerialP__valid_rx_proto(uint8_t proto)
#line 392
{
  switch (proto) {
      case SERIAL_PROTO_PACKET_ACK: 
        return TRUE;
      case SERIAL_PROTO_ACK: 
        case SERIAL_PROTO_PACKET_NOACK: 
          default: 
            return FALSE;
    }
}

# 199 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__lockCurrentBuffer(void )
#line 199
{
  if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which) {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufOneLocked = 1;
    }
  else {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufZeroLocked = 1;
    }
}

#line 190
static inline bool /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__isCurrentBufferLocked(void )
#line 190
{
  if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which) {
      return /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufOneLocked;
    }
  else {
      return /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.bufZeroLocked;
    }
}

#line 222
static inline error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__startPacket(void )
#line 222
{
  error_t result = SUCCESS;

#line 224
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 224
    {
      if (!/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__isCurrentBufferLocked()) {


          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__lockCurrentBuffer();
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.state = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_BEGIN;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex = 0;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvType = TOS_SERIAL_UNKNOWN_ID;
        }
      else {
          result = EBUSY;
        }
    }
#line 236
    __nesc_atomic_end(__nesc_atomic); }
  return result;
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static error_t SerialP__ReceiveBytePacket__startPacket(void ){
#line 51
  unsigned char result;
#line 51

#line 51
  result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__startPacket();
#line 51

#line 51
  return result;
#line 51
}
#line 51
# 310 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static __inline uint16_t SerialP__rx_current_crc(void )
#line 310
{
  uint16_t crc;
  uint8_t tmp = SerialP__rxBuf.writePtr;

#line 313
  tmp = tmp == 0 ? SerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc = SerialP__rxBuf.buf[tmp] & 0x00ff;
  crc = (crc << 8) & 0xFF00;
  tmp = tmp == 0 ? SerialP__RX_DATA_BUFFER_SIZE : tmp - 1;
  crc |= SerialP__rxBuf.buf[tmp] & 0x00FF;
  return crc;
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static void SerialP__ReceiveBytePacket__endPacket(error_t result){
#line 69
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__endPacket(result);
#line 69
}
#line 69
# 217 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBufferSwap(void )
#line 217
{
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which ? 0 : 1;
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBuffer = (uint8_t *)/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__messagePtrs[/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which];
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 233 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static __inline bool SerialP__ack_queue_is_full(void )
#line 233
{
  uint8_t tmp;
#line 234
  uint8_t tmp2;

#line 235
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 235
    {
      tmp = SerialP__ackQ.writePtr;
      tmp2 = SerialP__ackQ.readPtr;
    }
#line 238
    __nesc_atomic_end(__nesc_atomic); }
  if (++tmp > SerialP__ACK_QUEUE_SIZE) {
#line 239
    tmp = 0;
    }
#line 240
  return tmp == tmp2;
}







static __inline void SerialP__ack_queue_push(uint8_t token)
#line 249
{
  if (!SerialP__ack_queue_is_full()) {
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 251
        {
          SerialP__ackQ.buf[SerialP__ackQ.writePtr] = token;
          if (++ SerialP__ackQ.writePtr > SerialP__ACK_QUEUE_SIZE) {
#line 253
            SerialP__ackQ.writePtr = 0;
            }
        }
#line 255
        __nesc_atomic_end(__nesc_atomic); }
#line 255
      SerialP__MaybeScheduleTx();
    }
}

# 240 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static inline void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__byteReceived(uint8_t b)
#line 240
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 241
    {
      switch (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.state) {
          case /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_BEGIN: 
            /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.state = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_DATA;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__offset(b);
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvType = b;
          break;

          case /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_DATA: 
            if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex < sizeof(message_t )) {
                /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBuffer[/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex] = b;
                /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex++;
              }
            else {
              }




          break;

          case /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_IDLE: 
            default: 
#line 262
              ;
        }
    }
#line 264
    __nesc_atomic_end(__nesc_atomic); }
}

# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/ReceiveBytePacket.nc"
inline static void SerialP__ReceiveBytePacket__byteReceived(uint8_t data){
#line 58
  /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__byteReceived(data);
#line 58
}
#line 58
# 300 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static __inline uint8_t SerialP__rx_buffer_top(void )
#line 300
{
  uint8_t tmp = SerialP__rxBuf.buf[SerialP__rxBuf.readPtr];

#line 302
  return tmp;
}

#line 304
static __inline uint8_t SerialP__rx_buffer_pop(void )
#line 304
{
  uint8_t tmp = SerialP__rxBuf.buf[SerialP__rxBuf.readPtr];

#line 306
  if (++ SerialP__rxBuf.readPtr > SerialP__RX_DATA_BUFFER_SIZE) {
#line 306
    SerialP__rxBuf.readPtr = 0;
    }
#line 307
  return tmp;
}

#line 296
static __inline void SerialP__rx_buffer_push(uint8_t data)
#line 296
{
  SerialP__rxBuf.buf[SerialP__rxBuf.writePtr] = data;
  if (++ SerialP__rxBuf.writePtr > SerialP__RX_DATA_BUFFER_SIZE) {
#line 298
    SerialP__rxBuf.writePtr = 0;
    }
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
static inline void HdlcTranslateC__SerialFrameComm__resetReceive(void )
#line 55
{
  HdlcTranslateC__state.receiveEscape = 0;
}

# 68 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialFrameComm.nc"
inline static void SerialP__SerialFrameComm__resetReceive(void ){
#line 68
  HdlcTranslateC__SerialFrameComm__resetReceive();
#line 68
}
#line 68
# 192 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__CompareB__default__fired(void )
#line 192
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer3P__CompareB__fired(void ){
#line 49
  HplAtm128Timer3P__CompareB__default__fired();
#line 49
}
#line 49
# 196 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__CompareC__default__fired(void )
#line 196
{
}

# 49 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Compare.nc"
inline static void HplAtm128Timer3P__CompareC__fired(void ){
#line 49
  HplAtm128Timer3P__CompareC__default__fired();
#line 49
}
#line 49
# 200 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline void HplAtm128Timer3P__Capture__default__captured(uint16_t time)
#line 200
{
}

# 51 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Capture.nc"
inline static void HplAtm128Timer3P__Capture__captured(HplAtm128Timer3P__Capture__size_type t){
#line 51
  HplAtm128Timer3P__Capture__default__captured(t);
#line 51
}
#line 51
# 47 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
static inline uint16_t HplAtm128Timer3P__Timer__get(void )
#line 47
{
#line 47
  return * (volatile uint16_t *)0x88;
}

# 59 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128Timer16WgmInitC.nc"
static inline void /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__overflow(void )
#line 59
{
}

# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer.nc"
inline static void HplAtm128Timer3P__Timer__overflow(void ){
#line 61
  /*InitThreeBitBangingP.InitThree*/Atm128Timer16WgmInitC__1__Timer__overflow();
#line 61
}
#line 61
# 61 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/QueueC.nc"
static inline uint8_t /*PrintfC.QueueC*/QueueC__0__Queue__maxSize(void )
#line 61
{
  return 250;
}

#line 97
static inline error_t /*PrintfC.QueueC*/QueueC__0__Queue__enqueue(/*PrintfC.QueueC*/QueueC__0__queue_t newVal)
#line 97
{
  if (/*PrintfC.QueueC*/QueueC__0__Queue__size() < /*PrintfC.QueueC*/QueueC__0__Queue__maxSize()) {
      ;
      /*PrintfC.QueueC*/QueueC__0__queue[/*PrintfC.QueueC*/QueueC__0__tail] = newVal;
      /*PrintfC.QueueC*/QueueC__0__tail++;
      if (/*PrintfC.QueueC*/QueueC__0__tail == 250) {
#line 102
        /*PrintfC.QueueC*/QueueC__0__tail = 0;
        }
#line 103
      /*PrintfC.QueueC*/QueueC__0__size++;
      /*PrintfC.QueueC*/QueueC__0__printQueue();
      return SUCCESS;
    }
  else {
      return FAIL;
    }
}

# 90 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Queue.nc"
inline static error_t PrintfP__Queue__enqueue(PrintfP__Queue__t  newVal){
#line 90
  unsigned char result;
#line 90

#line 90
  result = /*PrintfC.QueueC*/QueueC__0__Queue__enqueue(newVal);
#line 90

#line 90
  return result;
#line 90
}
#line 90
# 46 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline uint16_t HplAtm128AdcP__HplAtm128Adc__getValue(void )
#line 46
{
  return * (volatile uint16_t *)(0x04 + 0x20);
}

#line 43
static inline Atm128Adcsra_t HplAtm128AdcP__HplAtm128Adc__getAdcsra(void )
#line 43
{
  return * (Atm128Adcsra_t *)& * (volatile uint8_t *)(0x06 + 0x20);
}

#line 108
static inline bool HplAtm128AdcP__HplAtm128Adc__cancel(void )
#line 108
{
  /* atomic removed: atomic calls only */

  {
    Atm128Adcsra_t oldSr = HplAtm128AdcP__HplAtm128Adc__getAdcsra();
#line 112
    Atm128Adcsra_t newSr;





    newSr = oldSr;
    newSr.aden = FALSE;
    newSr.adif = TRUE;
    newSr.adie = FALSE;

    HplAtm128AdcP__HplAtm128Adc__setAdcsra(newSr);
    newSr.adsc = FALSE;
    HplAtm128AdcP__HplAtm128Adc__setAdcsra(newSr);
    newSr.aden = TRUE;
    HplAtm128AdcP__HplAtm128Adc__setAdcsra(newSr);

    {
      unsigned char __nesc_temp = 
#line 129
      oldSr.adif || oldSr.adsc;

#line 129
      return __nesc_temp;
    }
  }
}

# 141 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static bool Atm128AdcP__HplAtm128Adc__cancel(void ){
#line 141
  unsigned char result;
#line 141

#line 141
  result = HplAtm128AdcP__HplAtm128Adc__cancel();
#line 141

#line 141
  return result;
#line 141
}
#line 141
# 242 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline bool Atm128AdcP__Atm128AdcMultiple__default__dataReady(uint16_t data, bool precise, uint8_t channel, 
uint8_t *newChannel, uint8_t *newRefVoltage)
#line 243
{
  return FALSE;
}

# 110 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcMultiple.nc"
inline static bool Atm128AdcP__Atm128AdcMultiple__dataReady(uint16_t data, bool precise, uint8_t channel, uint8_t *newChannel, uint8_t *newRefVoltage){
#line 110
  unsigned char result;
#line 110

#line 110
  result = Atm128AdcP__Atm128AdcMultiple__default__dataReady(data, precise, channel, newChannel, newRefVoltage);
#line 110

#line 110
  return result;
#line 110
}
#line 110
# 150 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline void AdcP__ReadNow__default__readDone(uint8_t c, error_t e, uint16_t d)
#line 150
{
}

# 66 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/ReadNow.nc"
inline static void AdcP__ReadNow__readDone(uint8_t arg_0x4116f0e8, error_t result, AdcP__ReadNow__val_t val){
#line 66
    AdcP__ReadNow__default__readDone(arg_0x4116f0e8, result, val);
#line 66
}
#line 66
# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
inline static error_t AdcP__acquiredData__postTask(void ){
#line 56
  unsigned char result;
#line 56

#line 56
  result = SchedulerBlockingP__TaskBasic__postTask(AdcP__acquiredData);
#line 56

#line 56
  return result;
#line 56
}
#line 56
# 108 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static inline void AdcP__Atm128AdcSingle__dataReady(uint16_t data, bool precise)
#line 108
{
  switch (AdcP__state) 
    {
      case AdcP__ACQUIRE_DATA: 
        if (!precise) {
          AdcP__sample();
          }
        else {
            AdcP__val = data;
            AdcP__acquiredData__postTask();
          }
      break;

      case AdcP__ACQUIRE_DATA_NOW: 
        if (!precise) {
          AdcP__sample();
          }
        else {
            AdcP__state = AdcP__IDLE;
            AdcP__ReadNow__readDone(AdcP__client, SUCCESS, data);
          }
      break;

      default: 
        break;
    }
}

# 72 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcSingle.nc"
inline static void Atm128AdcP__Atm128AdcSingle__dataReady(uint16_t data, bool precise){
#line 72
  AdcP__Atm128AdcSingle__dataReady(data, precise);
#line 72
}
#line 72
# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
static inline void HplAtm128AdcP__HplAtm128Adc__disableInterruption(void )
#line 78
{
#line 78
  * (volatile uint8_t *)(0x06 + 0x20) &= ~(1 << 3);
}

# 86 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void Atm128AdcP__HplAtm128Adc__disableInterruption(void ){
#line 86
  HplAtm128AdcP__HplAtm128Adc__disableInterruption();
#line 86
}
#line 86
# 124 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/Atm128AdcP.nc"
static inline void Atm128AdcP__HplAtm128Adc__dataReady(uint16_t data)
#line 124
{
  bool precise;
#line 125
  bool multiple;
  uint8_t channel;

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      channel = Atm128AdcP__f.channel;
      precise = Atm128AdcP__f.precise;
      multiple = Atm128AdcP__f.multiple;
    }
#line 133
    __nesc_atomic_end(__nesc_atomic); }

  if (!multiple) 
    {


      Atm128AdcP__HplAtm128Adc__disableInterruption();
      Atm128AdcP__Atm128AdcSingle__dataReady(data, precise);
    }
  else 
    {







      bool cont;
      uint8_t nextChannel;
#line 152
      uint8_t nextVoltage;
      Atm128Admux_t admux;

      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
        {
          admux = Atm128AdcP__HplAtm128Adc__getAdmux();
          nextVoltage = admux.refs;
          nextChannel = admux.mux;
        }
#line 160
        __nesc_atomic_end(__nesc_atomic); }

      cont = Atm128AdcP__Atm128AdcMultiple__dataReady(data, precise, channel, 
      &nextChannel, &nextVoltage);
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
        if (cont) 
          {



            admux.refs = nextVoltage;
            admux.mux = nextChannel;
            Atm128AdcP__HplAtm128Adc__setAdmux(admux);

            Atm128AdcP__f = Atm128AdcP__nextF;
            Atm128AdcP__nextF.channel = nextChannel;
            Atm128AdcP__nextF.precise = Atm128AdcP__isPrecise(admux, nextChannel, nextVoltage);
          }
        else {
          Atm128AdcP__HplAtm128Adc__cancel();
          }
#line 180
        __nesc_atomic_end(__nesc_atomic); }
    }
}

# 147 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128Adc.nc"
inline static void HplAtm128AdcP__HplAtm128Adc__dataReady(uint16_t data){
#line 147
  Atm128AdcP__HplAtm128Adc__dataReady(data);
#line 147
}
#line 147
# 221 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
inline static void AtronTosApiC__Leds__set(uint8_t val){
#line 221
  LedsClientP__Leds__set(val);
#line 221
}
#line 221
# 231 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/LedsClientP.nc"
static inline uint8_t LedsClientP__Leds__get(void )
#line 231
{
  return LedsClientP__leds;
}

# 205 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Leds.nc"
inline static uint8_t AtronTosApiC__Leds__get(void ){
#line 205
  unsigned char result;
#line 205

#line 205
  result = LedsClientP__Leds__get();
#line 205

#line 205
  return result;
#line 205
}
#line 205
# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Counter.nc"
inline static /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__size_type /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__get(void ){
#line 53
  unsigned long result;
#line 53

#line 53
  result = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get();
#line 53

#line 53
  return result;
#line 53
}
#line 53
# 42 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/CounterToLocalTimeC.nc"
static inline uint32_t /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__LocalTime__get(void )
{
  return /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__Counter__get();
}

# 50 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/LocalTime.nc"
inline static uint32_t AtronTosApiC__LocalTime__get(void ){
#line 50
  unsigned long result;
#line 50

#line 50
  result = /*HilTimerMilliC.CounterToLocalTimeC*/CounterToLocalTimeC__0__LocalTime__get();
#line 50

#line 50
  return result;
#line 50
}
#line 50
# 127 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static inline uint8_t InfraredPacketC__Packet__maxPayloadLength(void )
#line 127
{
  return 28;
}

static inline void *InfraredPacketC__Packet__getPayload(message_t *msg, uint8_t len)
#line 131
{
  if (len > InfraredPacketC__Packet__maxPayloadLength()) {
      return (void *)0;
    }
  else {
      return msg->data;
    }
}

# 115 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Packet.nc"
inline static void * AtronTosApiC__Packet__getPayload(message_t * msg, uint8_t len){
#line 115
  void *result;
#line 115

#line 115
  result = InfraredPacketC__Packet__getPayload(msg, len);
#line 115

#line 115
  return result;
#line 115
}
#line 115
# 108 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacket.nc"
inline static void AtronTosApiC__InfraredPacket__setConnector(message_t *msg, uint8_t conn){
#line 108
  InfraredPacketC__InfraredPacket__setConnector(msg, conn);
#line 108
}
#line 108
# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(1U, msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 151 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMPacket.nc"
inline static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setType(message_t * amsg, am_id_t t){
#line 151
  InfraredActiveMessageP__AMPacket__setType(amsg, t);
#line 151
}
#line 151
#line 92
inline static void /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setDestination(message_t * amsg, am_addr_t addr){
#line 92
  InfraredActiveMessageP__AMPacket__setDestination(amsg, addr);
#line 92
}
#line 92
# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static inline error_t /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len)
#line 47
{
  /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setDestination(msg, dest);
  /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMPacket__setType(msg, 199);
  return /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__Send__send(msg, len);
}

# 69 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/AMSend.nc"
inline static error_t SimpleInfraredActiveMessageP__AMSend__send(am_addr_t addr, message_t * msg, uint8_t len){
#line 69
  unsigned char result;
#line 69

#line 69
  result = /*SimpleInfraredActiveMessageC.AMSenderC.AMQueueEntryP*/AMQueueEntryP__2__AMSend__send(addr, msg, len);
#line 69

#line 69
  return result;
#line 69
}
#line 69
# 53 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/SimpleInfraredActiveMessageP.nc"
static inline error_t SimpleInfraredActiveMessageP__Send__send(message_t *msg, uint8_t len)
#line 53
{
  return SimpleInfraredActiveMessageP__AMSend__send(AM_BROADCAST_ADDR, msg, len);
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
inline static error_t AtronTosApiC__Send__send(message_t * msg, uint8_t len){
#line 64
  unsigned char result;
#line 64

#line 64
  result = SimpleInfraredActiveMessageP__Send__send(msg, len);
#line 64

#line 64
  return result;
#line 64
}
#line 64
# 140 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline error_t CentralJointClientP__joint__rotateToDegreesShortestPath(uint16_t degrees, uint8_t speed)
#line 140
{
  if (degrees >= FULL_REVOLUTION_DEGREES) {
    return EINVAL;
    }
#line 143
  if (degrees == CentralJointClientP__actualDegrees) {
      return EALREADY;
    }
  CentralJointClientP__setOpcode = CENTRAL_JOINT_OPCODE_ROTATE_TO_DEGREES_SHORTEST_PATH;
  CentralJointClientP__setDegrees = degrees;
  CentralJointClientP__setSpeed = speed;
  CentralJointClientP__sendRequest__postTask();
  return SUCCESS;
}

# 131 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
inline static error_t AtronTosApiC__CentralJoint__rotateToDegreesShortestPath(uint16_t degrees, uint8_t speed){
#line 131
  unsigned char result;
#line 131

#line 131
  result = CentralJointClientP__joint__rotateToDegreesShortestPath(degrees, speed);
#line 131

#line 131
  return result;
#line 131
}
#line 131
#line 118
inline static error_t AtronTosApiC__CentralJoint__rotateToDegrees(uint16_t degrees, uint8_t speed, bool dir){
#line 118
  unsigned char result;
#line 118

#line 118
  result = CentralJointClientP__joint__rotateToDegrees(degrees, speed, dir);
#line 118

#line 118
  return result;
#line 118
}
#line 118
# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static inline void CentralJointClientP__joint__rotate(uint8_t speed, bool dir)
#line 105
{
  CentralJointClientP__setOpcode = CENTRAL_JOINT_OPCODE_ROTATE;
  CentralJointClientP__setSpeed = speed;
  CentralJointClientP__setDirection = dir;
  CentralJointClientP__sendRequest__postTask();
}

# 88 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/CentralJoint.nc"
inline static void AtronTosApiC__CentralJoint__rotate(uint8_t speed, bool dir){
#line 88
  CentralJointClientP__joint__rotate(speed, dir);
#line 88
}
#line 88
#line 83
inline static void AtronTosApiC__CentralJoint__stop(bool lock){
#line 83
  CentralJointClientP__joint__stop(lock);
#line 83
}
#line 83
# 58 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/interfaces/Connector.nc"
inline static error_t AtronTosApiC__Connector__retract(uint8_t arg_0x41329948){
#line 58
  unsigned char result;
#line 58

#line 58
  result = ConnectorsImplP__Connector__retract(arg_0x41329948);
#line 58

#line 58
  return result;
#line 58
}
#line 58
#line 49
inline static error_t AtronTosApiC__Connector__extend(uint8_t arg_0x41329948){
#line 49
  unsigned char result;
#line 49

#line 49
  result = ConnectorsImplP__Connector__extend(arg_0x41329948);
#line 49

#line 49
  return result;
#line 49
}
#line 49
# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
inline static AtronTosApiC__getModuleIdOnFlash__val_t AtronTosApiC__getModuleIdOnFlash__get(void ){
#line 55
  unsigned short result;
#line 55

#line 55
  result = FlashReaderP__getModuleIdOnFlash__get();
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 52 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RealMainP.nc"
  int main(void )
#line 52
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {





      {
      }
#line 60
      ;

      RealMainP__Scheduler__init();





      RealMainP__PlatformInit__init();
      while (RealMainP__Scheduler__runNextTask()) ;





      RealMainP__SoftwareInit__init();
      while (RealMainP__Scheduler__runNextTask()) ;
    }
#line 77
    __nesc_atomic_end(__nesc_atomic); }


  __nesc_enable_interrupt();

  RealMainP__Boot__booted();


  RealMainP__Scheduler__taskLoop();




  return -1;
}

# 60 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__start(channel_id_t channel, uint16_t top, uint16_t steps_high)
{
  Atm128TimerCtrlCompare_t compare = /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__getCtrlCompare();

  compare.flat |= 0x80 >> channel * 2;
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__setCtrlCompare(compare);
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__makeOutput(channel);
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__OutputPin__clr(channel);
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Capture__set(top);
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__setHigh(channel, steps_high);
}

# 91 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredChannelP.nc"
static void InfraredChannelP__InfraredChannel__enable(uint8_t val)
#line 91
{
  if (val & HEMISPHERE_CONNECTOR_1) {
    InfraredChannelP__ch1Enable__set();
    }
  else {
#line 95
    InfraredChannelP__ch1Enable__clr();
    }
#line 96
  if (val & HEMISPHERE_CONNECTOR_2) {
    InfraredChannelP__ch2Enable__set();
    }
  else {
#line 99
    InfraredChannelP__ch2Enable__clr();
    }
#line 100
  if (val & HEMISPHERE_CONNECTOR_3) {
    InfraredChannelP__ch3Enable__set();
    }
  else {
#line 103
    InfraredChannelP__ch3Enable__clr();
    }
#line 104
  if (val & HEMISPHERE_CONNECTOR_4) {
    InfraredChannelP__ch4Enable__set();
    }
  else {
#line 107
    InfraredChannelP__ch4Enable__clr();
    }
}

# 264 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static bool SchedulerBlockingP__Scheduler__runNextTask(void )
{
  uint8_t nextTask;

  /* atomic removed: atomic calls only */
#line 268
  {
    nextTask = SchedulerBlockingP__popTask();
    if (nextTask == SchedulerBlockingP__NO_TASK) 
      {
        {
          unsigned char __nesc_temp = 
#line 272
          FALSE;

#line 272
          return __nesc_temp;
        }
      }
  }
#line 275
  SchedulerBlockingP__TaskBasic__runTask(nextTask);
  return TRUE;
}

#line 156
static void SchedulerBlockingP__TaskBasic__default__runTask(uint8_t id)
{
}

# 64 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/TaskBasic.nc"
static void SchedulerBlockingP__TaskBasic__runTask(uint8_t arg_0x40357710){
#line 64
  switch (arg_0x40357710) {
#line 64
    case /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired:
#line 64
      /*HilTimerMilliC.AlarmToTimerC*/AlarmToTimerC__0__fired__runTask();
#line 64
      break;
#line 64
    case /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer:
#line 64
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__RunTx:
#line 64
      RS485SerialP__RunTx__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__startWatchdog:
#line 64
      RS485SerialP__startWatchdog__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__stopWatchdog:
#line 64
      RS485SerialP__stopWatchdog__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__startDoneTask:
#line 64
      RS485SerialP__startDoneTask__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__stopDoneTask:
#line 64
      RS485SerialP__stopDoneTask__runTask();
#line 64
      break;
#line 64
    case RS485SerialP__defaultSerialFlushTask:
#line 64
      RS485SerialP__defaultSerialFlushTask__runTask();
#line 64
      break;
#line 64
    case RS485SerialDispatcherP__signalSendDone:
#line 64
      RS485SerialDispatcherP__signalSendDone__runTask();
#line 64
      break;
#line 64
    case RS485SerialDispatcherP__startAckTimeout:
#line 64
      RS485SerialDispatcherP__startAckTimeout__runTask();
#line 64
      break;
#line 64
    case RS485SerialDispatcherP__stopAckTimeout:
#line 64
      RS485SerialDispatcherP__stopAckTimeout__runTask();
#line 64
      break;
#line 64
    case RS485SerialDispatcherP__resendTask:
#line 64
      RS485SerialDispatcherP__resendTask__runTask();
#line 64
      break;
#line 64
    case RS485SerialDispatcherP__receiveTask:
#line 64
      RS485SerialDispatcherP__receiveTask__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__RunTx:
#line 64
      InfraredSerialP__RunTx__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__startWatchdog:
#line 64
      InfraredSerialP__startWatchdog__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__stopWatchdog:
#line 64
      InfraredSerialP__stopWatchdog__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__startDoneTask:
#line 64
      InfraredSerialP__startDoneTask__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__stopDoneTask:
#line 64
      InfraredSerialP__stopDoneTask__runTask();
#line 64
      break;
#line 64
    case InfraredSerialP__defaultSerialFlushTask:
#line 64
      InfraredSerialP__defaultSerialFlushTask__runTask();
#line 64
      break;
#line 64
    case InfraredSerialDispatcherP__signalSendDone:
#line 64
      InfraredSerialDispatcherP__signalSendDone__runTask();
#line 64
      break;
#line 64
    case InfraredSerialDispatcherP__receiveTask:
#line 64
      InfraredSerialDispatcherP__receiveTask__runTask();
#line 64
      break;
#line 64
    case /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask:
#line 64
      /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__runTask();
#line 64
      break;
#line 64
    case SerialP__RunTx:
#line 64
      SerialP__RunTx__runTask();
#line 64
      break;
#line 64
    case SerialP__startDoneTask:
#line 64
      SerialP__startDoneTask__runTask();
#line 64
      break;
#line 64
    case SerialP__stopDoneTask:
#line 64
      SerialP__stopDoneTask__runTask();
#line 64
      break;
#line 64
    case SerialP__defaultSerialFlushTask:
#line 64
      SerialP__defaultSerialFlushTask__runTask();
#line 64
      break;
#line 64
    case /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone:
#line 64
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__signalSendDone__runTask();
#line 64
      break;
#line 64
    case /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask:
#line 64
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__runTask();
#line 64
      break;
#line 64
    case /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask:
#line 64
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask:
#line 64
      /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__errorTask__runTask();
#line 64
      break;
#line 64
    case /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask:
#line 64
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask:
#line 64
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__errorTask__runTask();
#line 64
      break;
#line 64
    case PrintfP__retrySend:
#line 64
      PrintfP__retrySend__runTask();
#line 64
      break;
#line 64
    case LedsClientP__sendRequest:
#line 64
      LedsClientP__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask:
#line 64
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask:
#line 64
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__runTask();
#line 64
      break;
#line 64
    case /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask:
#line 64
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask:
#line 64
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__runTask();
#line 64
      break;
#line 64
    case AvrDirectStorageP__checkReady:
#line 64
      AvrDirectStorageP__checkReady__runTask();
#line 64
      break;
#line 64
    case InfraredMessageP__signalSendDone:
#line 64
      InfraredMessageP__signalSendDone__runTask();
#line 64
      break;
#line 64
    case InfraredServerP__sendReply:
#line 64
      InfraredServerP__sendReply__runTask();
#line 64
      break;
#line 64
    case /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask:
#line 64
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask:
#line 64
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__errorTask__runTask();
#line 64
      break;
#line 64
    case /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask:
#line 64
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask:
#line 64
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__runTask();
#line 64
      break;
#line 64
    case InfraredClientP__signalSendDone:
#line 64
      InfraredClientP__signalSendDone__runTask();
#line 64
      break;
#line 64
    case InfraredInterceptorP__updateTable:
#line 64
      InfraredInterceptorP__updateTable__runTask();
#line 64
      break;
#line 64
    case InfraredInterceptorP__sendAck:
#line 64
      InfraredInterceptorP__sendAck__runTask();
#line 64
      break;
#line 64
    case IsAliveP__updateHiTrafficConnectors:
#line 64
      IsAliveP__updateHiTrafficConnectors__runTask();
#line 64
      break;
#line 64
    case /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask:
#line 64
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__CancelTask__runTask();
#line 64
      break;
#line 64
    case /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask:
#line 64
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__errorTask__runTask();
#line 64
      break;
#line 64
    case /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone:
#line 64
      /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStartDone__runTask();
#line 64
      break;
#line 64
    case /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone:
#line 64
      /*InfraredActiveMessageC.NoSplitControlC*/NoSplitControlC__0__signalStopDone__runTask();
#line 64
      break;
#line 64
    case /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone:
#line 64
      /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStartDone__runTask();
#line 64
      break;
#line 64
    case /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone:
#line 64
      /*ActiveMessageC.NoSplitControlC*/NoSplitControlC__1__signalStopDone__runTask();
#line 64
      break;
#line 64
    case /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone:
#line 64
      /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__signalReadDone__runTask();
#line 64
      break;
#line 64
    case /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask:
#line 64
      /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__runTask();
#line 64
      break;
#line 64
    case AdcP__acquiredData:
#line 64
      AdcP__acquiredData__runTask();
#line 64
      break;
#line 64
    case /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone:
#line 64
      /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__signalReadDone__runTask();
#line 64
      break;
#line 64
    case /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest:
#line 64
      /*Connector1ClientC.client*/ConnectorClientP__0__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest:
#line 64
      /*Connector2ClientC.client*/ConnectorClientP__1__sendRequest__runTask();
#line 64
      break;
#line 64
    case CentralJointClientP__sendRequest:
#line 64
      CentralJointClientP__sendRequest__runTask();
#line 64
      break;
#line 64
    case CentralJointClientP__signalRotationCompleted:
#line 64
      CentralJointClientP__signalRotationCompleted__runTask();
#line 64
      break;
#line 64
    case /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest:
#line 64
      /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone:
#line 64
      /*DegreesClientC.degreesClient*/RpcRead16ClientP__0__signalReadDone__runTask();
#line 64
      break;
#line 64
    case /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest:
#line 64
      /*OtherXaxisC.client*/RpcRead16ClientP__1__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone:
#line 64
      /*OtherXaxisC.client*/RpcRead16ClientP__1__signalReadDone__runTask();
#line 64
      break;
#line 64
    case /*YaxisC.client*/RpcRead16ClientP__2__sendRequest:
#line 64
      /*YaxisC.client*/RpcRead16ClientP__2__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone:
#line 64
      /*YaxisC.client*/RpcRead16ClientP__2__signalReadDone__runTask();
#line 64
      break;
#line 64
    case InfraredChannelClientP__sendRequest:
#line 64
      InfraredChannelClientP__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*Connector1ServerC.server*/ConnectorServerP__0__processRequest:
#line 64
      /*Connector1ServerC.server*/ConnectorServerP__0__processRequest__runTask();
#line 64
      break;
#line 64
    case /*Connector1ServerC.server*/ConnectorServerP__0__sendReply:
#line 64
      /*Connector1ServerC.server*/ConnectorServerP__0__sendReply__runTask();
#line 64
      break;
#line 64
    case /*Connector2ServerC.server*/ConnectorServerP__1__processRequest:
#line 64
      /*Connector2ServerC.server*/ConnectorServerP__1__processRequest__runTask();
#line 64
      break;
#line 64
    case /*Connector2ServerC.server*/ConnectorServerP__1__sendReply:
#line 64
      /*Connector2ServerC.server*/ConnectorServerP__1__sendReply__runTask();
#line 64
      break;
#line 64
    case /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest:
#line 64
      /*XaxisServerC.server*/RpcRead16ServerP__0__processRequest__runTask();
#line 64
      break;
#line 64
    case /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply:
#line 64
      /*XaxisServerC.server*/RpcRead16ServerP__0__sendReply__runTask();
#line 64
      break;
#line 64
    case HemisphereProximitySensorP__signalReadDone:
#line 64
      HemisphereProximitySensorP__signalReadDone__runTask();
#line 64
      break;
#line 64
    case HemisphereProximitySensorP__lowerPwmHigh:
#line 64
      HemisphereProximitySensorP__lowerPwmHigh__runTask();
#line 64
      break;
#line 64
    case /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest:
#line 64
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__processRequest__runTask();
#line 64
      break;
#line 64
    case /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply:
#line 64
      /*ProximityServerC.server*/RpcRead8ServerProximityP__0__sendReply__runTask();
#line 64
      break;
#line 64
    case InfraredChannelServerP__processRequest:
#line 64
      InfraredChannelServerP__processRequest__runTask();
#line 64
      break;
#line 64
    case DebugLedsServerP__processRequest:
#line 64
      DebugLedsServerP__processRequest__runTask();
#line 64
      break;
#line 64
    case DebugLedsServerP__sendReply:
#line 64
      DebugLedsServerP__sendReply__runTask();
#line 64
      break;
#line 64
    case /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest:
#line 64
      /*ZaxisServerC.server*/RpcRead16ServerP__1__processRequest__runTask();
#line 64
      break;
#line 64
    case /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply:
#line 64
      /*ZaxisServerC.server*/RpcRead16ServerP__1__sendReply__runTask();
#line 64
      break;
#line 64
    case RpcInfoInitP__signalBooted:
#line 64
      RpcInfoInitP__signalBooted__runTask();
#line 64
      break;
#line 64
    case StartATRONC__ASEControl:
#line 64
      StartATRONC__ASEControl__runTask();
#line 64
      break;
#line 64
    case InitModuleStateP__signalReadDone:
#line 64
      InitModuleStateP__signalReadDone__runTask();
#line 64
      break;
#line 64
    case InitSouthStateP__signalReadDone:
#line 64
      InitSouthStateP__signalReadDone__runTask();
#line 64
      break;
#line 64
    case /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest:
#line 64
      /*InitNorthStateClientC.client*/RpcReadClientP__0__sendRequest__runTask();
#line 64
      break;
#line 64
    case /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone:
#line 64
      /*InitNorthStateClientC.client*/RpcReadClientP__0__signalReadDone__runTask();
#line 64
      break;
#line 64
    default:
#line 64
      SchedulerBlockingP__TaskBasic__default__runTask(arg_0x40357710);
#line 64
      break;
#line 64
    }
#line 64
}
#line 64
# 106 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static error_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 107
{
  if (clientId >= 11) {
      return FAIL;
    }
  if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[clientId].msg = msg;
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[clientId].len = len;

  if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current >= 11) {
      error_t err;

#line 121
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = clientId;

      err = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__send(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__get(clientId), msg, len);
      if (err != SUCCESS) {
          ;
          /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current = 11;
          /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[clientId].msg = (void *)0;
        }
      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 111 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static error_t /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 112
{
  if (clientId >= 4) {
      return FAIL;
    }
  if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[clientId].msg = msg;
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[clientId].len = len;

  if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current >= 4) {
      error_t err;

#line 126
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = clientId;

      err = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__send(/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__get(clientId), msg, len);
      if (err != SUCCESS) {
          ;
          /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current = 4;
          /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[clientId].msg = (void *)0;
        }
      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static error_t RS485SerialDispatcherP__Send__send(uint8_t id, message_t *msg, uint8_t len)
#line 137
{
  bool ackRequested;
  uint8_t pktNo;

#line 140
  if (RS485SerialDispatcherP__sendState != RS485SerialDispatcherP__SEND_STATE_IDLE) {
      return EBUSY;
    }

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 144
    {
      RS485SerialDispatcherP__sendIndex = RS485SerialDispatcherP__PacketInfo__offset(id);
      if (RS485SerialDispatcherP__sendIndex > sizeof(message_header_t )) {
          {
            unsigned char __nesc_temp = 
#line 147
            ESIZE;

            {
#line 147
              __nesc_atomic_end(__nesc_atomic); 
#line 147
              return __nesc_temp;
            }
          }
        }
#line 150
      RS485SerialDispatcherP__sendError = SUCCESS;
      RS485SerialDispatcherP__sendBuffer = (uint8_t *)msg;
      RS485SerialDispatcherP__sendState = RS485SerialDispatcherP__SEND_STATE_DATA;
      RS485SerialDispatcherP__sendId = id;
      RS485SerialDispatcherP__sendCancelled = FALSE;






      RS485SerialDispatcherP__sendLen = RS485SerialDispatcherP__PacketInfo__dataLinkLength(id, msg, len) + RS485SerialDispatcherP__sendIndex;

      RS485SerialDispatcherP__waitingAck = TRUE;

      ackRequested = RS485SerialDispatcherP__waitingAck;
      RS485SerialDispatcherP__outstandingPktNo++;
      pktNo = RS485SerialDispatcherP__outstandingPktNo;
    }
#line 168
    __nesc_atomic_end(__nesc_atomic); }

  if (RS485SerialDispatcherP__SendBytePacket__startSend(id, ackRequested, TRUE, pktNo) == SUCCESS) {
      return SUCCESS;
    }
  else {
      RS485SerialDispatcherP__sendState = RS485SerialDispatcherP__SEND_STATE_IDLE;
      return FAIL;
    }
}

#line 428
static uint8_t RS485SerialDispatcherP__PacketInfo__default__offset(uart_id_t id)
#line 428
{
  return 0;
}

# 15 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t RS485SerialDispatcherP__PacketInfo__offset(uart_id_t arg_0x405eb160){
#line 15
  unsigned char result;
#line 15

#line 15
  switch (arg_0x405eb160) {
#line 15
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 15
      result = SerialPacketInfoActiveMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RS485_ID:
#line 15
      result = SerialPacketInfoRS485MessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REPLY_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RS485_ACK_ID:
#line 15
      result = SerialPacketInfoRS485AckP__Info__offset();
#line 15
      break;
#line 15
    default:
#line 15
      result = RS485SerialDispatcherP__PacketInfo__default__offset(arg_0x405eb160);
#line 15
      break;
#line 15
    }
#line 15

#line 15
  return result;
#line 15
}
#line 15
# 622 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static error_t RS485SerialP__SendBytePacket__startSend(uint8_t b, bool ackReq, bool seqNoSpecified, uint8_t seqNo)
#line 622
{
  bool not_busy = FALSE;

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 625
    {
      if (RS485SerialP__txBuf[RS485SerialP__TX_DATA_INDEX].state == RS485SerialP__BUFFER_AVAILABLE) {
          RS485SerialP__txBuf[RS485SerialP__TX_DATA_INDEX].state = RS485SerialP__BUFFER_FILLING;
          RS485SerialP__txBuf[RS485SerialP__TX_DATA_INDEX].buf = b;
          not_busy = TRUE;
          RS485SerialP__ackRequested = ackReq;
          if (seqNoSpecified) {
            RS485SerialP__txSeqno = seqNo;
            }
          else {
#line 634
            RS485SerialP__txSeqno++;
            }
        }
    }
#line 637
    __nesc_atomic_end(__nesc_atomic); }
#line 637
  if (not_busy) {
      RS485SerialP__MaybeScheduleTx();
      return SUCCESS;
    }
  return EBUSY;
}

#line 602
static void RS485SerialP__MaybeScheduleTx(void )
#line 602
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 603
    {
      if (RS485SerialP__txPending == 0) {
          if (RS485SerialP__RunTx__postTask() == SUCCESS) {
              RS485SerialP__txPending = 1;
            }
        }
    }
#line 609
    __nesc_atomic_end(__nesc_atomic); }
}

# 150 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/blocking/SchedulerBlockingP.nc"
static error_t SchedulerBlockingP__TaskBasic__postTask(uint8_t id)
{

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 153
    {
#line 153
      {
        unsigned char __nesc_temp = 
#line 153
        SchedulerBlockingP__pushTask(id) ? SUCCESS : EBUSY;

        {
#line 153
          __nesc_atomic_end(__nesc_atomic); 
#line 153
          return __nesc_temp;
        }
      }
    }
#line 156
    __nesc_atomic_end(__nesc_atomic); }
}

# 228 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static uint8_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__default__get(uint8_t client)
#line 228
{
  return 0;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__val_t /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__get(uint8_t arg_0x40dae5b0){
#line 55
  unsigned char result;
#line 55

#line 55
  switch (arg_0x40dae5b0) {
#line 55
    case /*LedsClientC.rpcClient.sender*/RpcRequestSenderC__0__CLIENT_ID:
#line 55
      result = /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__RpcId__get();
#line 55
      break;
#line 55
    case /*InfraredClientC.rpcClient.sender*/RpcRequestSenderC__1__CLIENT_ID:
#line 55
      result = /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__RpcId__get();
#line 55
      break;
#line 55
    case /*Connector1ClientC.rpcClient.sender*/RpcRequestSenderC__2__CLIENT_ID:
#line 55
      result = /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__RpcId__get();
#line 55
      break;
#line 55
    case /*Connector2ClientC.rpcClient.sender*/RpcRequestSenderC__3__CLIENT_ID:
#line 55
      result = /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__RpcId__get();
#line 55
      break;
#line 55
    case /*CentralJointClientC.rpcClient.sender*/RpcRequestSenderC__4__CLIENT_ID:
#line 55
      result = /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__RpcId__get();
#line 55
      break;
#line 55
    case /*DegreesClientC.degreesRpcClient.sender*/RpcRequestSenderC__5__CLIENT_ID:
#line 55
      result = /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__RpcId__get();
#line 55
      break;
#line 55
    case /*CentralJointClientC.rpcClientDegreesUpdate.sender*/RpcRequestSenderC__6__CLIENT_ID:
#line 55
      result = /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__RpcId__get();
#line 55
      break;
#line 55
    case /*OtherXaxisC.rpcClient.sender*/RpcRequestSenderC__7__CLIENT_ID:
#line 55
      result = /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__RpcId__get();
#line 55
      break;
#line 55
    case /*YaxisC.rpcClient.sender*/RpcRequestSenderC__8__CLIENT_ID:
#line 55
      result = /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__RpcId__get();
#line 55
      break;
#line 55
    case /*OtherHemiInfraredChannelC.rpcClient.sender*/RpcRequestSenderC__9__CLIENT_ID:
#line 55
      result = /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__RpcId__get();
#line 55
      break;
#line 55
    case /*InitNorthStateClientC.rpcClient.sender*/RpcRequestSenderC__10__CLIENT_ID:
#line 55
      result = /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__RpcId__get();
#line 55
      break;
#line 55
    default:
#line 55
      result = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__default__get(arg_0x40dae5b0);
#line 55
      break;
#line 55
    }
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 100 "AtronTosApiC.nc"
  void setStartState(module_state_t state)
#line 100
{
  int i;

#line 102
  for (i = 0; i < 8; i++) {
      AtronTosApiC__connectorState[i] = 0;
    }
}

# 67 "StartATRONC.nc"
static void StartATRONC__startControl(void )
#line 67
{
  if (StartATRONC__init) {
      StartATRONC__Leds__set(0);
      atronApi_setup();
      ase_init(controller_init);
      StartATRONC__init = FALSE;
    }
  StartATRONC__ASEControl__postTask();
}

# 110 "AtronTosApiC.nc"
  void atronApi_setup(void )
#line 110
{

  AtronTosApiC__Timer__startPeriodic(100);
}

# 133 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__startTimer(uint8_t num, uint32_t t0, uint32_t dt, bool isoneshot)
{
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer_t *timer = &/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[num];

#line 136
  timer->t0 = t0;
  timer->dt = dt;
  timer->isoneshot = isoneshot;
  timer->isrunning = TRUE;
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__postTask();
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get(void )
{
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type rv = 0;

#line 95
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__upper_count_type high = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_upper;
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type low = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__get();

#line 99
      if (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__isOverflowPending()) 
        {






          high++;
          low = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__CounterFrom__get();
        }
      {
        /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type high_to = high;
        /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type low_to = low >> /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__LOW_SHIFT_RIGHT;

#line 113
        rv = (high_to << /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__HIGH_SHIFT_LEFT) | low_to;
      }
    }
#line 115
    __nesc_atomic_end(__nesc_atomic); }
  return rv;
}

# 143 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
  int printfflush(void )
#line 143
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 144
    {
      if (PrintfP__state == PrintfP__S_FLUSHING) 
        {
          int __nesc_temp = 
#line 146
          SUCCESS;

          {
#line 146
            __nesc_atomic_end(__nesc_atomic); 
#line 146
            return __nesc_temp;
          }
        }
#line 147
      if (PrintfP__Queue__empty()) 
        {
          int __nesc_temp = 
#line 148
          FAIL;

          {
#line 148
            __nesc_atomic_end(__nesc_atomic); 
#line 148
            return __nesc_temp;
          }
        }
#line 149
      PrintfP__state = PrintfP__S_FLUSHING;
    }
#line 150
    __nesc_atomic_end(__nesc_atomic); }
  PrintfP__sendNext();
  return SUCCESS;
}

#line 132
static void PrintfP__sendNext(void )
#line 132
{
  int i;
  printf_msg_t *m = (printf_msg_t *)PrintfP__Packet__getPayload(&PrintfP__printfMsg, sizeof(printf_msg_t ));
  uint16_t length_to_send = PrintfP__Queue__size() < sizeof(printf_msg_t ) ? PrintfP__Queue__size() : sizeof(printf_msg_t );

#line 136
  memset(m->buffer, 0, sizeof(printf_msg_t ));
  for (i = 0; i < length_to_send; i++) 
    __nesc_hton_uint8(m->buffer[i].data, PrintfP__Queue__dequeue());
  if (PrintfP__AMSend__send(AM_BROADCAST_ADDR, &PrintfP__printfMsg, sizeof(printf_msg_t )) != SUCCESS) {
    PrintfP__retrySend__postTask();
    }
}

# 119 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static void */*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__getPayload(message_t *msg, uint8_t len)
#line 119
{
  if (len > /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__Packet__maxPayloadLength()) {
      return (void *)0;
    }
  else {
      return (void * )msg->data;
    }
}

# 45 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueEntryP.nc"
static error_t /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMSend__send(am_addr_t dest, 
message_t *msg, 
uint8_t len)
#line 47
{
  /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setDestination(msg, dest);
  /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__AMPacket__setType(msg, 100);
  return /*PrintfC.SerialAMSenderC.AMQueueEntryP*/AMQueueEntryP__0__Send__send(msg, len);
}

# 156 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialActiveMessageP.nc"
static am_id_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__type(message_t *amsg)
#line 156
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(amsg);

#line 158
  return __nesc_ntoh_uint8(header->type.data);
}

#line 132
static am_addr_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMPacket__destination(message_t *amsg)
#line 132
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(amsg);

#line 134
  return __nesc_ntoh_uint16(header->dest.data);
}

#line 57
static error_t /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__AMSend__send(am_id_t id, am_addr_t dest, 
message_t *msg, 
uint8_t len)
#line 59
{
  serial_header_t *header = /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__getHeader(msg);

#line 61
  __nesc_hton_uint16(header->dest.data, dest);





  __nesc_hton_uint8(header->type.data, id);
  __nesc_hton_uint8(header->length.data, len);

  return /*SerialActiveMessageC.AM*/SerialActiveMessageP__0__SubSend__send(msg, len);
}

# 101 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static error_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__Send__send(uint8_t id, message_t *msg, uint8_t len)
#line 101
{
  if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendState != /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SEND_STATE_IDLE) {
      return EBUSY;
    }

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 106
    {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__offset(id);
      if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex > sizeof(message_header_t )) {
          {
            unsigned char __nesc_temp = 
#line 109
            ESIZE;

            {
#line 109
              __nesc_atomic_end(__nesc_atomic); 
#line 109
              return __nesc_temp;
            }
          }
        }
#line 112
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendError = SUCCESS;
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendBuffer = (uint8_t *)msg;
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendState = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SEND_STATE_DATA;
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendId = id;
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendCancelled = FALSE;






      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendLen = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__dataLinkLength(id, msg, len) + /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendIndex;
    }
#line 124
    __nesc_atomic_end(__nesc_atomic); }
  if (/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SendBytePacket__startSend(id) == SUCCESS) {
      return SUCCESS;
    }
  else {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__sendState = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__SEND_STATE_IDLE;
      return FAIL;
    }
}

#line 358
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__offset(uart_id_t id)
#line 358
{
  return 0;
}

# 15 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__offset(uart_id_t arg_0x40b75e88){
#line 15
  unsigned char result;
#line 15

#line 15
  switch (arg_0x40b75e88) {
#line 15
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 15
      result = SerialPacketInfoActiveMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RS485_ID:
#line 15
      result = SerialPacketInfoRS485MessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REPLY_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    default:
#line 15
      result = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__PacketInfo__default__offset(arg_0x40b75e88);
#line 15
      break;
#line 15
    }
#line 15

#line 15
  return result;
#line 15
}
#line 15
# 503 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static void SerialP__MaybeScheduleTx(void )
#line 503
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 504
    {
      if (SerialP__txPending == 0) {
          if (SerialP__RunTx__postTask() == SUCCESS) {
              SerialP__txPending = 1;
            }
        }
    }
#line 510
    __nesc_atomic_end(__nesc_atomic); }
}

# 148 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(uint8_t num, uint32_t dt)
{
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__startTimer(num, /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__TimerFrom__getNow(), dt, TRUE);
}

# 141 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/ActiveMessageAddressC.nc"
static am_addr_t ActiveMessageAddressC__amAddress(void )
#line 141
{
  am_addr_t myAddr;

#line 143
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 143
    {

      if (ActiveMessageAddressC__addr == INVALID_AM_ADDRESS) {
        myAddr = ActiveMessageAddressC__moduleIdOnFlash;
        }
      else {
#line 148
        myAddr = ActiveMessageAddressC__addr;
        }
    }
#line 150
    __nesc_atomic_end(__nesc_atomic); }
#line 150
  return myAddr;
}

# 44 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbitratedReadC.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__request(uint8_t client)
#line 44
{
  return FAIL;
}

# 78 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Resource.nc"
static error_t /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__request(uint8_t arg_0x41155010){
#line 78
  unsigned char result;
#line 78

#line 78
  switch (arg_0x41155010) {
#line 78
    case /*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*ConnectorCurrentSense1C.adcClient*/AdcReadClientC__0__HAL_ID);
#line 78
      break;
#line 78
    case /*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*ConnectorCurrentSense2C.adcClient*/AdcReadClientC__1__HAL_ID);
#line 78
      break;
#line 78
    case /*XaxisC.adcClient*/AdcReadClientC__2__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*XaxisC.adcClient*/AdcReadClientC__2__HAL_ID);
#line 78
      break;
#line 78
    case /*ZaxisC.adcClient*/AdcReadClientC__3__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*ZaxisC.adcClient*/AdcReadClientC__3__HAL_ID);
#line 78
      break;
#line 78
    case /*XaxisRandomC.adcClient*/AdcReadClientC__4__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*XaxisRandomC.adcClient*/AdcReadClientC__4__HAL_ID);
#line 78
      break;
#line 78
    case /*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__ID:
#line 78
      result = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(/*BatteryVoltageC.AdcReadClientC*/AdcReadClientC__5__HAL_ID);
#line 78
      break;
#line 78
    default:
#line 78
      result = /*WireAdcP.ArbitrateRead*/ArbitratedReadC__0__Resource__default__request(arg_0x41155010);
#line 78
      break;
#line 78
    }
#line 78

#line 78
  return result;
#line 78
}
#line 78
# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__request(uint8_t id)
#line 77
{
  /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceRequested__requested(/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId);
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 79
    {
      if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state == /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_CONTROLLED) {
          /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_GRANTING;
          /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__reqResId = id;
        }
      else {
          unsigned char __nesc_temp = 
#line 84
          /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__enqueue(id);

          {
#line 84
            __nesc_atomic_end(__nesc_atomic); 
#line 84
            return __nesc_temp;
          }
        }
    }
#line 87
    __nesc_atomic_end(__nesc_atomic); }
#line 86
  /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__requested();
  return SUCCESS;
}

# 65 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static bool /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__RoundRobinQueue__isEnqueued(resource_client_id_t id)
#line 65
{
  return /*Atm128AdcC.AdcArbiter.Queue*/RoundRobinResourceQueueC__1__resQ[id / 8] & (1 << id % 8);
}

# 228 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static uint8_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__default__get(uint8_t client)
#line 228
{
  return 0;
}

# 55 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Get.nc"
static /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__val_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__get(uint8_t arg_0x40dae5b0){
#line 55
  unsigned char result;
#line 55

#line 55
  switch (arg_0x40dae5b0) {
#line 55
    case /*InfraredServerC.rpcServer.sender*/RpcReplySenderC__0__CLIENT_ID:
#line 55
      result = /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__RpcId__get();
#line 55
      break;
#line 55
    case /*Connector1ServerC.rpcServer.sender*/RpcReplySenderC__1__CLIENT_ID:
#line 55
      result = /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__RpcId__get();
#line 55
      break;
#line 55
    case /*Connector2ServerC.rpcServer.sender*/RpcReplySenderC__2__CLIENT_ID:
#line 55
      result = /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__RpcId__get();
#line 55
      break;
#line 55
    case /*XaxisServerC.rpcServer.sender*/RpcReplySenderC__3__CLIENT_ID:
#line 55
      result = /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__RpcId__get();
#line 55
      break;
#line 55
    case /*ProximityServerC.rpcServer.sender*/RpcReplySenderC__4__CLIENT_ID:
#line 55
      result = /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__RpcId__get();
#line 55
      break;
#line 55
    case /*InfraredChannelServerC.rpcServer.sender*/RpcReplySenderC__5__CLIENT_ID:
#line 55
      result = /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__RpcId__get();
#line 55
      break;
#line 55
    case /*DebugLedsServerC.rpcServer.sender*/RpcReplySenderC__6__CLIENT_ID:
#line 55
      result = /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__RpcId__get();
#line 55
      break;
#line 55
    case /*ZaxisServerC.rpcServer.sender*/RpcReplySenderC__7__CLIENT_ID:
#line 55
      result = /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__RpcId__get();
#line 55
      break;
#line 55
    default:
#line 55
      result = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__default__get(arg_0x40dae5b0);
#line 55
      break;
#line 55
    }
#line 55

#line 55
  return result;
#line 55
}
#line 55
# 106 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static error_t /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 107
{
  if (clientId >= 8) {
      return FAIL;
    }
  if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[clientId].msg = msg;
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[clientId].len = len;

  if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current >= 8) {
      error_t err;

#line 121
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = clientId;

      err = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__send(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__get(clientId), msg, len);
      if (err != SUCCESS) {
          ;
          /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current = 8;
          /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[clientId].msg = (void *)0;
        }
      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 93 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static error_t RpcMessageP__SendReply__send(rpc_id_t id, message_t *msg, uint8_t len)
#line 93
{
  RpcMessageP__RpcPacket__setId(msg, id);
  return RpcMessageP__ReplySubSend__send(msg, len);
}

# 77 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__request(uint8_t id)
#line 77
{
  /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceRequested__requested(/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId);
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 79
    {
      if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_CONTROLLED) {
          /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_GRANTING;
          /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__reqResId = id;
        }
      else {
          unsigned char __nesc_temp = 
#line 84
          /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__enqueue(id);

          {
#line 84
            __nesc_atomic_end(__nesc_atomic); 
#line 84
            return __nesc_temp;
          }
        }
    }
#line 87
    __nesc_atomic_end(__nesc_atomic); }
#line 86
  /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__requested();
  return SUCCESS;
}

# 65 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RoundRobinResourceQueueC.nc"
static bool /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__RoundRobinQueue__isEnqueued(resource_client_id_t id)
#line 65
{
  return /*InfraredChannelC.Arbiter.Queue*/RoundRobinResourceQueueC__0__resQ[id / 8] & (1 << id % 8);
}

# 129 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__release(void )
#line 129
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 130
    {
      if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__default_owner_id) {
          if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_GRANTING) {
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__postTask();
              {
                unsigned char __nesc_temp = 
#line 134
                SUCCESS;

                {
#line 134
                  __nesc_atomic_end(__nesc_atomic); 
#line 134
                  return __nesc_temp;
                }
              }
            }
          else {
#line 136
            if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_IMM_GRANTING) {
                /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__reqResId;
                /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_BUSY;
                {
                  unsigned char __nesc_temp = 
#line 139
                  SUCCESS;

                  {
#line 139
                    __nesc_atomic_end(__nesc_atomic); 
#line 139
                    return __nesc_temp;
                  }
                }
              }
            }
        }
    }
#line 145
    __nesc_atomic_end(__nesc_atomic); }
#line 143
  return FAIL;
}

# 77 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/Atm128PulseWidthModulation16C.nc"
static void /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__Pwm__stop(channel_id_t channel)
#line 77
{
  Atm128TimerCtrlCompare_t compare = /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__getCtrlCompare();

  compare.flat &= 0xF7F >> channel * 2;
  /*ProximityPwmC.TimerPwm*/Atm128PulseWidthModulation16C__0__TimerCtrl__setCtrlCompare(compare);
}

# 15 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/pins/Atm128GpioInterruptC.nc"
static error_t /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__enable(bool rising)
#line 15
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 16
    {
      /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__disable();
      /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__clear();
      /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__edge(rising);
      /*InfraredPinsC.Interrupt*/Atm128GpioInterruptC__0__Atm128Interrupt__enable();
    }
#line 21
    __nesc_atomic_end(__nesc_atomic); }
  return SUCCESS;
}

# 71 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__extend(void )
#line 71
{
  if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState == MALE_CONNECTOR_EXTENDED) {
    return EALREADY;
    }
#line 74
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_EXTENDING;
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__clr();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__clr();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__overcurrentCounts = 0;
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__startPeriodic(CONNECTOR_CURRENT_SAMPLING_PERIOD);
  return SUCCESS;
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__startPeriodic(uint32_t dt){
#line 53
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(24U, dt);
#line 53
}
#line 53
# 82 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static error_t /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Connector__retract(void )
#line 82
{
  if (/*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState == MALE_CONNECTOR_RETRACTED) {
    return EALREADY;
    }
#line 85
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__connectorState = MALE_CONNECTOR_RETRACTING;
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__phase__set();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__enable__clr();
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__overcurrentCounts = 0;
  /*ThisHemisphereConnector2C.driver*/ConnectorMotorDriverP__1__Timer__startPeriodic(CONNECTOR_CURRENT_SAMPLING_PERIOD);
  return SUCCESS;
}

#line 71
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__extend(void )
#line 71
{
  if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState == MALE_CONNECTOR_EXTENDED) {
    return EALREADY;
    }
#line 74
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_EXTENDING;
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__clr();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__clr();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__overcurrentCounts = 0;
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__startPeriodic(CONNECTOR_CURRENT_SAMPLING_PERIOD);
  return SUCCESS;
}

# 53 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__startPeriodic(uint32_t dt){
#line 53
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startPeriodic(22U, dt);
#line 53
}
#line 53
# 82 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorMotorDriverP.nc"
static error_t /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Connector__retract(void )
#line 82
{
  if (/*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState == MALE_CONNECTOR_RETRACTED) {
    return EALREADY;
    }
#line 85
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__connectorState = MALE_CONNECTOR_RETRACTING;
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__phase__set();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__enable__clr();
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__overcurrentCounts = 0;
  /*ThisHemisphereConnector1C.driver*/ConnectorMotorDriverP__0__Timer__startPeriodic(CONNECTOR_CURRENT_SAMPLING_PERIOD);
  return SUCCESS;
}

# 87 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcMessageP.nc"
static void *RpcMessageP__SendRequest__getPayload(rpc_id_t id, message_t *msg, uint8_t len)
#line 87
{
  return RpcMessageP__getPayload(msg, len);
}

# 108 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static error_t /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Resource__release(uint8_t id)
#line 108
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 109
    {
      if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state == /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_BUSY && /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId == id) {
          if (/*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__isEmpty() == FALSE) {
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__reqResId = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__Queue__dequeue();
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_GRANTING;
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__grantedTask__postTask();
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__unconfigure(id);
            }
          else {
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__resId = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__default_owner_id;
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__state = /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__RES_CONTROLLED;
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceConfigure__unconfigure(id);
              /*Atm128AdcC.AdcArbiter.Arbiter*/ArbiterP__1__ResourceDefaultOwner__granted();
            }
          {
            unsigned char __nesc_temp = 
#line 123
            SUCCESS;

            {
#line 123
              __nesc_atomic_end(__nesc_atomic); 
#line 123
              return __nesc_temp;
            }
          }
        }
    }
#line 127
    __nesc_atomic_end(__nesc_atomic); }
#line 126
  return FAIL;
}

# 153 "AtronTosApiC.nc"
static uint8_t AtronTosApiC__bitpattern2channel(uint8_t bitpattern)
#line 153
{
  if (bitpattern == CONNECTOR_0) {
#line 154
    return 0;
    }
  else {
#line 155
    if (bitpattern == CONNECTOR_1) {
#line 155
      return 1;
      }
    else {
#line 156
      if (bitpattern == CONNECTOR_2) {
#line 156
        return 2;
        }
      else {
#line 157
        if (bitpattern == CONNECTOR_3) {
#line 157
          return 3;
          }
        else {
#line 158
          if (bitpattern == CONNECTOR_4) {
#line 158
            return 4;
            }
          else {
#line 159
            if (bitpattern == CONNECTOR_5) {
#line 159
              return 5;
              }
            else {
#line 160
              if (bitpattern == CONNECTOR_6) {
#line 160
                return 6;
                }
              else {
#line 161
                if (bitpattern == CONNECTOR_7) {
#line 161
                  return 7;
                  }
                else {
#line 162
                  if (bitpattern == ALL_CONNECTORS) {
#line 162
                    return 255;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
#line 163
  return 99;
}

# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/AdcP.nc"
static void AdcP__sample(void )
#line 82
{
  AdcP__Atm128AdcSingle__getData(AdcP__channel(), AdcP__refVoltage(), FALSE, AdcP__prescaler());
}

# 155 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static void /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__sendDone(uint8_t last, message_t * msg, error_t err)
#line 155
{
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[last].msg = (void *)0;
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__tryToSend();
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__sendDone(last, msg, err);
}

# 95 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static am_addr_t InfraredActiveMessageP__AMPacket__destination(message_t *amsg)
#line 95
{
  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(amsg);

#line 97
  return __nesc_ntoh_uint16(header->dest.data);
}

#line 144
static error_t InfraredActiveMessageP__AMSend__send(am_id_t id, am_addr_t addr, 
message_t *msg, 
uint8_t len)
#line 146
{

  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(msg);

#line 149
  __nesc_hton_uint16(header->dest.data, addr);
  __nesc_hton_uint16(header->src.data, InfraredActiveMessageP__ActiveMessageAddress__amAddress());
  __nesc_hton_uint8(header->length.data, len);
  __nesc_hton_uint8(header->group.data, InfraredActiveMessageP__ActiveMessageAddress__amGroup());
  __nesc_hton_uint8(header->type.data, id);






  return InfraredActiveMessageP__SubSend__send(msg, len);
}

# 154 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static bool InfraredPacketC__InfraredPacket__requestsAck(message_t *msg)
#line 154
{
  return __nesc_ntoh_int8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->ackRequested.data);
}

#line 149
static void InfraredPacketC__InfraredPacket__setSeqNo(message_t *msg, uint8_t number)
#line 149
{
  __nesc_hton_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->seqNo.data, number);
  return;
}

#line 255
static uint8_t InfraredPacketC__InfraredPacket__getSouthConnector(message_t *msg)
#line 255
{
  uint8_t southConnector = 0;
  uint8_t connector = __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data);

  if (connector & CONNECTOR_4) {
    southConnector |= HEMISPHERE_CONNECTOR_4;
    }
  else {
#line 262
    southConnector &= ~HEMISPHERE_CONNECTOR_4;
    }
  if (connector & CONNECTOR_5) {
    southConnector |= HEMISPHERE_CONNECTOR_3;
    }
  else {
#line 267
    southConnector &= ~HEMISPHERE_CONNECTOR_3;
    }
  if (connector & CONNECTOR_6) {
    southConnector |= HEMISPHERE_CONNECTOR_2;
    }
  else {
#line 272
    southConnector &= ~HEMISPHERE_CONNECTOR_2;
    }
  if (connector & CONNECTOR_7) {
    southConnector |= HEMISPHERE_CONNECTOR_1;
    }
  else {
#line 277
    southConnector &= ~HEMISPHERE_CONNECTOR_1;
    }
  return southConnector;
}

# 111 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static error_t /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 112
{
  if (clientId >= 2) {
      return FAIL;
    }
  if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[clientId].msg = msg;
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[clientId].len = len;

  if (/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current >= 2) {
      error_t err;

#line 126
      /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = clientId;

      err = /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__SubSend__send(/*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__DispatcherId__get(clientId), msg, len);
      if (err != SUCCESS) {
          ;
          /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__current = 2;
          /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[clientId].msg = (void *)0;
        }
      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 110 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static error_t InfraredSerialDispatcherP__Send__send(uint8_t id, message_t *msg, uint8_t len)
#line 110
{
  if (InfraredSerialDispatcherP__sendState != InfraredSerialDispatcherP__SEND_STATE_IDLE) {
      return EBUSY;
    }

  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 115
    {
      InfraredSerialDispatcherP__sendIndex = InfraredSerialDispatcherP__PacketInfo__offset(id);
      if (InfraredSerialDispatcherP__sendIndex > sizeof(message_header_t )) {
          {
            unsigned char __nesc_temp = 
#line 118
            ESIZE;

            {
#line 118
              __nesc_atomic_end(__nesc_atomic); 
#line 118
              return __nesc_temp;
            }
          }
        }
#line 121
      InfraredSerialDispatcherP__sendError = SUCCESS;
      InfraredSerialDispatcherP__sendBuffer = (uint8_t *)msg;
      InfraredSerialDispatcherP__sendState = InfraredSerialDispatcherP__SEND_STATE_DATA;
      InfraredSerialDispatcherP__sendId = id;
      InfraredSerialDispatcherP__sendCancelled = FALSE;






      InfraredSerialDispatcherP__sendLen = InfraredSerialDispatcherP__PacketInfo__dataLinkLength(id, msg, len) + InfraredSerialDispatcherP__sendIndex;



      InfraredSerialDispatcherP__sendChannel = InfraredSerialDispatcherP__InfraredPacket__getThisHemisphereConnector(msg);
    }
#line 137
    __nesc_atomic_end(__nesc_atomic); }

  if (InfraredSerialDispatcherP__SendBytePacket__startSend(id, InfraredSerialDispatcherP__sendChannel) == SUCCESS) {
      return SUCCESS;
    }
  else {
      InfraredSerialDispatcherP__sendState = InfraredSerialDispatcherP__SEND_STATE_IDLE;
      return FAIL;
    }
}

#line 384
static uint8_t InfraredSerialDispatcherP__PacketInfo__default__offset(uart_id_t id)
#line 384
{
  return 0;
}

# 15 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/SerialPacketInfo.nc"
static uint8_t InfraredSerialDispatcherP__PacketInfo__offset(uart_id_t arg_0x4097bc80){
#line 15
  unsigned char result;
#line 15

#line 15
  switch (arg_0x4097bc80) {
#line 15
    case TOS_SERIAL_ACTIVE_MESSAGE_ID:
#line 15
      result = SerialPacketInfoActiveMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RS485_ID:
#line 15
      result = SerialPacketInfoRS485MessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_INFRARED_FWD_ID:
#line 15
      result = SerialPacketInfoInfraredMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REQUEST_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    case TOS_SERIAL_RPC_REPLY_ID:
#line 15
      result = SerialPacketInfoRpcMessageP__Info__offset();
#line 15
      break;
#line 15
    default:
#line 15
      result = InfraredSerialDispatcherP__PacketInfo__default__offset(arg_0x4097bc80);
#line 15
      break;
#line 15
    }
#line 15

#line 15
  return result;
#line 15
}
#line 15
# 600 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static void InfraredSerialP__MaybeScheduleTx(void )
#line 600
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 601
    {
      if (InfraredSerialP__txPending == 0) {
          if (InfraredSerialP__RunTx__postTask() == SUCCESS) {
              InfraredSerialP__txPending = 1;
            }
        }
    }
#line 607
    __nesc_atomic_end(__nesc_atomic); }
}

# 163 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static void InfraredPacketC__InfraredPacket__setConnector(message_t *msg, uint8_t conn)
#line 163
{
  __nesc_hton_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data, conn);
  return;
}

# 105 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static void InfraredActiveMessageP__AMPacket__setDestination(message_t *amsg, am_addr_t addr)
#line 105
{
  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(amsg);

#line 107
  __nesc_hton_uint16(header->dest.data, addr);
}

#line 125
static void InfraredActiveMessageP__AMPacket__setType(message_t *amsg, am_id_t type)
#line 125
{
  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(amsg);

#line 127
  __nesc_hton_uint8(header->type.data, type);
}

# 82 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static error_t /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Send__send(uint8_t clientId, message_t *msg, 
uint8_t len)
#line 83
{
  if (clientId >= 3) {
      return FAIL;
    }
  if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[clientId].msg != (void *)0) {
      return EBUSY;
    }
  ;

  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[clientId].msg = msg;
  /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__Packet__setPayloadLength(msg, len);

  if (/*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current >= 3) {
      error_t err;
      am_id_t amId = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__type(msg);
      am_addr_t dest = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMPacket__destination(msg);

      ;
      /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = clientId;

      err = /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__AMSend__send(amId, dest, msg, len);
      if (err != SUCCESS) {
          ;
          /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__current = 3;
          /*AMQueueP.AMQueueImplP*/AMQueueImplP__1__queue[clientId].msg = (void *)0;
        }

      return err;
    }
  else {
      ;
    }
  return SUCCESS;
}

# 128 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static void NeighborTableP__ExpireTimer__default__startOneShot(uint8_t connector, uint32_t dt)
#line 128
{
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/Timer.nc"
static void NeighborTableP__ExpireTimer__startOneShot(uint8_t arg_0x40f90998, uint32_t dt){
#line 62
  switch (arg_0x40f90998) {
#line 62
    case CONNECTOR_0:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(6U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_1:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(7U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_2:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(8U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_3:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(9U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_4:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(10U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_5:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(11U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_6:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(12U, dt);
#line 62
      break;
#line 62
    case CONNECTOR_7:
#line 62
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__startOneShot(13U, dt);
#line 62
      break;
#line 62
    default:
#line 62
      NeighborTableP__ExpireTimer__default__startOneShot(arg_0x40f90998, dt);
#line 62
      break;
#line 62
    }
#line 62
}
#line 62
# 50 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static error_t ConnectorsImplP__Connector__extend(connector_t connector)
#line 50
{
  if (connector == CONNECTOR_0) {
    return ConnectorsImplP__Connector0__extend();
    }
  else {
#line 53
    if (connector == CONNECTOR_2) {
      return ConnectorsImplP__Connector2__extend();
      }
    else {
#line 55
      if (connector == CONNECTOR_4) {
        return ConnectorsImplP__Connector4__extend();
        }
      else {
#line 57
        if (connector == CONNECTOR_6) {
          return ConnectorsImplP__Connector6__extend();
          }
        else {
#line 60
          return FAIL;
          }
        }
      }
    }
}

# 224 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 224
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__sendDone(uint8_t arg_0x40daf010, message_t * msg, error_t error){
#line 89
  switch (arg_0x40daf010) {
#line 89
    case /*InfraredServerC.rpcServer.sender*/RpcReplySenderC__0__CLIENT_ID:
#line 89
      /*InfraredServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__1__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*Connector1ServerC.rpcServer.sender*/RpcReplySenderC__1__CLIENT_ID:
#line 89
      /*Connector1ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__11__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*Connector2ServerC.rpcServer.sender*/RpcReplySenderC__2__CLIENT_ID:
#line 89
      /*Connector2ServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__12__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*XaxisServerC.rpcServer.sender*/RpcReplySenderC__3__CLIENT_ID:
#line 89
      /*XaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__13__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*ProximityServerC.rpcServer.sender*/RpcReplySenderC__4__CLIENT_ID:
#line 89
      /*ProximityServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__14__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InfraredChannelServerC.rpcServer.sender*/RpcReplySenderC__5__CLIENT_ID:
#line 89
      /*InfraredChannelServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__15__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*DebugLedsServerC.rpcServer.sender*/RpcReplySenderC__6__CLIENT_ID:
#line 89
      /*DebugLedsServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__16__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*ZaxisServerC.rpcServer.sender*/RpcReplySenderC__7__CLIENT_ID:
#line 89
      /*ZaxisServerC.rpcServer.sender.queueEntry*/RpcQueueEntryP__17__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__Send__default__sendDone(arg_0x40daf010, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 184 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static void /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__tryToSend(void )
#line 184
{
  /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__nextPacket();
  if (/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current < 8) {
      error_t nextErr;
      message_t *nextMsg = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current].msg;
      uint8_t len = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__queue[/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current].len;
      uint8_t rpcId = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__RpcId__get(/*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__current);

#line 191
      nextErr = /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__SubSend__send(rpcId, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*RpcReplyQueueP.RpcQueueImplP*/RpcQueueImplP__1__errorTask__postTask();
        }
    }
}

# 178 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static void /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__sendDone(uint8_t last, message_t *msg, error_t err)
#line 178
{
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__queue[last].msg = (void *)0;
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__tryToSend();
  /*InfraredDispatcherQueueP.queueImpl*/DispatcherQueueImplP__2__Send__sendDone(last, msg, err);
}

# 168 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static uint8_t InfraredPacketC__InfraredPacket__getConnector(message_t *msg)
#line 168
{
  return __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->connector.data);
}

# 229 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 229
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__sendDone(uint8_t arg_0x40c921e0, message_t * msg, error_t error){
#line 89
  switch (arg_0x40c921e0) {
#line 89
    case /*RpcMessageC.RequestSender*/RS485DispatcherSenderC__0__CLIENT_ID:
#line 89
      /*RpcMessageC.RequestSender.queueEntry*/DispatcherQueueEntryP__1__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*RpcMessageC.ReplySender*/RS485DispatcherSenderC__1__CLIENT_ID:
#line 89
      /*RpcMessageC.ReplySender.queueEntry*/DispatcherQueueEntryP__2__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InfraredClientC.SendFromOtherHemisphereC*/RS485DispatcherSenderC__2__CLIENT_ID:
#line 89
      /*InfraredClientC.SendFromOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__4__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InfraredMessageC.ForwardToOtherHemisphereC*/RS485DispatcherSenderC__3__CLIENT_ID:
#line 89
      /*InfraredMessageC.ForwardToOtherHemisphereC.queueEntry*/DispatcherQueueEntryP__6__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__Send__default__sendDone(arg_0x40c921e0, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 48 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcPacketC.nc"
static rpc_id_t RpcPacketC__RpcPacket__getId(message_t *msg)
#line 48
{
  rpc_header_t *header = RpcPacketC__getHeader(msg);

#line 50
  return __nesc_ntoh_uint8(header->type.data);
}

# 184 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rpc/RpcQueueImplP.nc"
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__tryToSend(void )
#line 184
{
  /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__nextPacket();
  if (/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current < 11) {
      error_t nextErr;
      message_t *nextMsg = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current].msg;
      uint8_t len = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__queue[/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current].len;
      uint8_t rpcId = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__RpcId__get(/*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__current);

#line 191
      nextErr = /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__SubSend__send(rpcId, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__errorTask__postTask();
        }
    }
}

#line 224
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__default__sendDone(uint8_t id, message_t *msg, error_t err)
#line 224
{
}

# 89 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/Send.nc"
static void /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__sendDone(uint8_t arg_0x40daf010, message_t * msg, error_t error){
#line 89
  switch (arg_0x40daf010) {
#line 89
    case /*LedsClientC.rpcClient.sender*/RpcRequestSenderC__0__CLIENT_ID:
#line 89
      /*LedsClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__0__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InfraredClientC.rpcClient.sender*/RpcRequestSenderC__1__CLIENT_ID:
#line 89
      /*InfraredClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__2__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*Connector1ClientC.rpcClient.sender*/RpcRequestSenderC__2__CLIENT_ID:
#line 89
      /*Connector1ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__3__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*Connector2ClientC.rpcClient.sender*/RpcRequestSenderC__3__CLIENT_ID:
#line 89
      /*Connector2ClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__4__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*CentralJointClientC.rpcClient.sender*/RpcRequestSenderC__4__CLIENT_ID:
#line 89
      /*CentralJointClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__5__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*DegreesClientC.degreesRpcClient.sender*/RpcRequestSenderC__5__CLIENT_ID:
#line 89
      /*DegreesClientC.degreesRpcClient.sender.queueEntry*/RpcQueueEntryP__6__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*CentralJointClientC.rpcClientDegreesUpdate.sender*/RpcRequestSenderC__6__CLIENT_ID:
#line 89
      /*CentralJointClientC.rpcClientDegreesUpdate.sender.queueEntry*/RpcQueueEntryP__7__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*OtherXaxisC.rpcClient.sender*/RpcRequestSenderC__7__CLIENT_ID:
#line 89
      /*OtherXaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__8__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*YaxisC.rpcClient.sender*/RpcRequestSenderC__8__CLIENT_ID:
#line 89
      /*YaxisC.rpcClient.sender.queueEntry*/RpcQueueEntryP__9__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*OtherHemiInfraredChannelC.rpcClient.sender*/RpcRequestSenderC__9__CLIENT_ID:
#line 89
      /*OtherHemiInfraredChannelC.rpcClient.sender.queueEntry*/RpcQueueEntryP__10__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    case /*InitNorthStateClientC.rpcClient.sender*/RpcRequestSenderC__10__CLIENT_ID:
#line 89
      /*InitNorthStateClientC.rpcClient.sender.queueEntry*/RpcQueueEntryP__18__SubSend__sendDone(msg, error);
#line 89
      break;
#line 89
    default:
#line 89
      /*RpcRequestQueueP.RpcQueueImplP*/RpcQueueImplP__0__Send__default__sendDone(arg_0x40daf010, msg, error);
#line 89
      break;
#line 89
    }
#line 89
}
#line 89
# 189 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static void /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__tryToSend(void )
#line 189
{
  /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__nextPacket();
  if (/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current < 4) {
      error_t nextErr;
      message_t *nextMsg = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current].msg;
      uint8_t len = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__queue[/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current].len;
      uint8_t dispatcherId = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__DispatcherId__get(/*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__current);

#line 196
      nextErr = /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__SubSend__send(dispatcherId, nextMsg, len);
      if (nextErr != SUCCESS) {
          /*RS485DispatcherQueueP.queueImpl*/DispatcherQueueImplP__1__errorTask__postTask();
        }
    }
}

# 155 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
static void PrintfP__AMSend__sendDone(message_t *msg, error_t error)
#line 155
{
  if (error == SUCCESS) {
      if (PrintfP__Queue__size() > 0) {
        PrintfP__sendNext();
        }
      else {
#line 159
        PrintfP__state = PrintfP__S_STARTED;
        }
    }
  else {
#line 161
    PrintfP__retrySend__postTask();
    }
}

# 155 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/AMQueueImplP.nc"
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__sendDone(uint8_t last, message_t * msg, error_t err)
#line 155
{
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[last].msg = (void *)0;
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__tryToSend();
  /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__Send__sendDone(last, msg, err);
}

#line 181
static void /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__AMSend__sendDone(am_id_t id, message_t *msg, error_t err)
#line 181
{





  if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current >= 1) {
      return;
    }
  if (/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__queue[/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current].msg == msg) {
      /*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__sendDone(/*SerialAMQueueP.AMQueueImplP*/AMQueueImplP__0__current, msg, err);
    }
  else {
      ;
    }
}

# 178 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/lib/dispatcher/DispatcherQueueImplP.nc"
static void /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__sendDone(uint8_t last, message_t *msg, error_t err)
#line 178
{
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__queue[last].msg = (void *)0;
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__tryToSend();
  /*SerialDispatcherQueueP.queueImpl*/DispatcherQueueImplP__0__Send__sendDone(last, msg, err);
}

# 348 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static void SerialP__testOff(void )
#line 348
{
  bool turnOff = FALSE;

#line 350
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 350
    {
      if (SerialP__txState == SerialP__TXSTATE_INACTIVE && 
      SerialP__rxState == SerialP__RXSTATE_INACTIVE) {
          turnOff = TRUE;
        }
    }
#line 355
    __nesc_atomic_end(__nesc_atomic); }
  if (turnOff) {
      SerialP__stopDoneTask__postTask();
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 358
        SerialP__offPending = FALSE;
#line 358
        __nesc_atomic_end(__nesc_atomic); }
    }
  else {
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 361
        SerialP__offPending = TRUE;
#line 361
        __nesc_atomic_end(__nesc_atomic); }
    }
}

# 86 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
static error_t HdlcTranslateC__SerialFrameComm__putDelimiter(void )
#line 86
{
  HdlcTranslateC__state.sendEscape = 0;
  HdlcTranslateC__m_data = HDLC_FLAG_BYTE;
  return HdlcTranslateC__UartStream__send(&HdlcTranslateC__m_data, 1);
}

# 137 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/bitbanging/BitBangingImplP.nc"
static error_t BitBangingImplP__UartStream__send(uint8_t *buf, uint16_t len)
#line 137
{

  if (len != 1) {
    return FAIL;
    }
#line 141
  BitBangingImplP__txBufPtr = buf;
  BitBangingImplP__txBuffer = BitBangingImplP__txBufPtr[0];
  BitBangingImplP__txSample = 0;
  BitBangingImplP__txState = BitBangingImplP__TX_START;
  return SUCCESS;
}

# 114 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putDelimiter(void )
#line 114
{
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.sendEscape = 0;
  /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data = HDLC_FLAG_BYTE;
  return /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__send(&/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data, 1);
}

# 188 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static error_t /*Atm128Uart0C.UartP*/Atm128UartP__1__UartStream__send(uint8_t *buf, uint16_t len)
#line 188
{

  if (len == 0) {
    return FAIL;
    }
  else {
#line 192
    if (/*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf) {
      return EBUSY;
      }
    }
#line 195
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_buf = buf;
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_len = len;
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_pos = 0;
  /*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_intr = 1;
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__enableTxIntr();
  /*Atm128Uart0C.UartP*/Atm128UartP__1__HplUart__tx(buf[/*Atm128Uart0C.UartP*/Atm128UartP__1__m_tx_pos++]);

  return SUCCESS;
}

# 226 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static void HplAtm128UartP__HplUart0__tx(uint8_t data)
#line 226
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 227
    {
      * (volatile uint8_t *)(0x0C + 0x20) = data;
      * (volatile uint8_t *)(0x0B + 0x20) |= 1 << 6;
    }
#line 230
    __nesc_atomic_end(__nesc_atomic); }
}

# 108 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static error_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Resource__release(uint8_t id)
#line 108
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 109
    {
      if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_BUSY && /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId == id) {
          if (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__isEmpty() == FALSE) {
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__reqResId = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__Queue__dequeue();
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_GRANTING;
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__grantedTask__postTask();
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__unconfigure(id);
            }
          else {
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__default_owner_id;
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state = /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_CONTROLLED;
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceConfigure__unconfigure(id);
              /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__granted();
            }
          {
            unsigned char __nesc_temp = 
#line 123
            SUCCESS;

            {
#line 123
              __nesc_atomic_end(__nesc_atomic); 
#line 123
              return __nesc_temp;
            }
          }
        }
    }
#line 127
    __nesc_atomic_end(__nesc_atomic); }
#line 126
  return FAIL;
}

# 103 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/proximity/HemisphereProximitySensorP.nc"
static void HemisphereProximitySensorP__ResourceConfigure__unconfigure(void )
#line 103
{

  HemisphereProximitySensorP__proxPwm__start(MOTOR_PWM_TOP, 0);
  HemisphereProximitySensorP__proxPwm__stop();


  HemisphereProximitySensorP__powerPwm__start(100, 70);
}

# 320 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialDispatcherP.nc"
static void InfraredSerialDispatcherP__ReceiveBytePacket__endPacket(error_t result)
#line 320
{
  uint8_t postsignalreceive = FALSE;

#line 322
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 322
    {
      if (!InfraredSerialDispatcherP__receiveTaskPending && result == SUCCESS) {
          postsignalreceive = TRUE;
          InfraredSerialDispatcherP__receiveTaskPending = TRUE;
          InfraredSerialDispatcherP__receiveTaskType = InfraredSerialDispatcherP__recvType;
          InfraredSerialDispatcherP__receiveTaskWhich = InfraredSerialDispatcherP__receiveState.which;
          InfraredSerialDispatcherP__receiveTaskBuf = (message_t *)InfraredSerialDispatcherP__receiveBuffer;
          InfraredSerialDispatcherP__receiveTaskSize = InfraredSerialDispatcherP__recvIndex;
          InfraredSerialDispatcherP__receiveBufferSwap();
          InfraredSerialDispatcherP__receiveState.state = InfraredSerialDispatcherP__RECV_STATE_IDLE;
          InfraredSerialDispatcherP__receiveChannel = InfraredSerialDispatcherP__recvChannel;
        }
      else {
#line 334
        if (result != SUCCESS) {

            InfraredSerialDispatcherP__unlockBuffer(InfraredSerialDispatcherP__receiveState.which);
          }
        }
    }
#line 339
    __nesc_atomic_end(__nesc_atomic); }
#line 339
  if (postsignalreceive) {
      InfraredSerialDispatcherP__receiveTask__postTask();
    }
}

# 82 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredInterceptorP.nc"
static message_t *InfraredInterceptorP__InfraredSubReceive__receive(message_t *msg, void *payload, uint8_t len)
#line 82
{


  InfraredInterceptorP__connectorToUpdate = InfraredInterceptorP__InfraredPacket__getConnector(msg);
  InfraredInterceptorP__addressToAdd = InfraredInterceptorP__AMPacket__source(msg);
  InfraredInterceptorP__updateTable__postTask();
  if (InfraredInterceptorP__InfraredPacket__requestsAck(msg)) {
      InfraredInterceptorP__connToAck = InfraredInterceptorP__InfraredPacket__getConnector(msg);
      InfraredInterceptorP__seqNoToAck = InfraredInterceptorP__InfraredPacket__getSeqNo(msg);
      InfraredInterceptorP__sendAck__postTask();
    }

  return InfraredInterceptorP__InfraredReceive__receive(msg, payload, len);
}

# 100 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredActiveMessageP.nc"
static am_addr_t InfraredActiveMessageP__AMPacket__source(message_t *amsg)
#line 100
{
  infrared_header_t *header = InfraredActiveMessageP__InfraredPacketBody__getHeader(amsg);

#line 102
  return __nesc_ntoh_uint16(header->src.data);
}

# 145 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredPacketC.nc"
static uint8_t InfraredPacketC__InfraredPacket__getSeqNo(message_t *msg)
#line 145
{
  return __nesc_ntoh_uint8(InfraredPacketC__InfraredPacketBody__getHeader(msg)->seqNo.data);
}

# 421 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static void InfraredSerialP__testOff(void )
#line 421
{
  bool turnOff = FALSE;

#line 423
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 423
    {
      if (InfraredSerialP__txState == InfraredSerialP__TXSTATE_INACTIVE && 
      InfraredSerialP__rxState == InfraredSerialP__RXSTATE_INACTIVE) {
          turnOff = TRUE;
        }
    }
#line 428
    __nesc_atomic_end(__nesc_atomic); }
  if (turnOff) {
      InfraredSerialP__stopDoneTask__postTask();
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 431
        InfraredSerialP__offPending = FALSE;
#line 431
        __nesc_atomic_end(__nesc_atomic); }
    }
  else {
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 434
        InfraredSerialP__offPending = TRUE;
#line 434
        __nesc_atomic_end(__nesc_atomic); }
    }
}

# 58 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/RandomMlcgC.nc"
static uint32_t RandomMlcgC__Random__rand32(void )
#line 58
{
  uint32_t mlcg;
#line 59
  uint32_t p;
#line 59
  uint32_t q;
  uint64_t tmpseed;

#line 61
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      tmpseed = (uint64_t )33614U * (uint64_t )RandomMlcgC__seed;
      q = tmpseed;
      q = q >> 1;
      p = tmpseed >> 32;
      mlcg = p + q;
      if (mlcg & 0x80000000) {
          mlcg = mlcg & 0x7FFFFFFF;
          mlcg++;
        }
      RandomMlcgC__seed = mlcg;
    }
#line 73
    __nesc_atomic_end(__nesc_atomic); }
  return mlcg;
}

# 443 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static void RS485SerialP__testOff(void )
#line 443
{
  bool turnOff = FALSE;

#line 445
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 445
    {
      if (RS485SerialP__txState == RS485SerialP__TXSTATE_INACTIVE && 
      RS485SerialP__rxState == RS485SerialP__RXSTATE_INACTIVE) {
          turnOff = TRUE;
        }
    }
#line 450
    __nesc_atomic_end(__nesc_atomic); }
  if (turnOff) {
      RS485SerialP__stopDoneTask__postTask();
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 453
        RS485SerialP__offPending = FALSE;
#line 453
        __nesc_atomic_end(__nesc_atomic); }
    }
  else {
      { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 456
        RS485SerialP__offPending = TRUE;
#line 456
        __nesc_atomic_end(__nesc_atomic); }
    }
}

# 114 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putDelimiter(void )
#line 114
{
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.sendEscape = 0;
  /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data = HDLC_FLAG_BYTE;
  return /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__send(&/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data, 1);
}

# 188 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/Atm128UartP.nc"
static error_t /*Atm128Uart1C.UartP*/Atm128UartP__0__UartStream__send(uint8_t *buf, uint16_t len)
#line 188
{

  if (len == 0) {
    return FAIL;
    }
  else {
#line 192
    if (/*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf) {
      return EBUSY;
      }
    }
#line 195
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_buf = buf;
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_len = len;
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_pos = 0;
  /*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_intr = 1;
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__enableTxIntr();
  /*Atm128Uart1C.UartP*/Atm128UartP__0__HplUart__tx(buf[/*Atm128Uart1C.UartP*/Atm128UartP__0__m_tx_pos++]);

  return SUCCESS;
}

# 320 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
static void HplAtm128UartP__HplUart1__tx(uint8_t data)
#line 320
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 321
    {
      * (volatile uint8_t *)0x9C = data;
      * (volatile uint8_t *)0x9B |= 1 << 6;
    }
#line 324
    __nesc_atomic_end(__nesc_atomic); }
}

# 62 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/VirtualizeTimerC.nc"
static void /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__fireTimers(uint32_t now)
{
  uint8_t num;

  for (num = 0; num < /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__NUM_TIMERS; num++) 
    {
      /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer_t *timer = &/*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__m_timers[num];

      if (timer->isrunning) 
        {
          uint32_t elapsed = now - timer->t0;

          if (elapsed >= timer->dt) 
            {
              if (timer->isoneshot) {
                timer->isrunning = FALSE;
                }
              else {
#line 79
                timer->t0 += timer->dt;
                }
              /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__Timer__fired(num);
              break;
            }
        }
    }
  /*HilTimerMilliC.VirtualizeTimerC*/VirtualizeTimerC__0__updateFromTimer__postTask();
}

# 109 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../lib/net/isalive/NeighborTableP.nc"
static void NeighborTableP__ExpireTimer__fired(uint8_t connector)
#line 109
{

  NeighborTableP__table.populatedConnBitmask &= ~connector;
  NeighborTableP__connectionPings[NeighborTableP__connNumberFromBitmask(connector)] = 0;
  if (NeighborTableP__assemblyMode) {
    NeighborTableP__Connector__retract(connector);
    }
}

# 63 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/connector/ConnectorsImplP.nc"
static error_t ConnectorsImplP__Connector__retract(connector_t connector)
#line 63
{
  if (connector == CONNECTOR_0) {
    return ConnectorsImplP__Connector0__retract();
    }
  else {
#line 66
    if (connector == CONNECTOR_2) {
      return ConnectorsImplP__Connector2__retract();
      }
    else {
#line 68
      if (connector == CONNECTOR_4) {
        return ConnectorsImplP__Connector4__retract();
        }
      else {
#line 70
        if (connector == CONNECTOR_6) {
          return ConnectorsImplP__Connector6__retract();
          }
        else {
#line 73
          return FAIL;
          }
        }
      }
    }
}

# 354 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialDispatcherP.nc"
static void RS485SerialDispatcherP__ReceiveBytePacket__endPacket(error_t result)
#line 354
{
  uint8_t postsignalreceive = FALSE;

#line 356
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 356
    {
      if (!RS485SerialDispatcherP__receiveTaskPending && result == SUCCESS) {
          postsignalreceive = TRUE;
          RS485SerialDispatcherP__receiveTaskPending = TRUE;
          RS485SerialDispatcherP__receiveTaskType = RS485SerialDispatcherP__recvType;
          RS485SerialDispatcherP__receiveTaskWhich = RS485SerialDispatcherP__receiveState.which;
          RS485SerialDispatcherP__receiveTaskBuf = (message_t *)RS485SerialDispatcherP__receiveBuffer;
          RS485SerialDispatcherP__receiveTaskSize = RS485SerialDispatcherP__recvIndex;
          RS485SerialDispatcherP__receiveBufferSwap();
          RS485SerialDispatcherP__receiveState.state = RS485SerialDispatcherP__RECV_STATE_IDLE;
        }
      else {
#line 367
        if (result != SUCCESS) {

            RS485SerialDispatcherP__unlockBuffer(RS485SerialDispatcherP__receiveState.which);
          }
        }
    }
#line 372
    __nesc_atomic_end(__nesc_atomic); }
#line 372
  if (postsignalreceive) {
      RS485SerialDispatcherP__receiveTask__postTask();
    }
}

# 221 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/timer/TransformAlarmCounterC.nc"
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Alarm__startAt(/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type t0, /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type dt)
{
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
    {
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0 = t0;
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt = dt;
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm();
    }
#line 228
    __nesc_atomic_end(__nesc_atomic); }
}

#line 178
static void /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__set_alarm(void )
{
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type now = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__Counter__get();
#line 180
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type elapsed = now - /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0;
#line 180
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type remaining;

  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows = 0;
  if (elapsed >= /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt) 
    {
      remaining = 0;
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0 += /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt;
      /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt = 0;
    }
  else 
    {
      remaining = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt - elapsed;




      if (remaining > /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY * 2) 
        {
          if (remaining >= /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY * 2 * (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__to_size_type )256) {
            /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows = 255;
            }
          else {
#line 201
            /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_skip_overflows = remaining / (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY * 2);
            }
#line 202
          return;
        }

      if (remaining > /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY) 
        {
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0 = now + /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY;
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt = remaining - /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY;
          remaining = /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__MAX_DELAY;
        }
      else 
        {
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_t0 += /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt;
          /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__m_dt = 0;
        }
    }
  /*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__AlarmFrom__startAt((/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type )now << 6, 
  (/*AlarmCounterMilliP.Transform32*/TransformAlarmCounterC__0__from_size_type )remaining << 6);
}

# 99 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../rincon/tos/chips/atm128/flash/AvrStorageModifyP.nc"
static error_t AvrStorageModifyP__DirectModify__read(uint8_t id, uint32_t addr, void *buf, uint32_t len)
#line 99
{
  if (AvrStorageModifyP__State__requestState(AvrStorageModifyP__S_BUSY) != SUCCESS) {
      return FAIL;
    }

  AvrStorageModifyP__currentClient = id;

  if (AvrStorageModifyP__DirectStorage__read(addr, buf, len) != SUCCESS) {
      AvrStorageModifyP__State__toIdle();
      return FAIL;
    }

  return SUCCESS;
}

# 96 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/StateImplP.nc"
static error_t StateImplP__State__requestState(uint8_t id, uint8_t reqState)
#line 96
{
  error_t returnVal = FAIL;

#line 98
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 98
    {
      if (reqState == StateImplP__S_IDLE || StateImplP__state[id] == StateImplP__S_IDLE) {
          StateImplP__state[id] = reqState;
          returnVal = SUCCESS;
        }
    }
#line 103
    __nesc_atomic_end(__nesc_atomic); }
  return returnVal;
}

# 56 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/interfaces/State.nc"
static void AvrStorageModifyP__State__toIdle(void ){
#line 56
  StateImplP__State__toIdle(1U);
#line 56
}
#line 56
# 158 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../../../../tinybotics/tos/chips/atm128/timer/HplAtm128Timer0C.nc"
__attribute((interrupt))   void __vector_15(void )
#line 158
{
  HplAtm128Timer0C__Compare__fired();
}

__attribute((interrupt))   void __vector_16(void )
#line 162
{
  HplAtm128Timer0C__Timer__overflow();
}

# 233 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
__attribute((signal))   void __vector_18(void )
#line 233
{
  if ((* (volatile uint8_t *)(0x0B + 0x20) & (1 << 7)) != 0) {
      HplAtm128UartP__HplUart0__rxDone(* (volatile uint8_t *)(0x0C + 0x20));
    }
}

# 180 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/system/ArbiterP.nc"
static uint8_t /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__ResourceDefaultOwner__isOwner(void )
#line 180
{
  /* atomic removed: atomic calls only */
#line 181
  {
    unsigned char __nesc_temp = 
#line 181
    /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_CONTROLLED
     || (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__resId == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__default_owner_id
     && (/*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_GRANTING || /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__state == /*InfraredChannelC.Arbiter.Arbiter*/ArbiterP__0__RES_IMM_GRANTING));

#line 181
    return __nesc_temp;
  }
}

# 484 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/infrared/InfraredSerialP.nc"
static void InfraredSerialP__rx_state_machine(bool isDelimeter, uint8_t data)
#line 484
{

  switch (InfraredSerialP__rxState) {

      case InfraredSerialP__RXSTATE_NOSYNC: 
        if (isDelimeter) {
            InfraredSerialP__rxInit();
            InfraredSerialP__rxState = InfraredSerialP__RXSTATE_PROTO;
            InfraredSerialP__startWatchdog__postTask();
          }
      break;

      case InfraredSerialP__RXSTATE_PROTO: 
        if (!isDelimeter) {
            InfraredSerialP__rxCRC = crcByte(InfraredSerialP__rxCRC, data);
#line 511
            InfraredSerialP__rxState = InfraredSerialP__RXSTATE_INFO;

            if (InfraredSerialP__ReceiveBytePacket__startPacket(InfraredSerialP__rxActivity) != SUCCESS) {
                goto nosync;
              }
          }
      break;

      case InfraredSerialP__RXSTATE_TOKEN: 
        if (isDelimeter) {
            goto nosync;
          }
        else {
            InfraredSerialP__rxSeqno = data;
            InfraredSerialP__rxCRC = crcByte(InfraredSerialP__rxCRC, InfraredSerialP__rxSeqno);
            InfraredSerialP__rxState = InfraredSerialP__RXSTATE_INFO;
          }
      break;

      case InfraredSerialP__RXSTATE_INFO: 
        if (InfraredSerialP__rxByteCnt < InfraredSerialP__SERIAL_MTU) {
            if (isDelimeter) {
                if (InfraredSerialP__rxByteCnt >= 2) {
                    if (InfraredSerialP__rx_current_crc() == InfraredSerialP__rxCRC) {
                        InfraredSerialP__ReceiveBytePacket__endPacket(SUCCESS);
                        InfraredSerialP__stopWatchdog__postTask();


                        goto nosync;
                      }
                    else {
                        goto nosync;
                      }
                  }
                else {
                    goto nosync;
                  }
              }
            else {
                if (InfraredSerialP__rxByteCnt >= 2) {
                    InfraredSerialP__ReceiveBytePacket__byteReceived(InfraredSerialP__rx_buffer_top());
                    InfraredSerialP__rxCRC = crcByte(InfraredSerialP__rxCRC, InfraredSerialP__rx_buffer_pop());
                  }
                InfraredSerialP__rx_buffer_push(data);
                InfraredSerialP__rxByteCnt++;
              }
          }
        else 

          {
            goto nosync;
          }
      break;

      default: 
        goto nosync;
    }
  goto done;

  nosync: 
    if (InfraredSerialP__resourceRequested) {
        /* atomic removed: atomic calls only */
#line 572
        InfraredSerialP__rxState = InfraredSerialP__RXSTATE_NOSYNC;
        InfraredSerialP__ResourceDefaultOwner__release();
      }
    else {

        InfraredSerialP__resetRxPath();
        if (InfraredSerialP__offPending) {
            InfraredSerialP__rxState = InfraredSerialP__RXSTATE_INACTIVE;
            InfraredSerialP__testOff();
          }
      }








  done: ;
}

# 81 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/crc.h>
static __attribute((noinline))  uint16_t crcByte(uint16_t oldCrc, uint8_t byte)
{

  uint16_t *table = crcTable;
  uint16_t newCrc;

   __asm ("eor %1,%B3\n"
  "\tlsl %1\n"
  "\tadc %B2, __zero_reg__\n"
  "\tadd %A2, %1\n"
  "\tadc %B2, __zero_reg__\n"
  "\tlpm\n"
  "\tmov %B0, %A3\n"
  "\tmov %A0, r0\n"
  "\tadiw r30,1\n"
  "\tlpm\n"
  "\teor %B0, r0" : 
  "=r"(newCrc), "+r"(byte), "+z"(table) : "r"(oldCrc));
  return newCrc;
}

# 239 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
__attribute((interrupt))   void __vector_20(void )
#line 239
{
  HplAtm128UartP__HplUart0__txDone();
}

# 120 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static error_t /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__SerialFrameComm__putData(uint8_t data)
#line 120
{
  if (data == HDLC_CTLESC_BYTE || data == HDLC_FLAG_BYTE) {
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__state.sendEscape = 1;
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__txTemp = data ^ 0x20;
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data = HDLC_CTLESC_BYTE;
    }
  else {
      /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data = data;
    }
  return /*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__UartStream__send(&/*InfraredDispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__1__m_data, 1);
}

# 327 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
__attribute((signal))   void __vector_30(void )
#line 327
{
  if ((* (volatile uint8_t *)0x9B & (1 << 7)) != 0) {
    HplAtm128UartP__HplUart1__rxDone(* (volatile uint8_t *)0x9C);
    }
}

# 487 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/rs485/RS485SerialP.nc"
static void RS485SerialP__rx_state_machine(bool isDelimeter, uint8_t data)
#line 487
{

  switch (RS485SerialP__rxState) {

      case RS485SerialP__RXSTATE_NOSYNC: 
        if (isDelimeter) {
            RS485SerialP__rxInit();
            RS485SerialP__rxState = RS485SerialP__RXSTATE_PROTO;
            RS485SerialP__watchdogOn = TRUE;
            RS485SerialP__startWatchdog__postTask();
          }
      break;

      case RS485SerialP__RXSTATE_PROTO: 
        if (!isDelimeter) {
            RS485SerialP__rxCRC = crcByte(RS485SerialP__rxCRC, data);
            RS485SerialP__rxState = RS485SerialP__RXSTATE_TOKEN;
            RS485SerialP__rxProto = data;
            if (RS485SerialP__ReceiveBytePacket__startPacket() != SUCCESS) {
                goto nosync;
              }
          }
        else {
          goto nosync;
          }
#line 511
      break;

      case RS485SerialP__RXSTATE_TOKEN: 
        if (isDelimeter) {
            goto nosync;
          }
        else {
            RS485SerialP__rxSeqno = data;
            RS485SerialP__rxCRC = crcByte(RS485SerialP__rxCRC, RS485SerialP__rxSeqno);
            RS485SerialP__rxState = RS485SerialP__RXSTATE_INFO;
          }
      break;

      case RS485SerialP__RXSTATE_INFO: 
        if (RS485SerialP__rxByteCnt < RS485SerialP__SERIAL_MTU) {
            if (isDelimeter) {
                if (RS485SerialP__rxByteCnt >= 2) {
                    if (RS485SerialP__rx_current_crc() == RS485SerialP__rxCRC) {
                        RS485SerialP__watchdogOn = FALSE;
                        if (RS485SerialP__rxProto == SERIAL_PROTO_PACKET_ACK) {
                          RS485SerialP__ack_queue_push(RS485SerialP__rxSeqno);
                          }
#line 532
                        if (RS485SerialP__rxProto == SERIAL_PROTO_ACK) {

                            RS485SerialP__SendBytePacket__ackReceived(RS485SerialP__rxSeqno);
                          }
                        else {

                            if (RS485SerialP__rxSeqno != RS485SerialP__lastRxSeqno) {
                                RS485SerialP__lastRxSeqno = RS485SerialP__rxSeqno;
                                RS485SerialP__ReceiveBytePacket__endPacket(SUCCESS);
                              }
                          }
                        goto nosync;
                      }
                    else {
                        goto nosync;
                      }
                  }
                else {
                    goto nosync;
                  }
              }
            else {
                if (RS485SerialP__rxByteCnt >= 2) {
                    RS485SerialP__ReceiveBytePacket__byteReceived(RS485SerialP__rx_buffer_top());
                    RS485SerialP__rxCRC = crcByte(RS485SerialP__rxCRC, RS485SerialP__rx_buffer_pop());
                  }
                RS485SerialP__rx_buffer_push(data);
                RS485SerialP__rxByteCnt++;
              }
          }
        else 

          {
            goto nosync;
          }
      break;

      default: 
        goto nosync;
    }
  goto done;

  nosync: 
    RS485SerialP__watchdogOn = FALSE;
  RS485SerialP__stopWatchdog__postTask();

  RS485SerialP__rxInit();
  RS485SerialP__SerialFrameComm__resetReceive();
  RS485SerialP__ReceiveBytePacket__endPacket(FAIL);
  if (RS485SerialP__offPending) {
      RS485SerialP__rxState = RS485SerialP__RXSTATE_INACTIVE;
      RS485SerialP__testOff();
    }








  done: ;
}

# 332 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/chips/atm128/HplAtm128UartP.nc"
__attribute((interrupt))   void __vector_32(void )
#line 332
{
  HplAtm128UartP__HplUart1__txDone();
}

# 120 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/GenericHdlcTranslateC.nc"
static error_t /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__SerialFrameComm__putData(uint8_t data)
#line 120
{
  if (data == HDLC_CTLESC_BYTE || data == HDLC_FLAG_BYTE) {
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__state.sendEscape = 1;
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__txTemp = data ^ 0x20;
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data = HDLC_CTLESC_BYTE;
    }
  else {
      /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data = data;
    }
  return /*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__UartStream__send(&/*RS485DispatcherC.HdlcTranslateC*/GenericHdlcTranslateC__0__m_data, 1);
}

# 57 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/HplAtm128InterruptSigP.nc"
__attribute((signal))   void __vector_1(void )
#line 57
{
  HplAtm128InterruptSigP__port_a = * (volatile uint8_t *)(0x19 + 0x20);
  HplAtm128InterruptSigP__IntSig0__fired();
}


__attribute((signal))   void __vector_2(void )
#line 63
{
  HplAtm128InterruptSigP__IntSig1__fired();
}


__attribute((signal))   void __vector_3(void )
#line 68
{
  HplAtm128InterruptSigP__IntSig2__fired();
}


__attribute((signal))   void __vector_4(void )
#line 73
{
  HplAtm128InterruptSigP__IntSig3__fired();
}


__attribute((signal))   void __vector_5(void )
#line 78
{
  HplAtm128InterruptSigP__IntSig4__fired();
}


__attribute((signal))   void __vector_6(void )
#line 83
{
  HplAtm128InterruptSigP__IntSig5__fired();
}


__attribute((signal))   void __vector_7(void )
#line 88
{
  HplAtm128InterruptSigP__IntSig6__fired();
}




__attribute((interrupt))   void __vector_8(void )
#line 95
{
  HplAtm128InterruptSigP__IntSig7__fired();
}

# 195 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer1P.nc"
__attribute((interrupt))   void __vector_12(void )
#line 195
{
  HplAtm128Timer1P__CompareA__fired();
}

__attribute((interrupt))   void __vector_13(void )
#line 199
{
  HplAtm128Timer1P__CompareB__fired();
}

__attribute((interrupt))   void __vector_24(void )
#line 203
{
  HplAtm128Timer1P__CompareC__fired();
}

__attribute((interrupt))   void __vector_11(void )
#line 207
{
  HplAtm128Timer1P__Capture__captured(HplAtm128Timer1P__Timer__get());
}

__attribute((interrupt))   void __vector_14(void )
#line 211
{
  HplAtm128Timer1P__Timer__overflow();
}

# 189 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
__attribute((interrupt))   void __vector_26(void )
#line 189
{
  HplAtm128Timer3P__CompareA__fired();
}

# 92 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/serial/HdlcTranslateC.nc"
static error_t HdlcTranslateC__SerialFrameComm__putData(uint8_t data)
#line 92
{
  if (data == HDLC_CTLESC_BYTE || data == HDLC_FLAG_BYTE) {
      HdlcTranslateC__state.sendEscape = 1;
      HdlcTranslateC__txTemp = data ^ 0x20;
      HdlcTranslateC__m_data = HDLC_CTLESC_BYTE;
    }
  else {
      HdlcTranslateC__m_data = data;
    }
  return HdlcTranslateC__UartStream__send(&HdlcTranslateC__m_data, 1);
}

# 403 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialP.nc"
static void SerialP__rx_state_machine(bool isDelimeter, uint8_t data)
#line 403
{

  switch (SerialP__rxState) {

      case SerialP__RXSTATE_NOSYNC: 
        if (isDelimeter) {
            SerialP__rxInit();
            SerialP__rxState = SerialP__RXSTATE_PROTO;
          }
      break;

      case SerialP__RXSTATE_PROTO: 
        if (!isDelimeter) {
            SerialP__rxCRC = crcByte(SerialP__rxCRC, data);
            SerialP__rxState = SerialP__RXSTATE_TOKEN;
            SerialP__rxProto = data;
            if (!SerialP__valid_rx_proto(SerialP__rxProto)) {
              goto nosync;
              }
            if (SerialP__rxProto != SERIAL_PROTO_PACKET_ACK) {
                goto nosync;
              }
            if (SerialP__ReceiveBytePacket__startPacket() != SUCCESS) {
                goto nosync;
              }
          }
      break;

      case SerialP__RXSTATE_TOKEN: 
        if (isDelimeter) {
            goto nosync;
          }
        else {
            SerialP__rxSeqno = data;
            SerialP__rxCRC = crcByte(SerialP__rxCRC, SerialP__rxSeqno);
            SerialP__rxState = SerialP__RXSTATE_INFO;
          }
      break;

      case SerialP__RXSTATE_INFO: 
        if (SerialP__rxByteCnt < SerialP__SERIAL_MTU) {
            if (isDelimeter) {
                if (SerialP__rxByteCnt >= 2) {
                    if (SerialP__rx_current_crc() == SerialP__rxCRC) {
                        SerialP__ReceiveBytePacket__endPacket(SUCCESS);
                        SerialP__ack_queue_push(SerialP__rxSeqno);
                        goto nosync;
                      }
                    else {
                        goto nosync;
                      }
                  }
                else {
                    goto nosync;
                  }
              }
            else {
                if (SerialP__rxByteCnt >= 2) {
                    SerialP__ReceiveBytePacket__byteReceived(SerialP__rx_buffer_top());
                    SerialP__rxCRC = crcByte(SerialP__rxCRC, SerialP__rx_buffer_pop());
                  }
                SerialP__rx_buffer_push(data);
                SerialP__rxByteCnt++;
              }
          }
        else 

          {
            goto nosync;
          }
      break;

      default: 
        goto nosync;
    }
  goto done;

  nosync: 

    SerialP__rxInit();
  SerialP__SerialFrameComm__resetReceive();
  SerialP__ReceiveBytePacket__endPacket(FAIL);
  if (SerialP__offPending) {
      SerialP__rxState = SerialP__RXSTATE_INACTIVE;
      SerialP__testOff();
    }
  else {
    if (isDelimeter) {
        SerialP__rxState = SerialP__RXSTATE_PROTO;
      }
    }
  done: ;
}

# 295 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/../atron/communication/SerialDispatcherP.nc"
static void /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__ReceiveBytePacket__endPacket(error_t result)
#line 295
{
  uint8_t postsignalreceive = FALSE;

#line 297
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 297
    {
      if (!/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskPending && result == SUCCESS) {
          postsignalreceive = TRUE;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskPending = TRUE;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskType = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvType;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskWhich = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskBuf = (message_t *)/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBuffer;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTaskSize = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__recvIndex;
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveBufferSwap();
          /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.state = /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__RECV_STATE_IDLE;
        }
      else {
#line 308
        if (result != SUCCESS) {

            /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__unlockBuffer(/*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveState.which);
          }
        }
    }
#line 313
    __nesc_atomic_end(__nesc_atomic); }
#line 313
  if (postsignalreceive) {
      /*SerialDispatcherC.SerialDispatcherP*/SerialDispatcherP__0__receiveTask__postTask();
    }
}

# 193 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/timer/HplAtm128Timer3P.nc"
__attribute((interrupt))   void __vector_27(void )
#line 193
{
  HplAtm128Timer3P__CompareB__fired();
}

__attribute((interrupt))   void __vector_28(void )
#line 197
{
  HplAtm128Timer3P__CompareC__fired();
}

__attribute((interrupt))   void __vector_25(void )
#line 201
{
  HplAtm128Timer3P__Capture__captured(HplAtm128Timer3P__Timer__get());
}

__attribute((interrupt))   void __vector_29(void )
#line 205
{
  HplAtm128Timer3P__Timer__overflow();
}

# 168 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/lib/printf/PrintfP.nc"
__attribute((noinline))   int uart_putchar(char c, struct __file *stream)
#line 168
{

  if (PrintfP__state == PrintfP__S_STARTED && PrintfP__Queue__size() >= 5 * sizeof(printf_msg_t )) {
      PrintfP__state = PrintfP__S_FLUSHING;
      PrintfP__sendNext();
    }
  { __nesc_atomic_t __nesc_atomic = __nesc_atomic_start();
#line 174
    {
      if (PrintfP__Queue__enqueue(c) == SUCCESS) 
        {
          int __nesc_temp = 
#line 176
          0;

          {
#line 176
            __nesc_atomic_end(__nesc_atomic); 
#line 176
            return __nesc_temp;
          }
        }
      else 
#line 177
        {
          int __nesc_temp = 
#line 177
          -1;

          {
#line 177
            __nesc_atomic_end(__nesc_atomic); 
#line 177
            return __nesc_temp;
          }
        }
    }
#line 180
    __nesc_atomic_end(__nesc_atomic); }
}

# 99 "/home/david/workspace/atronSDK/tinyos-2.1.0/tos/chips/atm128/adc/HplAtm128AdcP.nc"
__attribute((signal))   void __vector_21(void )
#line 99
{
  uint16_t data = HplAtm128AdcP__HplAtm128Adc__getValue();

  __nesc_enable_interrupt();
  HplAtm128AdcP__HplAtm128Adc__dataReady(data);
}

# 107 "AtronTosApiC.nc"
  void callMe(void )
#line 107
{
  AtronTosApiC__Leds__set(255);
}




  void atronApi_yield(void )
#line 114
{
}


  int atronApi_getLeds(void )
#line 118
{
  return AtronTosApiC__Leds__get();
}

  void atronApi_setLeds(int val)
#line 122
{
  AtronTosApiC__Leds__set(val);
}

  long atronApi_getMsTime(void )
#line 126
{
  return AtronTosApiC__LocalTime__get();
}

  int atronApi_getBatteryLevel(void )
#line 130
{

  int scaledLevel = AtronTosApiC__batteryLevel * 16;

#line 133
  return scaledLevel;
}

  float atronApi_getTime(void )
#line 136
{
  uint64_t msTime = AtronTosApiC__LocalTime__get();

#line 138
  return (float )msTime / 1000.0;
}

#line 189
  int atronApi_sendMessage(char *message, char messageSize, char connector)
#line 189
{
  int channel = AtronTosApiC__channel2bitpattern(connector);

#line 191
  return AtronTosApiC__atronApi_sendMsg(message, messageSize, channel);
}

#line 141
static uint8_t AtronTosApiC__channel2bitpattern(uint8_t channel)
#line 141
{
  if (channel == 0) {
#line 142
    return CONNECTOR_0;
    }
  else {
#line 143
    if (channel == 1) {
#line 143
      return CONNECTOR_1;
      }
    else {
#line 144
      if (channel == 2) {
#line 144
        return CONNECTOR_2;
        }
      else {
#line 145
        if (channel == 3) {
#line 145
          return CONNECTOR_3;
          }
        else {
#line 146
          if (channel == 4) {
#line 146
            return CONNECTOR_4;
            }
          else {
#line 147
            if (channel == 5) {
#line 147
              return CONNECTOR_5;
              }
            else {
#line 148
              if (channel == 6) {
#line 148
                return CONNECTOR_6;
                }
              else {
#line 149
                if (channel == 7) {
#line 149
                  return CONNECTOR_7;
                  }
                else {
#line 150
                  if (channel == 255) {
#line 150
                    return ALL_CONNECTORS;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
#line 151
  return 0;
}

#line 169
static int AtronTosApiC__atronApi_sendMsg(char *message, char messageSize, char connector)
#line 169
{
  int i;

#line 171
  if (!AtronTosApiC__busy) {
      char *msg = (char *)AtronTosApiC__Packet__getPayload(&AtronTosApiC__pkt, messageSize);

#line 173
      if (msg == (void *)0) {
          return 0;
        }
      for (i = 0; i < messageSize; i++) {
          msg[i] = message[i];
        }
      AtronTosApiC__InfraredPacket__setConnector(&AtronTosApiC__pkt, connector);
      if (AtronTosApiC__Send__send(&AtronTosApiC__pkt, messageSize) == SUCCESS) {
          AtronTosApiC__busy = TRUE;
          return 1;
        }
      return 0;
    }
  return 0;
}






  int atronApi_sendMessageToAll(char *message, char messageSize)
#line 194
{
  return AtronTosApiC__atronApi_sendMsg(message, messageSize, ALL_CONNECTORS);
}

  int atronApi_sendMessageToAllExcept(char *message, char messageSize, char except)
#line 198
{
  int channels = ALL_CONNECTORS & ~AtronTosApiC__channel2bitpattern(except);

#line 200
  return AtronTosApiC__atronApi_sendMsg(message, messageSize, channels);
}

  int atronApi_isOtherConnectorNearby(int channel)
#line 203
{






  return 0;
}

  void atronApi_ussrSetup(int portRC, int portEvent, char *host, void (*msgHandler)(char *arg_0x41386598, char arg_0x413866f0, char arg_0x41386848))
#line 213
{
}

#line 215
  char *atronApi_getName(char *returnString)
#line 215
{
#line 215
  return (void *)0;
}

#line 217
  long atronApi_getRandomSeed(void )
#line 217
{
  return 123;
}


  int atronApi_isRotating(void )
#line 222
{
  return AtronTosApiC__isRotatingFlag;
}

  int atronApi_getJointPosition(void )
#line 226
{
#line 226
  return 0;
}

#line 227
  void atronApi_rotate(int dir)
#line 227
{
}


  void atronApi_rotateDegrees(int degrees)
#line 231
{
}

#line 253
  void atronApi_rotateToDegreeInDegrees(int degrees)
#line 253
{
#line 268
  int degreesScaled = (int )(1.2f * degrees);

#line 269
  AtronTosApiC__isRotatingFlag = 1;
  AtronTosApiC__CentralJoint__rotateToDegreesShortestPath(degreesScaled, 150);
}

  void atronApi_rotateToViaInDegrees(int goalDegree, int viaDegree)
#line 273
{
  int dis1;
#line 274
  int dis2;
  int degreesScaled = (int )(1.2f * goalDegree);

#line 276
  AtronTosApiC__isRotatingFlag = 1;
  dis1 = AtronTosApiC__atronApi_getDistanceToFromDir(viaDegree, AtronTosApiC__atronApi_degrees, TRUE);
  dis2 = AtronTosApiC__atronApi_getDistanceToFromDir(viaDegree, AtronTosApiC__atronApi_degrees, FALSE);
  if (dis1 < dis2) {
      AtronTosApiC__CentralJoint__rotateToDegrees(degreesScaled, 150, TRUE);
    }
  else {
      AtronTosApiC__CentralJoint__rotateToDegrees(degreesScaled, 150, FALSE);
    }
}

#line 235
static int AtronTosApiC__atronApi_getDistanceToFromDir(int to, int from, bool dir)
#line 235
{
  int dist;

#line 237
  if (dir) {
      dist = to - from;
    }
  else {
      dist = from - to;
    }
  if (dist < 0) {
      dist += 360;
    }
  else {
#line 246
    if (dist > 360) {
        dist -= 360;
      }
    }
#line 249
  return dist;
}

# 126 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static error_t CentralJointClientP__joint__rotateToDegrees(uint16_t degrees, uint8_t speed, bool dir)
#line 126
{
  if (degrees >= FULL_REVOLUTION_DEGREES) {
    return EINVAL;
    }
#line 129
  if (degrees == CentralJointClientP__actualDegrees) {
      return EALREADY;
    }
  CentralJointClientP__setOpcode = CENTRAL_JOINT_OPCODE_ROTATE_TO_DEGREES;
  CentralJointClientP__setDegrees = degrees;
  CentralJointClientP__setSpeed = speed;
  CentralJointClientP__setDirection = dir;
  CentralJointClientP__sendRequest__postTask();
  return SUCCESS;
}

# 287 "AtronTosApiC.nc"
  void atronApi_rotateDirToInDegrees(int to, int dir)
#line 287
{
  int toScaled = (int )(1.2f * to);

#line 289
  AtronTosApiC__isRotatingFlag = 1;
  AtronTosApiC__CentralJoint__rotateToDegrees(toScaled, 150, dir);
}

  void atronApi_rotateToDegree(float rad)
#line 293
{
  atronApi_rotateToDegreeInDegrees(360.0f * rad / 6.28f);
}

#line 296
  float atronApi_getAngularPosition(void )
#line 296
{
  return 0.0f;
}

#line 299
  void atronApi_home(void )
#line 299
{
  atronApi_rotateToDegreeInDegrees(0);
}





  int atronApi_getAngularPositionDegrees(void )
#line 307
{



  return AtronTosApiC__atronApi_degrees;
}





  void atronApi_rotateContinuous(float dir)
#line 318
{

  if (dir == -1.0) {
#line 320
    AtronTosApiC__CentralJoint__rotate(150, FALSE);
    }
#line 321
  if (dir == 1.0) {
#line 321
    AtronTosApiC__CentralJoint__rotate(150, TRUE);
    }
#line 322
  AtronTosApiC__isRotatingFlag = 1;
}

#line 324
  void atronApi_centerBrake(void )
#line 324
{
  AtronTosApiC__isRotatingFlag = 0;
  AtronTosApiC__CentralJoint__stop(TRUE);
}

# 98 "/home/david/workspace/atronSDK/trunk/tinybotics-modular/tos/platforms/atronSouth/rpc/CentralJointClientP.nc"
static void CentralJointClientP__joint__stop(bool lock)
#line 98
{
  CentralJointClientP__setOpcode = CENTRAL_JOINT_OPCODE_STOP;
  CentralJointClientP__setSpeed = 0;
  CentralJointClientP__setLocked = lock;
  CentralJointClientP__sendRequest__postTask();
}

# 328 "AtronTosApiC.nc"
  void atronApi_centerStop(void )
#line 328
{
  AtronTosApiC__isRotatingFlag = 0;
  AtronTosApiC__CentralJoint__stop(FALSE);
}


  void atronApi_disconnectAll(void )
#line 334
{
  AtronTosApiC__Connector__retract(CONNECTOR_0);
  AtronTosApiC__Connector__retract(CONNECTOR_2);
  AtronTosApiC__Connector__retract(CONNECTOR_4);
  AtronTosApiC__Connector__retract(CONNECTOR_6);
}

#line 340
  void atronApi_connectAll(void )
#line 340
{
  AtronTosApiC__Connector__extend(CONNECTOR_0);
  AtronTosApiC__Connector__extend(CONNECTOR_2);
  AtronTosApiC__Connector__extend(CONNECTOR_4);
  AtronTosApiC__Connector__extend(CONNECTOR_6);
}

#line 346
  int atronApi_canConnect(int i)
#line 346
{

  return 0;
}

#line 350
  int atronApi_canDisconnect(int i)
#line 350
{

  return 0;
}

#line 354
  int atronApi_isMale(int i)
#line 354
{
  return i % 2 == 0;
}

  void atronApi_connect(int i)
#line 358
{
  uint8_t connector = AtronTosApiC__channel2bitpattern((uint8_t )i);

#line 360
  AtronTosApiC__connectorState[i] = 2;
  AtronTosApiC__Connector__extend(connector);
}

#line 363
  void atronApi_disconnect(int i)
#line 363
{
  uint8_t connector = AtronTosApiC__channel2bitpattern(i);

#line 365
  AtronTosApiC__connectorState[i] = 4;
  AtronTosApiC__Connector__retract(connector);
}

#line 368
  int atronApi_isConnected(int i)
#line 368
{
  return AtronTosApiC__connectorState[i] == 1;
}

#line 371
  int atronApi_isDisconnected(int i)
#line 371
{
  return AtronTosApiC__connectorState[i] == 3;
}

#line 374
  int atronApi_getHardwareID(void )
#line 374
{
  return AtronTosApiC__getModuleIdOnFlash__get();
}

#line 392
  int atronApi_isObjectNearby(int connector)
#line 392
{
#line 392
  return 0;
}

#line 393
  short atronApi_getTiltX(void )
#line 393
{
#line 393
  return 0;
}

#line 394
  short atronApi_getTiltY(void )
#line 394
{
#line 394
  return 0;
}

#line 395
  short atronApi_getTiltZ(void )
#line 395
{
#line 395
  return 0;
}

#line 396
  void atronApi_delay(long ms)
#line 396
{
}

