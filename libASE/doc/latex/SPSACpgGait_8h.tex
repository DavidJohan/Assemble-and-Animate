\hypertarget{SPSACpgGait_8h}{
\section{SPSACpgGait.h File Reference}
\label{SPSACpgGait_8h}\index{SPSACpgGait.h@{SPSACpgGait.h}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{SPSACpgGait_8h_ab65e10e7ab9d238d10c8ac20af18b5ac}{SPSACpgGait\_\-init} ()
\item 
int \hyperlink{SPSACpgGait_8h_a2729adcd92b9589df0676b0156145d5f}{SPSACpgGait\_\-act} ()
\item 
void \hyperlink{SPSACpgGait_8h_a0e40ca33c93dc6fd478a58da0cf8cb94}{SPSACpgGait\_\-reset} (int randInit)
\item 
void \hyperlink{SPSACpgGait_8h_a13444612f319002168e675d25232316d}{SPSACpgGait\_\-handleMessage} (char $\ast$message, char messageSize, char channel)
\item 
void \hyperlink{SPSACpgGait_8h_a37863c9067bee96ef5b16cb5d9de83ea}{SPSACpgGait\_\-updateGait} ()
\item 
void \hyperlink{SPSACpgGait_8h_afd9329e884cdb756cde3e9a31cfd06ba}{SPSACpgGait\_\-setLearningParameters} (float ak\_\-new, float ck\_\-new)
\item 
void \hyperlink{SPSACpgGait_8h_a9933e4f98e2e8c50a1f7303c210a36e4}{SPSACpgGait\_\-setStateExploit} ()
\item 
void \hyperlink{SPSACpgGait_8h_abe7f59b649081088efd0284bf5247412}{SPSACpgGait\_\-setStateLearning} ()
\item 
void \hyperlink{SPSACpgGait_8h_a3623a34acc7da60973f8cc008c153b59}{SPSACpgGait\_\-setStateHome} ()
\item 
void \hyperlink{SPSACpgGait_8h_a5938bf89b6cbe8c8ea2f7dc1d92bacc8}{SPSACpgGait\_\-setStateRandom} ()
\item 
void \hyperlink{SPSACpgGait_8h_a46e9dacd11963ebf63fde7ff47175c81}{SPSACpgGait\_\-setThetaFromCpgGait} ()
\item 
void \hyperlink{SPSACpgGait_8h_ae3c5aa57665ee2a0d16ce460d99af448}{SPSACpgGait\_\-logLearningParameters} (int id, FILE $\ast$log)
\item 
\hypertarget{SPSACpgGait_8h_a064838cec2f967ee11cccd392567a1a9}{
void {\bfseries SPSACpgGait\_\-logController} (int id, FILE $\ast$log)}
\label{SPSACpgGait_8h_a064838cec2f967ee11cccd392567a1a9}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file provides a generic online learning system of gaits for any actuated modular robot. It is based on \hyperlink{CpgGait_8h}{CpgGait.h} which is based on Hopf Cpg's. It uses the SPSA stochastic optimization algorithm to optimize the gait parameters such as amplitude and phase difference.

Created on: July 5, 2009

\begin{DoxySeeAlso}{See also}
\hyperlink{SPSALearning_8h}{SPSALearning.h} 

\hyperlink{CpgGait_8h}{CpgGait.h} 

\hyperlink{HopfCartesianCpg_8h}{HopfCartesianCpg.h} 
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
David Johan Christensen 
\end{DoxyAuthor}


Definition in file \hyperlink{SPSACpgGait_8h_source}{SPSACpgGait.h}.



\subsection{Function Documentation}
\hypertarget{SPSACpgGait_8h_a2729adcd92b9589df0676b0156145d5f}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-act@{SPSACpgGait\_\-act}}
\index{SPSACpgGait\_\-act@{SPSACpgGait\_\-act}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-act}]{\setlength{\rightskip}{0pt plus 5cm}int SPSACpgGait\_\-act (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a2729adcd92b9589df0676b0156145d5f}
When a new reward message has been received it will update the gait. Must be called often. \hypertarget{SPSACpgGait_8h_a13444612f319002168e675d25232316d}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-handleMessage@{SPSACpgGait\_\-handleMessage}}
\index{SPSACpgGait\_\-handleMessage@{SPSACpgGait\_\-handleMessage}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-handleMessage}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-handleMessage (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{message, }
\item[{char}]{messageSize, }
\item[{char}]{channel}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a13444612f319002168e675d25232316d}
Handles messages of the type LEARNING\_\-MESSAGE, which contains a rewards signal (any) \hypertarget{SPSACpgGait_8h_ab65e10e7ab9d238d10c8ac20af18b5ac}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-init@{SPSACpgGait\_\-init}}
\index{SPSACpgGait\_\-init@{SPSACpgGait\_\-init}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_ab65e10e7ab9d238d10c8ac20af18b5ac}
Initialize the gait with default parameters 

Definition at line 142 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_ae3c5aa57665ee2a0d16ce460d99af448}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-logLearningParameters@{SPSACpgGait\_\-logLearningParameters}}
\index{SPSACpgGait\_\-logLearningParameters@{SPSACpgGait\_\-logLearningParameters}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-logLearningParameters}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-logLearningParameters (
\begin{DoxyParamCaption}
\item[{int}]{id, }
\item[{FILE $\ast$}]{log}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_ae3c5aa57665ee2a0d16ce460d99af448}
Write learning parameters ak and ck to a given log file. 

Definition at line 93 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a0e40ca33c93dc6fd478a58da0cf8cb94}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-reset@{SPSACpgGait\_\-reset}}
\index{SPSACpgGait\_\-reset@{SPSACpgGait\_\-reset}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-reset}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-reset (
\begin{DoxyParamCaption}
\item[{int}]{randInit}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a0e40ca33c93dc6fd478a58da0cf8cb94}
Resets the underlying SPSA parameter optimization (forget all) either with initial conditions randomized or at the home position 

Definition at line 68 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_afd9329e884cdb756cde3e9a31cfd06ba}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setLearningParameters@{SPSACpgGait\_\-setLearningParameters}}
\index{SPSACpgGait\_\-setLearningParameters@{SPSACpgGait\_\-setLearningParameters}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setLearningParameters}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setLearningParameters (
\begin{DoxyParamCaption}
\item[{float}]{ak\_\-new, }
\item[{float}]{ck\_\-new}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_afd9329e884cdb756cde3e9a31cfd06ba}
Set learning parameters, ak and ck, used in the SPSA learning algorithm 

Definition at line 34 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a9933e4f98e2e8c50a1f7303c210a36e4}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setStateExploit@{SPSACpgGait\_\-setStateExploit}}
\index{SPSACpgGait\_\-setStateExploit@{SPSACpgGait\_\-setStateExploit}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setStateExploit}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setStateExploit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a9933e4f98e2e8c50a1f7303c210a36e4}
Exploit state makes the robot move with be so far best found gait 

Definition at line 87 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a3623a34acc7da60973f8cc008c153b59}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setStateHome@{SPSACpgGait\_\-setStateHome}}
\index{SPSACpgGait\_\-setStateHome@{SPSACpgGait\_\-setStateHome}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setStateHome}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setStateHome (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a3623a34acc7da60973f8cc008c153b59}
Make the module go to its home position and stop 

Definition at line 90 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_abe7f59b649081088efd0284bf5247412}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setStateLearning@{SPSACpgGait\_\-setStateLearning}}
\index{SPSACpgGait\_\-setStateLearning@{SPSACpgGait\_\-setStateLearning}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setStateLearning}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setStateLearning (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_abe7f59b649081088efd0284bf5247412}
The robot will be exploring its gait parameters to optimize its gait based on received reward. 

Definition at line 88 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a5938bf89b6cbe8c8ea2f7dc1d92bacc8}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setStateRandom@{SPSACpgGait\_\-setStateRandom}}
\index{SPSACpgGait\_\-setStateRandom@{SPSACpgGait\_\-setStateRandom}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setStateRandom}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setStateRandom (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a5938bf89b6cbe8c8ea2f7dc1d92bacc8}
Makes the robot change to another random gait each time a reward message is received. 

Definition at line 89 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a46e9dacd11963ebf63fde7ff47175c81}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-setThetaFromCpgGait@{SPSACpgGait\_\-setThetaFromCpgGait}}
\index{SPSACpgGait\_\-setThetaFromCpgGait@{SPSACpgGait\_\-setThetaFromCpgGait}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-setThetaFromCpgGait}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-setThetaFromCpgGait (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a46e9dacd11963ebf63fde7ff47175c81}
Set theta from current gait in underlying CpgGait 

Definition at line 73 of file SPSACpgGait.c.

\hypertarget{SPSACpgGait_8h_a37863c9067bee96ef5b16cb5d9de83ea}{
\index{SPSACpgGait.h@{SPSACpgGait.h}!SPSACpgGait\_\-updateGait@{SPSACpgGait\_\-updateGait}}
\index{SPSACpgGait\_\-updateGait@{SPSACpgGait\_\-updateGait}!SPSACpgGait.h@{SPSACpgGait.h}}
\subsubsection[{SPSACpgGait\_\-updateGait}]{\setlength{\rightskip}{0pt plus 5cm}void SPSACpgGait\_\-updateGait (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{SPSACpgGait_8h_a37863c9067bee96ef5b16cb5d9de83ea}
Force update of gait e.g. after changing parameters 

Definition at line 62 of file SPSACpgGait.c.

