\hypertarget{OdinSocketApi_8h}{
\section{OdinSocketApi.h File Reference}
\label{OdinSocketApi_8h}\index{OdinSocketApi.h@{OdinSocketApi.h}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{OdinSocketApi_8h_a20fd8bd5868383c2e20579a64d540dc3}{odinApi\_\-setup} (int portRC, int portEvent, char $\ast$host, void($\ast$msgHandler)(char $\ast$, char, char))
\item 
int \hyperlink{OdinSocketApi_8h_a03cb397b9498d13771754ccf302738db}{odinApi\_\-wasSend} ()
\item 
char $\ast$ \hyperlink{OdinSocketApi_8h_a8956172e77faecf7a374a101812ea05e}{odinApi\_\-getName} (char $\ast$returnString)
\item 
int \hyperlink{OdinSocketApi_8h_a5c455f0de159bc0f39cf42ed3848e96c}{odinApi\_\-isActuating} ()
\item 
void \hyperlink{OdinSocketApi_8h_aaa6818a9c8c95dea765002e7595c2497}{odinApi\_\-actuate} (float pos)
\item 
void \hyperlink{OdinSocketApi_8h_afab7b7c53d85fc9aeadbb18513c84176}{odinApi\_\-disactivate} ()
\item 
float \hyperlink{OdinSocketApi_8h_a05a9155e6e14b8d01e92bdd0bed6651a}{odinApi\_\-getTime} ()
\item 
float \hyperlink{OdinSocketApi_8h_afcb1b42ca760f9e367c1104ae64db378}{odinApi\_\-getActuatorPosition} ()
\item 
int \hyperlink{OdinSocketApi_8h_a1d286bb8a2c8dcc71fb08470fe39d22a}{odinApi\_\-isConnected} (int i)
\item 
void \hyperlink{OdinSocketApi_8h_a0aefba9b629dd1f12c58b9bdb83f21cc}{odinApi\_\-yield} ()
\item 
void \hyperlink{OdinSocketApi_8h_a0c85058d4369300af1acd9701cc5e74c}{odinApi\_\-delay} (long ms)
\item 
int \hyperlink{OdinSocketApi_8h_ab08e868e2aa05705a1456b82cc273fdf}{odinApi\_\-sendMessage} (char $\ast$message, char messageSize, char connector)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{OdinSocketApi_8h}{OdinSocketApi.h} provides an interface for an Odin module simulated in the Unified Simulator for Self-\/Reconfigurable Robots (USSR). API calls to the modules are communicated to USSR though a socket. Similar messages (asynchronous events) to the moduels are send from USSR to the module controller through a seperate socket. In total two sockets are used per module. Initially a call to odinApi\_\-setup(...) must be made. This API builds on top of \hyperlink{CommandSender_8h}{CommandSender.h} and \hyperlink{EventListner_8h}{EventListner.h}.

\begin{DoxyAuthor}{Author}
David Johan Christensen, Modular Robotics Lab, AdapTronics Group, Maresk Institute, University of Southern Denmark
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
This software is distributed under the BSD open-\/source license. 
\end{DoxyNote}


Definition in file \hyperlink{OdinSocketApi_8h_source}{OdinSocketApi.h}.



\subsection{Function Documentation}
\hypertarget{OdinSocketApi_8h_aaa6818a9c8c95dea765002e7595c2497}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-actuate@{odinApi\_\-actuate}}
\index{odinApi\_\-actuate@{odinApi\_\-actuate}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-actuate}]{\setlength{\rightskip}{0pt plus 5cm}void odinApi\_\-actuate (
\begin{DoxyParamCaption}
\item[{float}]{pos}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_aaa6818a9c8c95dea765002e7595c2497}
Actuate actuator towards a goal, from 0 to 1 

Definition at line 27 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a0c85058d4369300af1acd9701cc5e74c}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-delay@{odinApi\_\-delay}}
\index{odinApi\_\-delay@{odinApi\_\-delay}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-delay}]{\setlength{\rightskip}{0pt plus 5cm}void odinApi\_\-delay (
\begin{DoxyParamCaption}
\item[{long}]{ms}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a0c85058d4369300af1acd9701cc5e74c}
Wait ms milliseconds in the USSR simulator 

Definition at line 58 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_afab7b7c53d85fc9aeadbb18513c84176}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-disactivate@{odinApi\_\-disactivate}}
\index{odinApi\_\-disactivate@{odinApi\_\-disactivate}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-disactivate}]{\setlength{\rightskip}{0pt plus 5cm}void odinApi\_\-disactivate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_afab7b7c53d85fc9aeadbb18513c84176}
Turn off actuator (make it passive) 

Definition at line 32 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_afcb1b42ca760f9e367c1104ae64db378}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-getActuatorPosition@{odinApi\_\-getActuatorPosition}}
\index{odinApi\_\-getActuatorPosition@{odinApi\_\-getActuatorPosition}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-getActuatorPosition}]{\setlength{\rightskip}{0pt plus 5cm}float odinApi\_\-getActuatorPosition (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_afcb1b42ca760f9e367c1104ae64db378}
Get the position of the main actuator 

Definition at line 44 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a8956172e77faecf7a374a101812ea05e}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-getName@{odinApi\_\-getName}}
\index{odinApi\_\-getName@{odinApi\_\-getName}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-getName}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ odinApi\_\-getName (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{returnString}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a8956172e77faecf7a374a101812ea05e}
Gets the name of the module is such a label has been set in USSR 

Definition at line 19 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a05a9155e6e14b8d01e92bdd0bed6651a}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-getTime@{odinApi\_\-getTime}}
\index{odinApi\_\-getTime@{odinApi\_\-getTime}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-getTime}]{\setlength{\rightskip}{0pt plus 5cm}float odinApi\_\-getTime (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a05a9155e6e14b8d01e92bdd0bed6651a}
Get the current simulation (USSR) real time in seconds since the simulation started 

Definition at line 36 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a5c455f0de159bc0f39cf42ed3848e96c}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-isActuating@{odinApi\_\-isActuating}}
\index{odinApi\_\-isActuating@{odinApi\_\-isActuating}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-isActuating}]{\setlength{\rightskip}{0pt plus 5cm}int odinApi\_\-isActuating (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a5c455f0de159bc0f39cf42ed3848e96c}
If the actuator is currently actuating or if it is disactivated 

Definition at line 23 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a1d286bb8a2c8dcc71fb08470fe39d22a}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-isConnected@{odinApi\_\-isConnected}}
\index{odinApi\_\-isConnected@{odinApi\_\-isConnected}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-isConnected}]{\setlength{\rightskip}{0pt plus 5cm}int odinApi\_\-isConnected (
\begin{DoxyParamCaption}
\item[{int}]{i}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a1d286bb8a2c8dcc71fb08470fe39d22a}
Test if a specific connector is currently connected 

Definition at line 49 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_ab08e868e2aa05705a1456b82cc273fdf}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-sendMessage@{odinApi\_\-sendMessage}}
\index{odinApi\_\-sendMessage@{odinApi\_\-sendMessage}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-sendMessage}]{\setlength{\rightskip}{0pt plus 5cm}int odinApi\_\-sendMessage (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{message, }
\item[{char}]{messageSize, }
\item[{char}]{connector}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_ab08e868e2aa05705a1456b82cc273fdf}
Send a message on a given connector 

Definition at line 90 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a20fd8bd5868383c2e20579a64d540dc3}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-setup@{odinApi\_\-setup}}
\index{odinApi\_\-setup@{odinApi\_\-setup}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-setup}]{\setlength{\rightskip}{0pt plus 5cm}void odinApi\_\-setup (
\begin{DoxyParamCaption}
\item[{int}]{portRC, }
\item[{int}]{portEvent, }
\item[{char $\ast$}]{host, }
\item[{void($\ast$)(char $\ast$, char, char)}]{msgHandler}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a20fd8bd5868383c2e20579a64d540dc3}
Setup the API, two free socket ports portRC and portEvent must be provided for commands and events respectively. Also a host (usually LOCALHOST) and a pointer to a function (e.g. handleMessage(char$\ast$ message, char messageSize, char channel)) that will handle messages received from other modules. 

Definition at line 104 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a03cb397b9498d13771754ccf302738db}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-wasSend@{odinApi\_\-wasSend}}
\index{odinApi\_\-wasSend@{odinApi\_\-wasSend}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-wasSend}]{\setlength{\rightskip}{0pt plus 5cm}int odinApi\_\-wasSend (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a03cb397b9498d13771754ccf302738db}
If the last request to send a command was send correctly 

Definition at line 15 of file OdinSocketApi.c.

\hypertarget{OdinSocketApi_8h_a0aefba9b629dd1f12c58b9bdb83f21cc}{
\index{OdinSocketApi.h@{OdinSocketApi.h}!odinApi\_\-yield@{odinApi\_\-yield}}
\index{odinApi\_\-yield@{odinApi\_\-yield}!OdinSocketApi.h@{OdinSocketApi.h}}
\subsubsection[{odinApi\_\-yield}]{\setlength{\rightskip}{0pt plus 5cm}void odinApi\_\-yield (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{OdinSocketApi_8h_a0aefba9b629dd1f12c58b9bdb83f21cc}
Yield the module, that is wait one physicstimestep in the USSR simulator 

Definition at line 54 of file OdinSocketApi.c.

