\hypertarget{SPSALearning_8h}{
\section{SPSALearning.h File Reference}
\label{SPSALearning_8h}\index{SPSALearning.h@{SPSALearning.h}}
}
{\ttfamily \#include $<$ase/config/ConfigASE.h$>$}\par
{\ttfamily \#include $<$ase/tools/RewardCollector/RewardCollector.h$>$}\par
{\ttfamily \#include $<$ase/communication/Message.h$>$}\par
{\ttfamily \#include $<$stdint.h$>$}\par
{\ttfamily \#include $<$stdbool.h$>$}\par
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structSPSALearningMsg__t}{SPSALearningMsg\_\-t}
\item 
struct \hyperlink{structSPSALearningMsgByte__t}{SPSALearningMsgByte\_\-t}
\item 
struct \hyperlink{structSPSALearning__t}{SPSALearning\_\-t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{SPSALearning_8h_a9e6fe5357cc2b5f038ca85257d485281}{SPSALearning\_\-init} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process)
\item 
void \hyperlink{SPSALearning_8h_aac5e40ae5e1dbe8672cd05a449545b39}{SPSALearning\_\-reset} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, int random)
\item 
void \hyperlink{SPSALearning_8h_ac225a5ff31096068ee5cace6f8f689ef}{SPSALearning\_\-update} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process)
\item 
void \hyperlink{SPSALearning_8h_aa447a875f8f17cdd4700e99c4838ad36}{SPSALearning\_\-ignoreUpdate} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process)
\item 
int \hyperlink{SPSALearning_8h_a3da803da8b5ac8e2097035ac59c7e521}{SPSALearning\_\-isReady} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process)
\item 
float \hyperlink{SPSALearning_8h_a081e9455ebee4286ce3ed6bd9c95eb35}{SPSALearning\_\-getReward} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process)
\item 
void \hyperlink{SPSALearning_8h_a9757635ea429d56d46ca89ef4425c633}{SPSALearning\_\-collectReward} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, float reward)
\item 
float \hyperlink{SPSALearning_8h_a2eb985422cfd6484952e9628b11f3a0b}{SPSALearning\_\-getThetaNonPerturbed} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, int index)
\item 
float \hyperlink{SPSALearning_8h_a59f8aebcfafaa0ba94e6c75b9bce778b}{SPSALearning\_\-getTheta} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, int index, int wrap)
\item 
void \hyperlink{SPSALearning_8h_a5076aae2c78c64ef7ad7942ae38aaf51}{SPSALearning\_\-setTheta} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, float $\ast$theta)
\item 
void \hyperlink{SPSALearning_8h_aeff4d0e02908b481aa2f1fa2bd210b85}{SPSALearning\_\-setThetaAt} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, int index, float val)
\item 
\hypertarget{SPSALearning_8h_a77fc7945687b2ecbb2b5b9dea6964d86}{
void {\bfseries SPSALearning\_\-decayAkCk} (\hyperlink{structSPSALearning__t}{SPSALearning\_\-t} $\ast$process, float a0, float c0, float A, float alpha, float gamma)}
\label{SPSALearning_8h_a77fc7945687b2ecbb2b5b9dea6964d86}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file provides an implementation of the simultaneous perturbation stochastic approximation (SPSA) method (by James C. Spall). It can be used for any optimization until now it has been used for online optimization of locomotion.

A number of variables, called theta, (scaled in the interval 0-\/1) are optimized based on a reward signal

\begin{DoxySeeAlso}{See also}
\hyperlink{SPSACpgGait_8h}{SPSACpgGait.h} 
\end{DoxySeeAlso}
\begin{DoxyDate}{Date}
July 2009 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
David Johan Christensen, Modular Robotics Lab, University of Southern Denmark 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
This software is distributed under the BSD open-\/source license. 
\end{DoxyNote}


Definition in file \hyperlink{SPSALearning_8h_source}{SPSALearning.h}.



\subsection{Function Documentation}
\hypertarget{SPSALearning_8h_a9757635ea429d56d46ca89ef4425c633}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-collectReward@{SPSALearning\_\-collectReward}}
\index{SPSALearning\_\-collectReward@{SPSALearning\_\-collectReward}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-collectReward}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-collectReward (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{float}]{reward}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a9757635ea429d56d46ca89ef4425c633}
Set the reward (typically based on local sensor information or a reward message send from an external supervisor. 

Definition at line 218 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a081e9455ebee4286ce3ed6bd9c95eb35}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-getReward@{SPSALearning\_\-getReward}}
\index{SPSALearning\_\-getReward@{SPSALearning\_\-getReward}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-getReward}]{\setlength{\rightskip}{0pt plus 5cm}float SPSALearning\_\-getReward (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a081e9455ebee4286ce3ed6bd9c95eb35}
Get the reward received by the learning process. 

Definition at line 214 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a59f8aebcfafaa0ba94e6c75b9bce778b}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-getTheta@{SPSALearning\_\-getTheta}}
\index{SPSALearning\_\-getTheta@{SPSALearning\_\-getTheta}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-getTheta}]{\setlength{\rightskip}{0pt plus 5cm}float SPSALearning\_\-getTheta (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{int}]{index, }
\item[{int}]{wrap}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a59f8aebcfafaa0ba94e6c75b9bce778b}
Get the learning variables (theta) with perturbation (new parameters to explore). 

Definition at line 173 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a2eb985422cfd6484952e9628b11f3a0b}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-getThetaNonPerturbed@{SPSALearning\_\-getThetaNonPerturbed}}
\index{SPSALearning\_\-getThetaNonPerturbed@{SPSALearning\_\-getThetaNonPerturbed}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-getThetaNonPerturbed}]{\setlength{\rightskip}{0pt plus 5cm}float SPSALearning\_\-getThetaNonPerturbed (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a2eb985422cfd6484952e9628b11f3a0b}
Get the learning variables (theta) without perturbing them (estimation of optimal value so far) 

Definition at line 169 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_aa447a875f8f17cdd4700e99c4838ad36}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-ignoreUpdate@{SPSALearning\_\-ignoreUpdate}}
\index{SPSALearning\_\-ignoreUpdate@{SPSALearning\_\-ignoreUpdate}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-ignoreUpdate}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-ignoreUpdate (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_aa447a875f8f17cdd4700e99c4838ad36}
Reset reward to zero without changing the variables 

Definition at line 165 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a9e6fe5357cc2b5f038ca85257d485281}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-init@{SPSALearning\_\-init}}
\index{SPSALearning\_\-init@{SPSALearning\_\-init}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a9e6fe5357cc2b5f038ca85257d485281}
Initialize the learning process with default parameters 

Definition at line 120 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a3da803da8b5ac8e2097035ac59c7e521}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-isReady@{SPSALearning\_\-isReady}}
\index{SPSALearning\_\-isReady@{SPSALearning\_\-isReady}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-isReady}]{\setlength{\rightskip}{0pt plus 5cm}int SPSALearning\_\-isReady (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a3da803da8b5ac8e2097035ac59c7e521}
If the learning process is ready to be updated. The condition is that it must have received a reward since the last update. 

Definition at line 222 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_aac5e40ae5e1dbe8672cd05a449545b39}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-reset@{SPSALearning\_\-reset}}
\index{SPSALearning\_\-reset@{SPSALearning\_\-reset}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-reset}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-reset (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{int}]{random}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_aac5e40ae5e1dbe8672cd05a449545b39}
Reset the variables (theta) to a random value between (0 to 1) if random = 1 otherwise to to 0.5 

Definition at line 133 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_a5076aae2c78c64ef7ad7942ae38aaf51}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-setTheta@{SPSALearning\_\-setTheta}}
\index{SPSALearning\_\-setTheta@{SPSALearning\_\-setTheta}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-setTheta}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-setTheta (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{float $\ast$}]{theta}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_a5076aae2c78c64ef7ad7942ae38aaf51}
Set the learning variables from an array of float (must have length equal to nParameters). 

Definition at line 200 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_aeff4d0e02908b481aa2f1fa2bd210b85}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-setThetaAt@{SPSALearning\_\-setThetaAt}}
\index{SPSALearning\_\-setThetaAt@{SPSALearning\_\-setThetaAt}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-setThetaAt}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-setThetaAt (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process, }
\item[{int}]{index, }
\item[{float}]{val}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_aeff4d0e02908b481aa2f1fa2bd210b85}
Set the learning variables at a given index$<$SPSA\_\-N\_\-PARAMETERS\_\-MAX 

Definition at line 188 of file SPSALearning.c.

\hypertarget{SPSALearning_8h_ac225a5ff31096068ee5cace6f8f689ef}{
\index{SPSALearning.h@{SPSALearning.h}!SPSALearning\_\-update@{SPSALearning\_\-update}}
\index{SPSALearning\_\-update@{SPSALearning\_\-update}!SPSALearning.h@{SPSALearning.h}}
\subsubsection[{SPSALearning\_\-update}]{\setlength{\rightskip}{0pt plus 5cm}void SPSALearning\_\-update (
\begin{DoxyParamCaption}
\item[{{\bf SPSALearning\_\-t} $\ast$}]{process}
\end{DoxyParamCaption}
)}}
\label{SPSALearning_8h_ac225a5ff31096068ee5cace6f8f689ef}
Update variables (theta) in the learning process based on previously received reward and reset the reward to zero 

Definition at line 143 of file SPSALearning.c.

