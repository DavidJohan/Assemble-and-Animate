\hypertarget{CpgGait_8h}{
\section{CpgGait.h File Reference}
\label{CpgGait_8h}\index{CpgGait.h@{CpgGait.h}}
}
{\ttfamily \#include $<$stdbool.h$>$}\par
{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$ase/control/strategies/Cpg/HopfCartesianCpg/HopfCartesianCpg.h$>$}\par
{\ttfamily \#include $<$ase/control/strategies/Cpg/HopfCartesianCpg/HopfCartesianCpgManager.h$>$}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{CpgGait_8h_a4015f1064bdcdcec973501ad11d5547c}{
\#define {\bfseries CPGGAIT\_\-N\_\-FEEDBACK\_\-TERMS}~4}
\label{CpgGait_8h_a4015f1064bdcdcec973501ad11d5547c}

\item 
\hypertarget{CpgGait_8h_ae22187022bc8d53cb1b130b38bf8fad4}{
\#define {\bfseries CPGGAIT\_\-H\_\-}}
\label{CpgGait_8h_ae22187022bc8d53cb1b130b38bf8fad4}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{CpgGait_8h_a119fd973ed56aec825ffec56af1000ef}{CpgGait\_\-init} ()
\item 
\hypertarget{CpgGait_8h_a30853c1b1ac13fd771e7580283652ad9}{
void {\bfseries CpgGait\_\-start} ()}
\label{CpgGait_8h_a30853c1b1ac13fd771e7580283652ad9}

\item 
\hypertarget{CpgGait_8h_a6a19f68753327b32781361ee625c21f9}{
void {\bfseries CpgGait\_\-stop} ()}
\label{CpgGait_8h_a6a19f68753327b32781361ee625c21f9}

\item 
\hypertarget{CpgGait_8h_a6ced9cc1acd2fcbc168d76041e51e57a}{
bool {\bfseries CpgGait\_\-isStarted} ()}
\label{CpgGait_8h_a6ced9cc1acd2fcbc168d76041e51e57a}

\item 
\hypertarget{CpgGait_8h_a15ea1549125b9b8f2723a0d7a8690bc2}{
\hyperlink{structHCCpg__t}{HCCpg\_\-t} $\ast$ {\bfseries CpgGait\_\-getClockCpg} ()}
\label{CpgGait_8h_a15ea1549125b9b8f2723a0d7a8690bc2}

\item 
\hypertarget{CpgGait_8h_a7c42c248a9befc333ded6c16813a29bf}{
\hyperlink{structHCCpg__t}{HCCpg\_\-t} $\ast$ {\bfseries CpgGait\_\-getLocalCpg} (int index)}
\label{CpgGait_8h_a7c42c248a9befc333ded6c16813a29bf}

\item 
void \hyperlink{CpgGait_8h_a664ea74b2579070d017da4e891ad2b19}{CpgGait\_\-setCouplingStrenghts} (float g2gStrength, float g2lStrength, float l2gStrength)
\item 
void \hyperlink{CpgGait_8h_a891de0c232941bf1edd82c966083c305}{CpgGait\_\-setAmplitude} (float amplitude, int index)
\item 
void \hyperlink{CpgGait_8h_a5497c342c6bb46381f76a0933a2919e6}{CpgGait\_\-setOffset} (float offset, int index)
\item 
void \hyperlink{CpgGait_8h_a3f4256e810bb864f5c993ccd35b7364f}{CpgGait\_\-setPhaseShift} (float phaseShift, int index)
\item 
\hypertarget{CpgGait_8h_ad584ae086ca956fcbf654e912ad05ea7}{
float {\bfseries CpgGait\_\-getAmplitude} (int index)}
\label{CpgGait_8h_ad584ae086ca956fcbf654e912ad05ea7}

\item 
\hypertarget{CpgGait_8h_a314b2b22c59d900486775a187f3747ca}{
float {\bfseries CpgGait\_\-getOffset} (int index)}
\label{CpgGait_8h_a314b2b22c59d900486775a187f3747ca}

\item 
\hypertarget{CpgGait_8h_a7695afc9d612e3ea8ef864186ebcd197}{
float {\bfseries CpgGait\_\-getPhaseShift} (int index)}
\label{CpgGait_8h_a7695afc9d612e3ea8ef864186ebcd197}

\item 
\hypertarget{CpgGait_8h_acc71fc1e547fe2c1d0af56980fd4a15c}{
float {\bfseries CpgGait\_\-getFrequency} (int index)}
\label{CpgGait_8h_acc71fc1e547fe2c1d0af56980fd4a15c}

\item 
\hypertarget{CpgGait_8h_a2509ccea10afdcb33a747021028b83f5}{
float {\bfseries CpgGait\_\-getFeedbackTerm} (int nr, int index)}
\label{CpgGait_8h_a2509ccea10afdcb33a747021028b83f5}

\item 
void \hyperlink{CpgGait_8h_a62b33178e647bf7a9122c2017acccd7e}{CpgGait\_\-setFrequency} (float hz, int index)
\item 
void \hyperlink{CpgGait_8h_ac3a4b950c9ae98756be582329f899eb4}{CpgGait\_\-setFeedbackTerm} (float term, int nr, int actuatorIndex)
\item 
void \hyperlink{CpgGait_8h_afc42b4a197eaeb398210c6603baa9925}{CpgGait\_\-setActuatorPosHandler} (void(handler)(\hyperlink{structHCCpg__t}{HCCpg\_\-t} $\ast$, int))
\item 
void \hyperlink{CpgGait_8h_ac6c16d1f38293f2e88fdf8d460fa9e56}{CpgGait\_\-getController} (float $\ast$controller)
\item 
void \hyperlink{CpgGait_8h_a94b44bc98a4bd1c5f9c6d821382b4dad}{CpgGait\_\-setController} (float $\ast$controller)
\item 
void \hyperlink{CpgGait_8h_ac082a65a890d909de10c65554388069e}{CpgGait\_\-setUseFeedback} (int feedback)
\item 
void \hyperlink{CpgGait_8h_a1b7e238e26be37ecdb8d74527ca45107}{CpgGait\_\-logController} (int id, FILE $\ast$file)
\item 
void \hyperlink{CpgGait_8h_a5910f5f881215243cece899087211bdd}{CpgGait\_\-loadController} (int id, FILE $\ast$file)
\item 
\hypertarget{CpgGait_8h_aac3827878249c1adb58164bceb52dbd2}{
void {\bfseries CpgGait\_\-loadAverageController} (int id, int nControllers, FILE $\ast$file)}
\label{CpgGait_8h_aac3827878249c1adb58164bceb52dbd2}

\item 
void \hyperlink{CpgGait_8h_af67dc3efa3f9bc2cf3322f56ca54182c}{CpgGait\_\-setLoggers} (FILE $\ast$lCPG, FILE $\ast$lControl)
\item 
void \hyperlink{CpgGait_8h_ab018d098438ab1012fa3cfa934a3434c}{CpgGait\_\-logCpg} (FILE $\ast$log)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{CpgGait_8h}{CpgGait.h} provides a generic, distributed, locomotion system for any actuated modular robot. The locomotion system is based in Hopf central pattern generators. It uses one CPG per module as a shared global clock (cpg's are in phase) and one locally coupled CPG per actuator. The local cpg's are only coupled to the global clock cpg and their phase shift is relative to this global clock.

\begin{DoxySeeAlso}{See also}
\hyperlink{HopfCartesianCpg_8h}{HopfCartesianCpg.h} 
\end{DoxySeeAlso}
\begin{Desc}
\item[\hyperlink{todo__todo000004}{Todo}]Move all references to log files elsewhere\end{Desc}


Created on: May 4, 2009 \begin{DoxyAuthor}{Author}
David Johan Christensen 
\end{DoxyAuthor}


Definition in file \hyperlink{CpgGait_8h_source}{CpgGait.h}.



\subsection{Function Documentation}
\hypertarget{CpgGait_8h_ac6c16d1f38293f2e88fdf8d460fa9e56}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-getController@{CpgGait\_\-getController}}
\index{CpgGait\_\-getController@{CpgGait\_\-getController}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-getController}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-getController (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{controller}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_ac6c16d1f38293f2e88fdf8d460fa9e56}
Get current controller as an array of floats Format: ampl0, phase0,freq0,offset0, ampl1, phase1, freq1, offset1, ... Followed by: feedbackTerms0, feedbackTerms1,... 

Definition at line 104 of file CpgGait.c.

\hypertarget{CpgGait_8h_a119fd973ed56aec825ffec56af1000ef}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-init@{CpgGait\_\-init}}
\index{CpgGait\_\-init@{CpgGait\_\-init}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a119fd973ed56aec825ffec56af1000ef}
Initialize the gait with default values and starts to update the Hopf cpg's, couples the sensor feedback from encoders and updates the actuators position based on the output of the local cpg's. 

Definition at line 173 of file CpgGait.c.

\hypertarget{CpgGait_8h_a5910f5f881215243cece899087211bdd}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-loadController@{CpgGait\_\-loadController}}
\index{CpgGait\_\-loadController@{CpgGait\_\-loadController}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-loadController}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-loadController (
\begin{DoxyParamCaption}
\item[{int}]{id, }
\item[{FILE $\ast$}]{file}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a5910f5f881215243cece899087211bdd}
Depricated Method 

Definition at line 223 of file CpgGait.c.

\hypertarget{CpgGait_8h_a1b7e238e26be37ecdb8d74527ca45107}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-logController@{CpgGait\_\-logController}}
\index{CpgGait\_\-logController@{CpgGait\_\-logController}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-logController}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-logController (
\begin{DoxyParamCaption}
\item[{int}]{id, }
\item[{FILE $\ast$}]{file}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a1b7e238e26be37ecdb8d74527ca45107}
Depricated Method 

Definition at line 192 of file CpgGait.c.

\hypertarget{CpgGait_8h_ab018d098438ab1012fa3cfa934a3434c}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-logCpg@{CpgGait\_\-logCpg}}
\index{CpgGait\_\-logCpg@{CpgGait\_\-logCpg}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-logCpg}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-logCpg (
\begin{DoxyParamCaption}
\item[{FILE $\ast$}]{log}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_ab018d098438ab1012fa3cfa934a3434c}
Depricated Method 

Definition at line 360 of file CpgGait.c.

\hypertarget{CpgGait_8h_afc42b4a197eaeb398210c6603baa9925}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setActuatorPosHandler@{CpgGait\_\-setActuatorPosHandler}}
\index{CpgGait\_\-setActuatorPosHandler@{CpgGait\_\-setActuatorPosHandler}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setActuatorPosHandler}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setActuatorPosHandler (
\begin{DoxyParamCaption}
\item[{void(handler)({\bf HCCpg\_\-t} $\ast$, int)}]{}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_afc42b4a197eaeb398210c6603baa9925}
Set a call back function to handle the actuation based on the cpg instead of the default setActuatorPosition(goal,actuator) 

Definition at line 40 of file CpgGait.c.

\hypertarget{CpgGait_8h_a891de0c232941bf1edd82c966083c305}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setAmplitude@{CpgGait\_\-setAmplitude}}
\index{CpgGait\_\-setAmplitude@{CpgGait\_\-setAmplitude}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setAmplitude}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setAmplitude (
\begin{DoxyParamCaption}
\item[{float}]{amplitude, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a891de0c232941bf1edd82c966083c305}
Set the amplitude of the CPG which controls actuator index \mbox{[}0, 1, 2,..\mbox{]} 

Definition at line 48 of file CpgGait.c.

\hypertarget{CpgGait_8h_a94b44bc98a4bd1c5f9c6d821382b4dad}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setController@{CpgGait\_\-setController}}
\index{CpgGait\_\-setController@{CpgGait\_\-setController}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setController}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setController (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{controller}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a94b44bc98a4bd1c5f9c6d821382b4dad}
Set current controller as an array of floats Format: ampl0, phase0,freq0,offset0, ampl1, phase1, freq1, offset1, ... Followed by: feedbackTerms0, feedbackTerms1,... 

Definition at line 89 of file CpgGait.c.

\hypertarget{CpgGait_8h_a664ea74b2579070d017da4e891ad2b19}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setCouplingStrenghts@{CpgGait\_\-setCouplingStrenghts}}
\index{CpgGait\_\-setCouplingStrenghts@{CpgGait\_\-setCouplingStrenghts}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setCouplingStrenghts}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setCouplingStrenghts (
\begin{DoxyParamCaption}
\item[{float}]{g2gStrength, }
\item[{float}]{g2lStrength, }
\item[{float}]{l2gStrength}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a664ea74b2579070d017da4e891ad2b19}
Set the three different couplings strengths (global to global, global to local and local to local) 

Definition at line 144 of file CpgGait.c.

\hypertarget{CpgGait_8h_ac3a4b950c9ae98756be582329f899eb4}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setFeedbackTerm@{CpgGait\_\-setFeedbackTerm}}
\index{CpgGait\_\-setFeedbackTerm@{CpgGait\_\-setFeedbackTerm}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setFeedbackTerm}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setFeedbackTerm (
\begin{DoxyParamCaption}
\item[{float}]{term, }
\item[{int}]{nr, }
\item[{int}]{actuatorIndex}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_ac3a4b950c9ae98756be582329f899eb4}
Set the feedback terms using in Hopf cpg's, nr indicates which feedback type: 0 -\/ Current actuator pos added to the X equation of the Hopf CPG 1 -\/ Current actuator error added to the X equation of the Hopf CPG 2 -\/ Current actuator pos added to the Y equation of the Hopf CPG 3 -\/ Current actuator error added to the Y equation of the Hopf CPG 

Definition at line 81 of file CpgGait.c.

\hypertarget{CpgGait_8h_a62b33178e647bf7a9122c2017acccd7e}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setFrequency@{CpgGait\_\-setFrequency}}
\index{CpgGait\_\-setFrequency@{CpgGait\_\-setFrequency}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setFrequency}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setFrequency (
\begin{DoxyParamCaption}
\item[{float}]{hz, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a62b33178e647bf7a9122c2017acccd7e}
Set the frequency (in hz) of the CPG which controls actuator index \mbox{[}0, 1, 2,..\mbox{]} 

Definition at line 73 of file CpgGait.c.

\hypertarget{CpgGait_8h_af67dc3efa3f9bc2cf3322f56ca54182c}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setLoggers@{CpgGait\_\-setLoggers}}
\index{CpgGait\_\-setLoggers@{CpgGait\_\-setLoggers}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setLoggers}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setLoggers (
\begin{DoxyParamCaption}
\item[{FILE $\ast$}]{lCPG, }
\item[{FILE $\ast$}]{lControl}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_af67dc3efa3f9bc2cf3322f56ca54182c}
Depricated Method \hypertarget{CpgGait_8h_a5497c342c6bb46381f76a0933a2919e6}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setOffset@{CpgGait\_\-setOffset}}
\index{CpgGait\_\-setOffset@{CpgGait\_\-setOffset}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setOffset}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setOffset (
\begin{DoxyParamCaption}
\item[{float}]{offset, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a5497c342c6bb46381f76a0933a2919e6}
Set the offset of the CPG which controls actuator index \mbox{[}0, 1, 2,..\mbox{]} 

Definition at line 56 of file CpgGait.c.

\hypertarget{CpgGait_8h_a3f4256e810bb864f5c993ccd35b7364f}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setPhaseShift@{CpgGait\_\-setPhaseShift}}
\index{CpgGait\_\-setPhaseShift@{CpgGait\_\-setPhaseShift}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setPhaseShift}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setPhaseShift (
\begin{DoxyParamCaption}
\item[{float}]{phaseShift, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_a3f4256e810bb864f5c993ccd35b7364f}
Set the offset of the CPG which controls actuator index \mbox{[}0, 1, 2,..\mbox{]} 

Definition at line 63 of file CpgGait.c.

\hypertarget{CpgGait_8h_ac082a65a890d909de10c65554388069e}{
\index{CpgGait.h@{CpgGait.h}!CpgGait\_\-setUseFeedback@{CpgGait\_\-setUseFeedback}}
\index{CpgGait\_\-setUseFeedback@{CpgGait\_\-setUseFeedback}!CpgGait.h@{CpgGait.h}}
\subsubsection[{CpgGait\_\-setUseFeedback}]{\setlength{\rightskip}{0pt plus 5cm}void CpgGait\_\-setUseFeedback (
\begin{DoxyParamCaption}
\item[{int}]{feedback}
\end{DoxyParamCaption}
)}}
\label{CpgGait_8h_ac082a65a890d909de10c65554388069e}
Set if encoder feedback should be added to the local Hopf Cpg's otherwise the feedback terms will be ignored 

Definition at line 44 of file CpgGait.c.

