<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ASE: /home/david/ASE/src/control/strategies/SPSALearning/SPSALearning.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5305d82f8fb50ad9c70d324e25522190.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f35fd446e04b8fcd00d38ea9d745d5ab.html">control</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_72a3b6d50c462470fe2c7ec8c900fd08.html">strategies</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_835aa73418e97a58854128078b6dad7d.html">SPSALearning</a>
  </div>
</div>
<div class="contents">
<h1>SPSALearning.h File Reference</h1><code>#include &quot;<a class="el" href="ConfigASE_8h-source.html">ConfigASE.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="RewardCollector_8h-source.html">RewardCollector.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="Message_8h-source.html">Message.h</a>&quot;</code><br>
<code>#include &lt;stdint.h&gt;</code><br>

<p>
<a href="SPSALearning_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSPSALearningMsg__t.html">SPSALearningMsg_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSPSALearningMsgByte__t.html">SPSALearningMsgByte_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#9e6fe5357cc2b5f038ca85257d485281">SPSALearning_init</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#ac5e40ae5e1dbe8672cd05a449545b39">SPSALearning_reset</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process, int random)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#c225a5ff31096068ee5cace6f8f689ef">SPSALearning_update</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#a447a875f8f17cdd4700e99c4838ad36">SPSALearning_ignoreUpdate</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#3da803da8b5ac8e2097035ac59c7e521">SPSALearning_isReady</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#081e9455ebee4286ce3ed6bd9c95eb35">SPSALearning_getReward</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#9757635ea429d56d46ca89ef4425c633">SPSALearning_collectReward</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process, float reward)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#2eb985422cfd6484952e9628b11f3a0b">SPSALearning_getThetaNonPerturbed</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process, int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#59f8aebcfafaa0ba94e6c75b9bce778b">SPSALearning_getTheta</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process, int index, int wrap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPSALearning_8h.html#5076aae2c78c64ef7ad7942ae38aaf51">SPSALearning_setTheta</a> (<a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *process, float *theta)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file provides an implementation of the simultaneous perturbation stochastic approximation (SPSA) method (by James C. Spall). It can be used for any optimization until now it has been used for online optimization of locomotion.<p>
A number of variables, called theta, (scaled in the interval 0-1) are optimized based on a reward signal<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="SPSACpgGait_8h.html">SPSACpgGait.h</a> </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>July 2009 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>David Johan Christensen, Modular Robotics Lab, University of Southern Denmark </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This software is distributed under the BSD open-source license. </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9757635ea429d56d46ca89ef4425c633"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_collectReward" ref="9757635ea429d56d46ca89ef4425c633" args="(SPSALearning_t *process, float reward)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_collectReward           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>reward</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the reward (typically based on local sensor information or a reward message send from an external supervisor. 
</div>
</div><p>
<a class="anchor" name="081e9455ebee4286ce3ed6bd9c95eb35"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_getReward" ref="081e9455ebee4286ce3ed6bd9c95eb35" args="(SPSALearning_t *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SPSALearning_getReward           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the reward received by the learning process. 
</div>
</div><p>
<a class="anchor" name="59f8aebcfafaa0ba94e6c75b9bce778b"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_getTheta" ref="59f8aebcfafaa0ba94e6c75b9bce778b" args="(SPSALearning_t *process, int index, int wrap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SPSALearning_getTheta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wrap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the learning variables (theta) with perturbation (new parameters to explore). 
</div>
</div><p>
<a class="anchor" name="2eb985422cfd6484952e9628b11f3a0b"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_getThetaNonPerturbed" ref="2eb985422cfd6484952e9628b11f3a0b" args="(SPSALearning_t *process, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SPSALearning_getThetaNonPerturbed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the learning variables (theta) without perturbing them (estimation of optimal value so far) 
</div>
</div><p>
<a class="anchor" name="a447a875f8f17cdd4700e99c4838ad36"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_ignoreUpdate" ref="a447a875f8f17cdd4700e99c4838ad36" args="(SPSALearning_t *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_ignoreUpdate           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset reward to zero without changing the variables 
</div>
</div><p>
<a class="anchor" name="9e6fe5357cc2b5f038ca85257d485281"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_init" ref="9e6fe5357cc2b5f038ca85257d485281" args="(SPSALearning_t *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the learning process with default parameters 
</div>
</div><p>
<a class="anchor" name="3da803da8b5ac8e2097035ac59c7e521"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_isReady" ref="3da803da8b5ac8e2097035ac59c7e521" args="(SPSALearning_t *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPSALearning_isReady           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the learning process is ready to be updated. The condition is that it must have received a reward since the last update. 
</div>
</div><p>
<a class="anchor" name="ac5e40ae5e1dbe8672cd05a449545b39"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_reset" ref="ac5e40ae5e1dbe8672cd05a449545b39" args="(SPSALearning_t *process, int random)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>random</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset the variables (theta) to a random value between (0 to 1) if random = 1 otherwise to to 0.5 
</div>
</div><p>
<a class="anchor" name="5076aae2c78c64ef7ad7942ae38aaf51"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_setTheta" ref="5076aae2c78c64ef7ad7942ae38aaf51" args="(SPSALearning_t *process, float *theta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_setTheta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>theta</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the learning variables from an array of float (must have length equal to SPSA_N_PARAMETERS_MAX). 
</div>
</div><p>
<a class="anchor" name="c225a5ff31096068ee5cace6f8f689ef"></a><!-- doxytag: member="SPSALearning.h::SPSALearning_update" ref="c225a5ff31096068ee5cace6f8f689ef" args="(SPSALearning_t *process)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPSALearning_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPSALearning__t.html">SPSALearning_t</a> *&nbsp;</td>
          <td class="paramname"> <em>process</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update variables (theta) in the learning process based on previously received reward and reset the reward to zero 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Nov 5 14:18:44 2009 for ASE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
