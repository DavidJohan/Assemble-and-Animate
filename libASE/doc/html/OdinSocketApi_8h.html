<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ASE: /home/david/ASE/src/targets/odin/odin-ussr/socket-api/OdinSocketApi.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5305d82f8fb50ad9c70d324e25522190.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_64c2e205eb5b24ad2617eaab2cf56d4f.html">targets</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5090c2f1bd39cb1ed3e7087271bd6498.html">odin</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e298a5968246fa72c3a472977a306609.html">odin-ussr</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a1fa02454b78dbe2e20a832fa911eb11.html">socket-api</a>
  </div>
</div>
<div class="contents">
<h1>OdinSocketApi.h File Reference</h1>
<p>
<a href="OdinSocketApi_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#20fd8bd5868383c2e20579a64d540dc3">odinApi_setup</a> (int portRC, int portEvent, char *host, void(*msgHandler)(char *, char, char))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#03cb397b9498d13771754ccf302738db">odinApi_wasSend</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#8956172e77faecf7a374a101812ea05e">odinApi_getName</a> (char *returnString)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#5c455f0de159bc0f39cf42ed3848e96c">odinApi_isActuating</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#aa6818a9c8c95dea765002e7595c2497">odinApi_actuate</a> (float pos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#fab7b7c53d85fc9aeadbb18513c84176">odinApi_disactivate</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#05a9155e6e14b8d01e92bdd0bed6651a">odinApi_getTime</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#fcb1b42ca760f9e367c1104ae64db378">odinApi_getActuatorPosition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#1d286bb8a2c8dcc71fb08470fe39d22a">odinApi_isConnected</a> (int i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#0aefba9b629dd1f12c58b9bdb83f21cc">odinApi_yield</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#0c85058d4369300af1acd9701cc5e74c">odinApi_delay</a> (long ms)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdinSocketApi_8h.html#b08e868e2aa05705a1456b82cc273fdf">odinApi_sendMessage</a> (char *message, char messageSize, char connector)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="OdinSocketApi_8h.html">OdinSocketApi.h</a> provides an interface for an Odin module simulated in the Unified Simulator for Self-Reconfigurable Robots (USSR). API calls to the modules are communicated to USSR though a socket. Similar messages (asynchronous events) to the moduels are send from USSR to the module controller through a seperate socket. In total two sockets are used per module. Initially a call to odinApi_setup(...) must be made. This API builds on top of CommandSender.h and EventListner.h.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>David Johan Christensen, Modular Robotics Lab, AdapTronics Group, Maresk Institute, University of Southern Denmark</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This software is distributed under the BSD open-source license. </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="aa6818a9c8c95dea765002e7595c2497"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_actuate" ref="aa6818a9c8c95dea765002e7595c2497" args="(float pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odinApi_actuate           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>pos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Actuate actuator towards a goal, from 0 to 1 
</div>
</div><p>
<a class="anchor" name="0c85058d4369300af1acd9701cc5e74c"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_delay" ref="0c85058d4369300af1acd9701cc5e74c" args="(long ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odinApi_delay           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>ms</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait ms milliseconds in the USSR simulator 
</div>
</div><p>
<a class="anchor" name="fab7b7c53d85fc9aeadbb18513c84176"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_disactivate" ref="fab7b7c53d85fc9aeadbb18513c84176" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odinApi_disactivate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Turn off actuator (make it passive) 
</div>
</div><p>
<a class="anchor" name="fcb1b42ca760f9e367c1104ae64db378"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_getActuatorPosition" ref="fcb1b42ca760f9e367c1104ae64db378" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float odinApi_getActuatorPosition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the position of the main actuator 
</div>
</div><p>
<a class="anchor" name="8956172e77faecf7a374a101812ea05e"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_getName" ref="8956172e77faecf7a374a101812ea05e" args="(char *returnString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* odinApi_getName           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>returnString</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the name of the module is such a label has been set in USSR 
</div>
</div><p>
<a class="anchor" name="05a9155e6e14b8d01e92bdd0bed6651a"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_getTime" ref="05a9155e6e14b8d01e92bdd0bed6651a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float odinApi_getTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current simulation (USSR) real time in seconds since the simulation started 
</div>
</div><p>
<a class="anchor" name="5c455f0de159bc0f39cf42ed3848e96c"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_isActuating" ref="5c455f0de159bc0f39cf42ed3848e96c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int odinApi_isActuating           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the actuator is currently actuating or if it is disactivated 
</div>
</div><p>
<a class="anchor" name="1d286bb8a2c8dcc71fb08470fe39d22a"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_isConnected" ref="1d286bb8a2c8dcc71fb08470fe39d22a" args="(int i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int odinApi_isConnected           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test if a specific connector is currently connected 
</div>
</div><p>
<a class="anchor" name="b08e868e2aa05705a1456b82cc273fdf"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_sendMessage" ref="b08e868e2aa05705a1456b82cc273fdf" args="(char *message, char messageSize, char connector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int odinApi_sendMessage           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>messageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>connector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a message on a given connector 
</div>
</div><p>
<a class="anchor" name="20fd8bd5868383c2e20579a64d540dc3"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_setup" ref="20fd8bd5868383c2e20579a64d540dc3" args="(int portRC, int portEvent, char *host, void(*msgHandler)(char *, char, char))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odinApi_setup           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>portRC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>portEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *, char, char)&nbsp;</td>
          <td class="paramname"> <em>msgHandler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup the API, two free socket ports portRC and portEvent must be provided for commands and events respectively. Also a host (usually LOCALHOST) and a pointer to a function (e.g. handleMessage(char* message, char messageSize, char channel)) that will handle messages received from other modules. 
</div>
</div><p>
<a class="anchor" name="03cb397b9498d13771754ccf302738db"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_wasSend" ref="03cb397b9498d13771754ccf302738db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int odinApi_wasSend           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the last request to send a command was send correctly 
</div>
</div><p>
<a class="anchor" name="0aefba9b629dd1f12c58b9bdb83f21cc"></a><!-- doxytag: member="OdinSocketApi.h::odinApi_yield" ref="0aefba9b629dd1f12c58b9bdb83f21cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odinApi_yield           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Yield the module, that is wait one physicstimestep in the USSR simulator 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 16:24:40 2010 for ASE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
